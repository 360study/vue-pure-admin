{"version":3,"file":"columns-695e6425.js","sources":["../../../src/views/pure-table/high/page/columns.tsx"],"sourcesContent":["import { tableData } from \"../data\";\nimport { clone, delay } from \"@pureadmin/utils\";\nimport { ref, onMounted, reactive, watchEffect } from \"vue\";\nimport type { PaginationProps, LoadingConfig, Align } from \"@pureadmin/table\";\n\nexport function useColumns() {\n  const dataList = ref([]);\n  const loading = ref(true);\n  const hideVal = ref(\"nohide\");\n  const tableSize = ref(\"default\");\n  const paginationSmall = ref(false);\n  const paginationAlign = ref(\"right\");\n  const columns: TableColumnList = [\n    {\n      label: \"日期\",\n      prop: \"date\",\n      hide: () => (hideVal.value === \"hideDate\" ? true : false)\n    },\n    {\n      label: \"姓名\",\n      prop: \"name\",\n      hide: () => (hideVal.value === \"hideName\" ? true : false)\n    },\n    {\n      label: \"地址\",\n      prop: \"address\",\n      hide: () => (hideVal.value === \"hideAddress\" ? true : false)\n    }\n  ];\n\n  /** 分页配置 */\n  const pagination = reactive<PaginationProps>({\n    pageSize: 10,\n    currentPage: 1,\n    pageSizes: [10, 15, 20],\n    total: 0,\n    align: \"right\",\n    background: true,\n    small: false\n  });\n\n  /** 加载动画配置 */\n  const loadingConfig = reactive<LoadingConfig>({\n    text: \"正在加载第一页...\",\n    viewBox: \"-10, -10, 50, 50\",\n    spinner: `\n        <path class=\"path\" d=\"\n          M 30 15\n          L 28 17\n          M 25.61 25.61\n          A 15 15, 0, 0, 1, 15 30\n          A 15 15, 0, 1, 1, 27.99 7.5\n          L 15 15\n        \" style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0)\"/>\n      `\n    // svg: \"\",\n    // background: rgba()\n  });\n\n  function onChange(val) {\n    pagination.small = val;\n  }\n\n  function onSizeChange(val) {\n    console.log(\"onSizeChange\", val);\n  }\n\n  function onCurrentChange(val) {\n    loadingConfig.text = `正在加载第${val}页...`;\n    loading.value = true;\n    delay(600).then(() => {\n      loading.value = false;\n    });\n  }\n\n  watchEffect(() => {\n    pagination.align = paginationAlign.value as Align;\n  });\n\n  onMounted(() => {\n    delay(600).then(() => {\n      const newList = [];\n      Array.from({ length: 6 }).forEach(() => {\n        newList.push(clone(tableData, true));\n      });\n      dataList.value = newList.flat(Infinity);\n      pagination.total = dataList.value.length;\n      loading.value = false;\n    });\n  });\n\n  return {\n    loading,\n    columns,\n    dataList,\n    hideVal,\n    tableSize,\n    pagination,\n    loadingConfig,\n    paginationAlign,\n    paginationSmall,\n    onChange,\n    onSizeChange,\n    onCurrentChange\n  };\n}\n"],"names":["useColumns","dataList","ref","loading","hideVal","tableSize","paginationSmall","paginationAlign","columns","label","prop","hide","value","pagination","reactive","pageSize","currentPage","pageSizes","total","align","background","small","loadingConfig","text","viewBox","spinner","onChange","val","onSizeChange","console","onCurrentChange","delay","watchEffect","onMounted","newList","then","length","clone","tableData"],"mappings":"qHAKO,SAASA,GAAa,CAC3B,MAAMC,EAAWC,EAAI,CAAA,CAAE,EACjBC,EAAUD,EAAI,EAAI,EAClBE,EAAUF,EAAI,QAAQ,EACtBG,EAAYH,EAAI,SAAS,EACzBI,EAAkBJ,EAAI,EAAK,EAC3BK,EAAkBL,EAAI,OAAO,EAC7BM,EAA2B,CAC/B,CACEC,MAAO,KACPC,KAAM,OACNC,KAAMA,IAAOP,EAAQQ,QAAU,UACjC,EACA,CACEH,MAAO,KACPC,KAAM,OACNC,KAAMA,IAAOP,EAAQQ,QAAU,UACjC,EACA,CACEH,MAAO,KACPC,KAAM,UACNC,KAAMA,IAAOP,EAAQQ,QAAU,aACjC,CAAC,EAIGC,EAAaC,EAA0B,CAC3CC,SAAU,GACVC,YAAa,EACbC,UAAW,CAAC,GAAI,GAAI,EAAE,EACtBC,MAAO,EACPC,MAAO,QACPC,WAAY,GACZC,MAAO,EACT,CAAC,EAGKC,EAAgBR,EAAwB,CAC5CS,KAAM,aACNC,QAAS,mBACTC,QAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYZ,CAAC,EAED,SAASC,EAASC,EAAK,CACrBd,EAAWQ,MAAQM,CACrB,CAEA,SAASC,EAAaD,EAAK,CAAA,CACzBE,SAAOC,EAAmBH,EAAEA,CAC9BL,EAAA,KAAA,QAAAK,QAESG,EAAAA,MAAAA,GACPR,EAAAA,GAAAA,EAAAA,KAAcC,IAAQ,CACfpB,EAAM,MAAO,EACpB4B,CAAAA,EAEA,OAAAC,EAAE,IAAA,CACJnB,EAAA,MAAAN,EAAA,KAEAyB,CAAAA,EACEnB,EAAAA,IAAWM,CACXY,EAAA,GAAA,EAAA,KAAA,IAAA,CAEFE,MAAUC,EAAM,CAAA,EACdH,MAAS,KAAEI,CACHD,OAAAA,EACD,EAAA,QAAM,IAAA,CAAEE,EAAQ,KAAAC,EAAAC,EAAA,EAAA,CAAA,CAAE,CAAC,IACf,MAAMD,EAAe,KAAA,GAAQ,EACtCxB,EAAE,MAAAZ,EAAA,MAAA,OACFA,EAAQ,MAASiC,EACjBrB,CAAAA,IAEA,CACF,QAAAV,EAEK,QAAAK,EACLL,SAAAA,EACAK,QAAAA,EACAP,UAAAA,EACAG,WAAAA,EACAC,cAAAA,EACAQ,gBAAAA,EACAS,gBAAAA,EACAf,SAAAA,EACAD,aAAAA,EACAoB,gBAAAA,EAEAI"}