import{au as E,_ as I}from"./index-4b813511.js";import{g as z,E as M,U as S}from"./arrow-expand-down-644c90a4.js";import{u as s}from"./hooks-c38fc224.js";import{M as R}from"./more-2-fill-1db5715e.js";import{d as $}from"./git-branch-line-7773f756.js";import{d as D}from"./office-building-342e02a9.js";import{S as F}from"./search-931ae65f.js";const O={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},T=O,B={width:24,height:24,body:'<path fill="currentColor" d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/>'},j=B,A=r=>(Vue.pushScopeId("data-v-810b1096"),r=r(),Vue.popScopeId(),r),L={class:"max-w-[260px] h-full min-h-[780px] bg-bg_color"},U={class:"flex items-center h-[34px]"},q=A(()=>Vue.createElementVNode("p",{class:"flex-1 ml-2 font-bold text-base truncate",title:"\u90E8\u95E8\u5217\u8868"}," \u90E8\u95E8\u5217\u8868 ",-1)),H=Vue.defineComponent({__name:"tree",setup(r){const _={children:"children",label:"name"},p=Vue.ref([]),l=Vue.ref(""),{proxy:x}=Vue.getCurrentInstance(),V=Vue.ref(),n=Vue.ref({}),v=(t,e)=>t?e.name.includes(t):!0;function g(t){var o;const e=t.$treeNodeId;n.value[e]=(o=n.value[e])!=null&&o.highlight?Object.assign({id:e},n.value[e],{highlight:!1}):Object.assign({id:e},n.value[e],{highlight:!0}),Object.values(n.value).forEach(a=>{a.id!==e&&(a.highlight=!1)})}function i(t){const e=x.$refs.treeRef.store._getAllNodes();for(let o=0;o<e.length;o++)e[o].expanded=t}function C(){n.value={},l.value="",i(!0)}return Vue.watch(l,t=>{V.value.filter(t)}),Vue.onMounted(async()=>{const{data:t}=await z();p.value=E(t)}),(t,e)=>{const o=Vue.resolveComponent("IconifyIconOffline"),a=Vue.resolveComponent("el-icon"),w=Vue.resolveComponent("el-input"),c=Vue.resolveComponent("el-button"),d=Vue.resolveComponent("el-dropdown-item"),y=Vue.resolveComponent("el-dropdown-menu"),N=Vue.resolveComponent("el-dropdown"),k=Vue.resolveComponent("el-divider"),b=Vue.resolveComponent("el-tree");return Vue.openBlock(),Vue.createElementBlock("div",L,[Vue.createElementVNode("div",U,[q,Vue.createVNode(w,{style:{flex:"2"},size:"small",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=u=>l.value=u),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",clearable:""},{suffix:Vue.withCtx(()=>[Vue.createVNode(a,{class:"el-input__icon"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(o,{icon:Vue.unref(F)},null,8,["icon"]),[[Vue.vShow,l.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),Vue.createVNode(N,null,{dropdown:Vue.withCtx(()=>[Vue.createVNode(y,null,{default:Vue.withCtx(()=>[Vue.createVNode(d,null,{default:Vue.withCtx(()=>[Vue.createVNode(c,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:Vue.unref(s)(Vue.unref(M)),onClick:e[1]||(e[1]=u=>i(!0))},{default:Vue.withCtx(()=>[Vue.createTextVNode(" \u5C55\u5F00\u5168\u90E8 ")]),_:1},8,["icon"])]),_:1}),Vue.createVNode(d,null,{default:Vue.withCtx(()=>[Vue.createVNode(c,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:Vue.unref(s)(Vue.unref(S)),onClick:e[2]||(e[2]=u=>i(!1))},{default:Vue.withCtx(()=>[Vue.createTextVNode(" \u6298\u53E0\u5168\u90E8 ")]),_:1},8,["icon"])]),_:1}),Vue.createVNode(d,null,{default:Vue.withCtx(()=>[Vue.createVNode(c,{class:"reset-margin !h-[20px] !text-gray-500 dark:!text-white dark:hover:!text-primary",link:"",type:"primary",icon:Vue.unref(s)(Vue.unref(j)),onClick:C},{default:Vue.withCtx(()=>[Vue.createTextVNode(" \u91CD\u7F6E\u72B6\u6001 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),default:Vue.withCtx(()=>[Vue.createVNode(o,{class:"w-[28px] cursor-pointer",width:"18px",icon:Vue.unref(R)},null,8,["icon"])]),_:1})]),Vue.createVNode(k),Vue.createVNode(b,{ref_key:"treeRef",ref:V,data:p.value,"node-key":"id",size:"small",props:_,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":v,onNodeClick:g},{default:Vue.withCtx(({node:u,data:h})=>{var f,m;return[Vue.createElementVNode("span",{class:Vue.normalizeClass(["pl-1","pr-1","rounded","flex","items-center","select-none",l.value.trim().length>0&&u.label.includes(l.value)&&"text-red-500",(f=n.value[u.id])!=null&&f.highlight?"dark:text-primary":""]),style:Vue.normalizeStyle({background:(m=n.value[u.id])!=null&&m.highlight?"var(--el-color-primary-light-7)":"transparent"})},[Vue.createVNode(o,{icon:h.type===1?Vue.unref(D):h.type===2?Vue.unref(T):Vue.unref($)},null,8,["icon"]),Vue.createTextVNode(" "+Vue.toDisplayString(u.label),1)],6)]}),_:1},8,["data"])])}}});const Y=I(H,[["__scopeId","data-v-810b1096"]]);export{Y as default};
