{"version":3,"file":"index-bb4fa0c3.js","sources":["../../../node_modules/.pnpm/@iconify-icons+ep@1.2.11/node_modules/@iconify-icons/ep/video-play.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/_virtual/_rollupPluginBabelHelpers.js","../../../node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/utils/debug.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/utils/xgplayerTimeRange.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/utils/util.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/utils/sniffer.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/version.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/error.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/events.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/mediaProxy.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/utils/database.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/constant.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugin/hooksDescriptor.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugin/basePlugin.js","../../../node_modules/.pnpm/delegate@3.2.0/node_modules/delegate/src/closest.js","../../../node_modules/.pnpm/delegate@3.2.0/node_modules/delegate/src/delegate.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugin/plugin.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugin/resizeObserver.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugin/pluginsManager.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/stateClassMap.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/defaultConfig.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugin/preset.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/controls/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/lang/en.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/lang/i18n.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/state.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/player.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/logger/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/replay.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/replay/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/poster/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/play.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/pause.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/start/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/enter/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/common/iconTools.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/utils/draggabilly.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/miniScreen/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/pc/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/mobile/touch.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/seekicon.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/mobile/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/keyboard/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/loading.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/loading/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/progress/innerList.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/progress/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/common/iconPlugin.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/play/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/back.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/fullscreen/backicon.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/requestFull.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/exitFull.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/fullscreen/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/time/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/volumeLarge.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/volumeSmall.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/volumeMuted.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/volume/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/rotate.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/rotate/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/pipIcon.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/pipIconExit.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/pip/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/playNext.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/playNext/index.js","../../../node_modules/.pnpm/downloadjs@1.4.7/node_modules/downloadjs/download.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/download.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/download/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/screenShot/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/common/optionList.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/common/optionsIcon.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/definition/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/playbackRate/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/requestCssFull.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/assets/exitCssFull.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/cssFullScreen/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/error/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/prompt/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/progressPreview/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/common/thumbnail.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/progress/miniProgress.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/dynamicBg/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/lang/zh-cn.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/stats/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/gapJump/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/testspeed/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/plugins/fpsDetect/index.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/presets/default.js","../../../node_modules/.pnpm/xgplayer@3.0.2/node_modules/xgplayer/es/index.umd.js","../../../src/views/components/video/index.vue"],"sourcesContent":["const data = {\n\t\"width\": 1024,\n\t\"height\": 1024,\n\t\"body\": \"<path fill=\\\"currentColor\\\" d=\\\"M512 64a448 448 0 1 1 0 896a448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768a384 384 0 0 0 0 768zm-48-247.616L668.608 512L464 375.616v272.768zm10.624-342.656l249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z\\\"/>\"\n};\nexport default data;\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","var XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nvar STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nvar XGTAG = \"%c[xgplayer]\";\nvar XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function logInfo(message) {\n    var _console;\n    for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      optionalParams[_key - 1] = arguments[_key];\n    }\n    this.config.debug >= 3 && (_console = console).log.apply(_console, [XGTAG, STYLE.info, message].concat(optionalParams));\n  },\n  logWarn: function logWarn(message) {\n    var _console2;\n    for (var _len2 = arguments.length, optionalParams = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      optionalParams[_key2 - 1] = arguments[_key2];\n    }\n    this.config.debug >= 1 && (_console2 = console).warn.apply(_console2, [XGTAG, STYLE.warn, message].concat(optionalParams));\n  },\n  logError: function logError(message) {\n    var _console3;\n    if (this.config.debug < 1) {\n      return;\n    }\n    var _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    for (var _len3 = arguments.length, optionalParams = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      optionalParams[_key3 - 1] = arguments[_key3];\n    }\n    (_console3 = console)[_fun].apply(_console3, [XGTAG, STYLE.error, message].concat(optionalParams));\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar XgplayerTimeRange = /* @__PURE__ */ function() {\n  function XgplayerTimeRange2(bufferedList) {\n    _classCallCheck(this, XgplayerTimeRange2);\n    this.bufferedList = bufferedList;\n  }\n  _createClass(XgplayerTimeRange2, [{\n    key: \"start\",\n    value: function start(index) {\n      return this.bufferedList[index].start;\n    }\n  }, {\n    key: \"end\",\n    value: function end(index) {\n      return this.bufferedList[index].end;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.bufferedList.length;\n    }\n  }]);\n  return XgplayerTimeRange2;\n}();\nexport { XgplayerTimeRange as default };\n","import { typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nvar util = {};\nutil.createDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"div\";\n  var tpl = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var attrs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var cname = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"\";\n  var dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach(function(item) {\n    var key = item;\n    var value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html) {\n  var attrs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  try {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    var dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach(function(key) {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, function(item) {\n      return item === className;\n    });\n  } catch (e) {\n    var orgClassName = el.className && _typeof(el.className) === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && _typeof(el.className) === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach(function(item) {\n        var reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && _typeof(el.className) === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach(function(item) {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  var _arguments = arguments;\n  var classname = [];\n  var _loop = function _loop2(i2) {\n    if (util.typeOf(_arguments[i2]) === \"String\") {\n      classname.push(_arguments[i2]);\n    } else if (util.typeOf(_arguments[i2]) === \"Object\") {\n      Object.keys(_arguments[i2]).map(function(key) {\n        if (_arguments[i2][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  };\n  for (var i = 0; i < arguments.length; i++) {\n    _loop(i);\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;\n  var sel = arguments.length > 1 ? arguments[1] : void 0;\n  var dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  var hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  var minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  var second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    var touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach(function(key) {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map(function(key) {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        var _dst$key;\n        (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  var url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  var a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    var back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, function(node) {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  var id = setTimeout(function() {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (var i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map(function(item) {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  var btn = util.createDom(\"xg-\".concat(name), \"\", {}, \"xgplayer-\".concat(name, \"-img\"));\n  btn.style.backgroundImage = 'url(\"'.concat(imgUrl, '\")');\n  if (width && height) {\n    var w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every(function(item) {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = \"\".concat(w).concat(unit);\n    btn.style.height = \"\".concat(h).concat(unit);\n    btn.style.backgroundSize = \"\".concat(w).concat(unit, \" \").concat(h).concat(unit);\n    if (name === \"start\") {\n      btn.style.margin = \"-\".concat(h / 2).concat(unit, \" auto auto -\").concat(w / 2).concat(unit);\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  var rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    var sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return \"rgba(\".concat(rgb.join(\",\"), \", \").concat(alpha, \")\");\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    var styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map(function(item) {\n      if (item) {\n        var arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map(function(key) {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (var i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom) {\n  var list = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"];\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  var remain = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map(function(key) {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = function(url) {\n  var onload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {\n  };\n  var onerror = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n  };\n  if (!url) {\n    return;\n  }\n  var img = new window.Image();\n  img.onload = function(e) {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = function(e) {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = function(e) {\n  if (e) {\n    e.stopPropagation();\n    e.cancelable && e.preventDefault();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = function(vbuffered) {\n  var maxHoleDuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;\n  var buffered = [];\n  for (var i = 0; i < vbuffered.length; i++) {\n    buffered.push({\n      start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i),\n      end: vbuffered.end(i)\n    });\n  }\n  buffered.sort(function(a, b) {\n    var diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  var buffered2 = [];\n  if (maxHoleDuration) {\n    for (var _i = 0; _i < buffered.length; _i++) {\n      var buf2len = buffered2.length;\n      if (buf2len) {\n        var buf2end = buffered2[buf2len - 1].end;\n        if (buffered[_i].start - buf2end < maxHoleDuration) {\n          if (buffered[_i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[_i].end;\n          }\n        } else {\n          buffered2.push(buffered[_i]);\n        }\n      } else {\n        buffered2.push(buffered[_i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e) {\n  var zoom = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  var _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  var results = url.split(\"/\");\n  var domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  var _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.generateSessionId = function() {\n  var did = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  var d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  var event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  var dom = util.createDom(\"xg-bar\", \"\", {\n    \"data-index\": -1\n  }, className);\n  root.appendChild(dom);\n  return dom;\n};\nfunction isObject(value) {\n  var type = _typeof(value);\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  var lastInvokeTime = 0;\n  var leading = false;\n  var maxing = false;\n  var trailing = true;\n  var useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  var lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  var pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","var VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nvar H264_MIMETYPES = [\"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"avc1.42E01E\", \"mp4v.20.8\", \"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"mp4v.20.8, mp4a.40.2\", \"mp4v.20.240, mp4a.40.2\"];\nvar sniffer = {\n  get device() {\n    var r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    var reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter(function(key) {\n      return reg[key].test(ua);\n    }))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    var ua = navigator.userAgent;\n    var isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    var isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    var isAndroid = /(?:Android)/.test(ua);\n    var isFireFox = /(?:Firefox)/.test(ua);\n    var isTablet = /(?:iPad|PlayBook)/.test(ua) || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    var isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    var isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    var isIpad = /(?:iPad|PlayBook)/.test(ua);\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    var ua = navigator.userAgent;\n    var reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    var _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      var version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    var reg = /(micromessenger)\\/([\\d.]+)/;\n    var match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4: function isSupportMP4() {\n    var result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    var a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map(function(key) {\n        if (a.canPlayType('video/mp4; codecs=\"'.concat(key, '\"')) === \"probably\") {\n          result.isSupport = true;\n          result.mime += \"||\".concat(key);\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isHevcSupported: function isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported: function probeConfigSupported(info) {\n    var defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      var videoConfig = info.video || {};\n      var audioConfig = info.audio || {};\n      try {\n        var videoSupported = MediaSource.isTypeSupported(videoConfig.contentType);\n        var audioSupported = MediaSource.isTypeSupported(audioConfig.contentType);\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.0.2\";\nexport { version as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport version from \"./version.js\";\nimport util from \"./utils/util.js\";\nvar ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nvar ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nvar Errors = /* @__PURE__ */ _createClass(\n  function Errors2(player) {\n    var errorInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      errorType: \"\",\n      errorCode: 0,\n      errorMessage: \"\",\n      originError: \"\",\n      ext: {},\n      mediaError: null\n    };\n    _classCallCheck(this, Errors2);\n    var ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      var mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      var duration = player.duration, currentTime = player.currentTime, ended = player.ended, src = player.src, currentSrc = player.currentSrc;\n      var _player$media = player.media, readyState = _player$media.readyState, networkState = _player$media.networkState;\n      var _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      var r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map(function(key) {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        var _r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        var arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (var i = 0; i < arguments.length; i++) {\n          _r[arr[i]] = arguments[i];\n        }\n        _r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return _r;\n      }\n    }\n  }\n);\nexport { ERROR_TYPE_MAP, Errors as default };\n","var PLAY = \"play\";\nvar PLAYING = \"playing\";\nvar ENDED = \"ended\";\nvar PAUSE = \"pause\";\nvar ERROR = \"error\";\nvar SEEKING = \"seeking\";\nvar SEEKED = \"seeked\";\nvar TIME_UPDATE = \"timeupdate\";\nvar WAITING = \"waiting\";\nvar CANPLAY = \"canplay\";\nvar CANPLAY_THROUGH = \"canplaythrough\";\nvar DURATION_CHANGE = \"durationchange\";\nvar VOLUME_CHANGE = \"volumechange\";\nvar LOADED_DATA = \"loadeddata\";\nvar RATE_CHANGE = \"ratechange\";\nvar PROGRESS = \"progress\";\nvar LOAD_START = \"loadstart\";\nvar EMPTIED = \"emptied\";\nvar STALLED = \"stalled\";\nvar SUSPEND = \"suspend\";\nvar ABORT = \"abort\";\nvar BUFFER_CHANGE = \"bufferedChange\";\nvar PLAYER_FOCUS = \"focus\";\nvar PLAYER_BLUR = \"blur\";\nvar READY = \"ready\";\nvar URL_NULL = \"urlNull\";\nvar AUTOPLAY_STARTED = \"autoplay_started\";\nvar AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nvar COMPLETE = \"complete\";\nvar REPLAY = \"replay\";\nvar DESTROY = \"destroy\";\nvar URL_CHANGE = \"urlchange\";\nvar DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nvar FULLSCREEN_CHANGE = \"fullscreen_change\";\nvar CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nvar MINI_STATE_CHANGE = \"mini_state_change\";\nvar DEFINITION_CHANGE = \"definition_change\";\nvar BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nvar AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nvar SEI_PARSED = \"SEI_PARSED\";\nvar RETRY = \"retry\";\nvar VIDEO_RESIZE = \"video_resize\";\nvar PIP_CHANGE = \"pip_change\";\nvar ROTATE = \"rotate\";\nvar SCREEN_SHOT = \"screenShot\";\nvar PLAYNEXT = \"playnext\";\nvar SHORTCUT = \"shortcut\";\nvar XGLOG = \"xglog\";\nvar USER_ACTION = \"user_action\";\nvar RESET = \"reset\";\nvar SWITCH_SUBTITLE = \"switch_subtitle\";\nvar VIDEO_EVENTS = [\"play\", \"playing\", \"ended\", \"pause\", \"error\", \"seeking\", \"seeked\", \"timeupdate\", \"waiting\", \"canplay\", \"canplaythrough\", \"durationchange\", \"volumechange\", \"loadeddata\", \"ratechange\", \"progress\", \"loadstart\", \"emptied\", \"stalled\", \"suspend\", \"abort\", \"lowdecode\"];\nvar STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nvar FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LOADED_DATA, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, defineProperty as _defineProperty, get as _get, getPrototypeOf as _getPrototypeOf } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return function(e, _err) {\n    var eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      var _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      var callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nvar MediaProxy = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(MediaProxy2, _EventEmitter);\n  var _super = _createSuper(MediaProxy2);\n  function MediaProxy2(options) {\n    var _this;\n    _classCallCheck(this, MediaProxy2);\n    _this = _super.call(this, options);\n    _this._hasStart = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._internalOp = {};\n    _this._lastMuted = false;\n    _this.vtype = \"MP4\";\n    _this._rate = -1;\n    _this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\"\n    }, options.videoConfig, options.videoAttributes);\n    var playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      _this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete _this.mediaConfig.playsinline;\n      delete _this.mediaConfig[\"webkit-playsinline\"];\n      delete _this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      _this.mediaConfig.loop = \"loop\";\n    }\n    _this.media = util.createDom(_this.mediaConfig.mediaType, \"\", _this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      _this.media.defaultPlaybackRate = _this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      _this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      _this.media.muted = true;\n      _this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      _this.media.autoplay = true;\n    }\n    _this._interval = {};\n    _this.mediaEventMiddleware = {};\n    _this.attachVideoEvents();\n    return _this;\n  }\n  _createClass(MediaProxy2, [{\n    key: \"setEventsMiddleware\",\n    value: function setEventsMiddleware(middlewares) {\n      var _this2 = this;\n      Object.keys(middlewares).map(function(key) {\n        _this2.mediaEventMiddleware[key] = middlewares[key];\n      });\n    }\n  }, {\n    key: \"removeEventsMiddleware\",\n    value: function removeEventsMiddleware(middlewares) {\n      var _this3 = this;\n      Object.keys(middlewares).map(function(key) {\n        delete _this3.mediaEventMiddleware[key];\n      });\n    }\n  }, {\n    key: \"attachVideoEvents\",\n    value: function attachVideoEvents() {\n      var _this4 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      if (!this._evHandlers) {\n        this._evHandlers = VIDEO_EVENTS.map(function(eventKey) {\n          var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n          if (typeof _this4[funName] === \"function\") {\n            _this4.on(eventKey, _this4[funName]);\n          }\n          return _defineProperty({}, eventKey, getVideoEventHandler(eventKey, _this4));\n        });\n      }\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.addEventListener(eventKey, item[eventKey], false);\n      });\n    }\n  }, {\n    key: \"detachVideoEvents\",\n    value: function detachVideoEvents() {\n      var _this5 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.removeEventListener(eventKey, item[eventKey], false);\n      });\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n        if (typeof _this5[funName] === \"function\") {\n          _this5.off(eventKey, _this5[funName]);\n        }\n      });\n      this._evHandlers = null;\n    }\n  }, {\n    key: \"_attachSourceEvents\",\n    value: function _attachSourceEvents(video, urls) {\n      var _this6 = this;\n      video.removeAttribute(\"src\");\n      video.load();\n      urls.forEach(function(item) {\n        _this6.media.appendChild(util.createDom(\"source\", \"\", {\n          src: \"\".concat(item.src),\n          type: \"\".concat(item.type || \"\")\n        }));\n      });\n      var _c = video.children;\n      if (!_c) {\n        return;\n      }\n      this._videoSourceCount = _c.length;\n      var _eHandler = null;\n      for (var i = 0; i < this._evHandlers.length; i++) {\n        if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n          _eHandler = this._evHandlers[i];\n          break;\n        }\n      }\n      !this._sourceError && (this._sourceError = function(e) {\n        _this6._videoSourceCount--;\n        if (_this6._videoSourceCount === 0) {\n          var _err = {\n            code: 4,\n            message: \"sources load error\"\n          };\n          _eHandler ? _eHandler.error(e, _err) : _this6.errorHandler(\"error\", _err);\n        }\n      });\n      for (var _i = 0; _i < _c.length; _i++) {\n        _c[_i].addEventListener(\"error\", this._sourceError);\n      }\n    }\n  }, {\n    key: \"_detachSourceEvents\",\n    value: function _detachSourceEvents(video) {\n      var _c = video.children;\n      if (!_c || _c.length === 0 || !this._sourceError) {\n        return;\n      }\n      for (var i = 0; i < _c.length; i++) {\n        _c[i].removeEventListener(\"error\", this._sourceError);\n      }\n      while (_c.length > 0) {\n        video.removeChild(_c[0]);\n      }\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler(name) {\n      var error = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n      if (this.media && (this.media.error || error)) {\n        var _e = this.media.error || error;\n        var type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n        var message = _e.message;\n        if (!this.media.currentSrc) {\n          message = \"empty_src\";\n          _e = {\n            code: 6,\n            message\n          };\n        }\n        this.emit(name, new Errors(this, {\n          errorType: type,\n          errorCode: _e.code,\n          errorMessage: _e.message || \"\",\n          mediaError: _e\n        }));\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.media) {\n        if (this.media.pause) {\n          this.media.pause();\n          this.media.muted = true;\n        }\n        this.media.removeAttribute(\"src\");\n        this.media.load();\n      }\n      this._currentTime = 0;\n      this._duration = 0;\n      this.mediaConfig = null;\n      for (var k in this._interval) {\n        if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n          clearInterval(this._interval[k]);\n          this._interval[k] = null;\n        }\n      }\n      this.detachVideoEvents();\n      this.media = null;\n      this.mediaEventMiddleware = {};\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"video\",\n    get: function get() {\n      return this.media;\n    },\n    set: function set(media) {\n      this.media = media;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var ret = this.media ? this.media.play() : null;\n      return ret;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.media && this.media.pause();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.media && this.media.load();\n    }\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType(type) {\n      return this.media ? this.media.canPlayType(type) : false;\n    }\n  }, {\n    key: \"getBufferedRange\",\n    value: function getBufferedRange(buffered) {\n      var range = [0, 0];\n      if (!this.media) {\n        return range;\n      }\n      if (!buffered) {\n        buffered = this.media.buffered;\n      }\n      var currentTime = this.media.currentTime;\n      if (buffered) {\n        for (var i = 0, len = buffered.length; i < len; i++) {\n          range[0] = buffered.start(i);\n          range[1] = buffered.end(i);\n          if (range[0] <= currentTime && currentTime <= range[1]) {\n            break;\n          }\n        }\n      }\n      if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n        return range;\n      } else {\n        return [0, 0];\n      }\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return this.media ? this.media.autoplay : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.autoplay = isTrue);\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      return this.media ? this.media.buffered : null;\n    }\n  }, {\n    key: \"buffered2\",\n    get: function get() {\n      return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n    }\n  }, {\n    key: \"bufferedPoint\",\n    get: function get() {\n      var ret = {\n        start: 0,\n        end: 0\n      };\n      if (!this.media) {\n        return ret;\n      }\n      var _buffered = this.media.buffered;\n      if (!_buffered || _buffered.length === 0) {\n        return ret;\n      }\n      for (var i = 0; i < _buffered.length; i++) {\n        if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n          return {\n            start: _buffered.start(i),\n            end: _buffered.end(i)\n          };\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"crossOrigin\",\n    get: function get() {\n      return this.media ? this.media.crossOrigin : \"\";\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.crossOrigin = isTrue);\n    }\n  }, {\n    key: \"currentSrc\",\n    get: function get() {\n      return this.media ? this.media.currentSrc : \"\";\n    },\n    set: function set(src) {\n      this.media && (this.media.currentSrc = src);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (!this.media) {\n        return 0;\n      }\n      return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n    },\n    set: function set(time) {\n      this.media && (this.media.currentTime = time);\n    }\n  }, {\n    key: \"defaultMuted\",\n    get: function get() {\n      return this.media ? this.media.defaultMuted : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.defaultMuted = isTrue);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.media ? this.media.ended : false;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.media.error;\n    }\n  }, {\n    key: \"errorNote\",\n    get: function get() {\n      var err = this.media.error;\n      if (!err) {\n        return \"\";\n      }\n      var status = [\"MEDIA_ERR_ABORTED\", \"MEDIA_ERR_NETWORK\", \"MEDIA_ERR_DECODE\", \"MEDIA_ERR_SRC_NOT_SUPPORTED\"];\n      return status[this.media.error.code - 1];\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return this.media ? this.media.loop : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.loop = isTrue);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.media ? this.media.muted : false;\n    },\n    set: function set(isTrue) {\n      if (!this.media || this.media.muted === isTrue) {\n        return;\n      }\n      this._lastMuted = this.media.muted;\n      this.media.muted = isTrue;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return this.media.networkState;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this.media ? this.media.paused : true;\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.media ? this.media.playbackRate : 0;\n    },\n    set: function set(rate) {\n      if (!this.media || rate === Infinity) {\n        return;\n      }\n      this.media.defaultPlaybackRate = rate;\n      this.media.playbackRate = rate;\n    }\n  }, {\n    key: \"played\",\n    get: function get() {\n      return this.media ? this.media.played : null;\n    }\n  }, {\n    key: \"preload\",\n    get: function get() {\n      return this.media ? this.media.preload : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.preload = isTrue);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return this.media.readyState;\n    }\n  }, {\n    key: \"seekable\",\n    get: function get() {\n      return this.media ? this.media.seekable : false;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return this.media ? this.media.seeking : false;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return this.media ? this.media.src : \"\";\n    },\n    set: function set(url) {\n      if (!this.media) {\n        return;\n      }\n      this.emit(URL_CHANGE, url);\n      this.emit(WAITING);\n      this._currentTime = 0;\n      this._duration = 0;\n      if (/^blob/.test(this.media.currentSrc) || /^blob/.test(this.media.src)) {\n        this.onWaiting();\n        return;\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\") {\n        this._attachSourceEvents(this.media, url);\n      } else if (url) {\n        this.media.src = url;\n      } else {\n        this.media.removeAttribute(\"src\");\n      }\n      this.load();\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.media ? this.media.volume : 0;\n    },\n    set: function set(vol) {\n      if (vol === Infinity || !this.media) {\n        return;\n      }\n      this.media.volume = vol;\n    }\n  }, {\n    key: \"addInnerOP\",\n    value: function addInnerOP(event) {\n      this._internalOp[event] = true;\n    }\n  }, {\n    key: \"removeInnerOP\",\n    value: function removeInnerOP(event) {\n      delete this._internalOp[event];\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      var _get2;\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      (_get2 = _get(_getPrototypeOf(MediaProxy2.prototype), \"emit\", this)).call.apply(_get2, [this, event, data].concat(args));\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _get3;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      (_get3 = _get(_getPrototypeOf(MediaProxy2.prototype), \"on\", this)).call.apply(_get3, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _get4;\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      (_get4 = _get(_getPrototypeOf(MediaProxy2.prototype), \"once\", this)).call.apply(_get4, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _get5;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n      (_get5 = _get(_getPrototypeOf(MediaProxy2.prototype), \"off\", this)).call.apply(_get5, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      _get(_getPrototypeOf(MediaProxy2.prototype), \"removeAllListeners\", this).call(this);\n    }\n  }]);\n  return MediaProxy2;\n}(EventEmitter);\nexport { MediaProxy as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar INDEXDB = /* @__PURE__ */ function() {\n  function INDEXDB2() {\n    var mydb = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n      name: \"xgplayer\",\n      version: 1,\n      db: null,\n      ojstore: {\n        name: \"xg-m4a\",\n        keypath: \"vid\"\n      }\n    };\n    _classCallCheck(this, INDEXDB2);\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  _createClass(INDEXDB2, [{\n    key: \"openDB\",\n    value: function openDB(callback) {\n      var _this = this;\n      var self = this;\n      var version = this.myDB.version || 1;\n      var request = self.indexedDB.open(self.myDB.name, version);\n      request.onerror = function(e) {\n      };\n      request.onsuccess = function(e) {\n        _this.myDB.db = e.target.result;\n        callback.call(self);\n      };\n      request.onupgradeneeded = function(e) {\n        var db = e.target.result;\n        e.target.transaction;\n        if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n          db.createObjectStore(self.myDB.ojstore.name, {\n            keyPath: self.myDB.ojstore.keypath\n          });\n        }\n      };\n    }\n  }, {\n    key: \"deletedb\",\n    value: function deletedb() {\n      var self = this;\n      self.indexedDB.deleteDatabase(this.myDB.name);\n    }\n  }, {\n    key: \"closeDB\",\n    value: function closeDB() {\n      this.myDB.db.close();\n    }\n  }, {\n    key: \"addData\",\n    value: function addData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.add(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"putData\",\n    value: function putData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.put(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"getDataByKey\",\n    value: function getDataByKey(storename, key, callback) {\n      var self = this;\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request = store.get(key);\n      request.onerror = function() {\n        callback.call(self, null);\n      };\n      request.onsuccess = function(e) {\n        var result = e.target.result;\n        callback.call(self, result);\n      };\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(storename, key) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.delete(key);\n    }\n  }, {\n    key: \"clearData\",\n    value: function clearData(storename) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.clear();\n    }\n  }]);\n  return INDEXDB2;\n}();\nexport { INDEXDB as default };\n","var FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nvar GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nvar EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nvar PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction callHandler(obj, handler, next) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var ret = handler.call.apply(handler, [obj].concat(args));\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then(function() {\n      for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args2[_key2] = arguments[_key2];\n      }\n      next.call.apply(next, [obj].concat(args2));\n    });\n  } else {\n    next.call.apply(next, [obj].concat(args));\n  }\n}\nfunction hook(hookName, handler) {\n  var preset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    pre: null,\n    next: null\n  };\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    var _arguments = arguments, _this = this;\n    if (preset.pre) {\n      try {\n        var _preset$pre;\n        (_preset$pre = preset.pre).call.apply(_preset$pre, [this].concat(Array.prototype.slice.call(arguments)));\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \":pre error] >> \").concat(e.message);\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        var _this$__hooks$hookNam;\n        var preRet = (_this$__hooks$hookNam = this.__hooks[hookName]).call.apply(_this$__hooks$hookNam, [this, this].concat(Array.prototype.slice.call(arguments)));\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then(function(isContinue) {\n              if (isContinue !== false) {\n                callHandler.apply(void 0, [_this, handler, preset.next].concat(_toConsumableArray(_arguments)));\n              }\n            }).catch(function(e) {\n              throw e;\n            });\n          } else {\n            callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n          }\n        } else if (preRet === void 0) {\n          callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n        }\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \"] >> \").concat(e.message);\n        throw e;\n      }\n    } else {\n      callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(\"has no supported hook which name [\".concat(hookName, \"]\"));\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return plugin.useHooks && plugin.useHooks.apply(plugin, args);\n}\nfunction removePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return plugin.removeHooks && plugin.removeHooks.apply(plugin, args);\n  }\n}\nfunction hooksDescriptor(instance) {\n  var presetHooks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n  instance.__hooks = {};\n  presetHooks && presetHooks.map(function(item) {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: function get() {\n      return instance.__hooks && Object.keys(instance.__hooks).map(function(key) {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    var _obj$__hooks$hookName;\n    var ret = (_obj$__hooks$hookName = obj.__hooks[hookName]).call.apply(_obj$__hooks$hookName, [obj, obj].concat(args));\n    if (ret && ret.then) {\n      ret.then(function(data) {\n        return data === false ? null : handler.call.apply(handler, [obj, obj].concat(args));\n      }).catch(function(e) {\n        console.warn(\"[runHooks]\".concat(hookName, \" reject\"), e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call.apply(handler, [obj, obj].concat(args));\n    }\n  } else {\n    return handler.call.apply(handler, [obj, obj].concat(args));\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(\"[\".concat(pluginName, \"] event or callback cant be undefined or null when call \").concat(msg));\n}\nvar BasePlugin = /* @__PURE__ */ function() {\n  function BasePlugin2(args) {\n    _classCallCheck(this, BasePlugin2);\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  _createClass(BasePlugin2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__init\",\n    value: function __init(args) {\n      this.player = args.player;\n      this.playerConfig = args.player && args.player.config;\n      this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n      this.logger = args.player && args.player.logger;\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.player.i18n;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.player.i18nKeys;\n    }\n  }, {\n    key: \"domEventType\",\n    get: function get() {\n      var _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n      if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n        _e = this.playerConfig.domEventType;\n      }\n      return _e;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__events[event] = callback;\n        this.player.on(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this.__events[item] = callback;\n          _this.player.on(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _this2 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__onceEvents[event] = callback;\n        this.player.once(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this2.__onceEvents[item] = callback;\n          _this2.player.once(event, callback);\n        });\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _this3 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        delete this.__events[event];\n        this.player.off(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          delete _this3.__events[event];\n          _this3.player.off(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      var _this4 = this;\n      [\"__events\", \"__onceEvents\"].forEach(function(key) {\n        Object.keys(_this4[key]).forEach(function(item) {\n          _this4[key][item] && _this4.off(item, _this4[key][item]);\n          item && delete _this4[key][item];\n        });\n      });\n      this.__events = {};\n      this.__onceEvents = {};\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$player;\n      if (!this.player) {\n        return;\n      }\n      for (var _len = arguments.length, res = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        res[_key - 1] = arguments[_key];\n      }\n      (_this$player = this.player).emit.apply(_this$player, [event].concat(res));\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action) {\n      var params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      if (!this.player) {\n        return;\n      }\n      var nParams = _objectSpread2(_objectSpread2({}, params), {}, {\n        pluginName: this.pluginName\n      });\n      this.player.emitUserAction(event, action, nParams);\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      if (!this.player) {\n        return;\n      }\n      name && (options.pluginName = name);\n      return this.player.registerPlugin({\n        plugin,\n        options\n      });\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.player ? this.player.getPlugin(name) : null;\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this5 = this;\n      var player = this.player;\n      var pluginName = this.pluginName;\n      this.offAll();\n      util.clearAllTimers(this);\n      if (util.checkIsFunction(this.destroy)) {\n        this.destroy();\n      }\n      [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map(function(item) {\n        _this5[item] = null;\n      });\n      player.unRegisterPlugin(pluginName);\n      delHooksDescriptor(this);\n    }\n  }], [{\n    key: \"defineGetterOrSetter\",\n    value: function defineGetterOrSetter(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(Obj, key, map[key]);\n        }\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return \"pluginName\";\n    }\n  }]);\n  return BasePlugin2;\n}();\nexport { BasePlugin as default };\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport BasePlugin from \"./basePlugin.js\";\nimport _delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nvar ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nvar POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (_typeof(icon) === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return \"\".concat(classname, \" \").concat(icon.class);\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (_typeof(icon) === \"object\" && icon.attr && _typeof(icon.attr) === \"object\") {\n    Object.keys(icon.attr).map(function(key) {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key) {\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  var attr = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  var pluginName = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n  var newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map(function(key2) {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, \"xg-img \".concat(classname));\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map(function(key2) {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is a function mast return an Element Object\"));\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(\"Plugin named [\".concat(pluginName, \"]:createIcon\"), e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is invalid\"));\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  var _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map(function(key) {\n    var orgIcon = iconsConfig[key];\n    var classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    var attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    var newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map(function(key) {\n    Object.defineProperty(plugin.langText, key, {\n      get: function get() {\n        var lang = plugin.lang, i18n = plugin.i18n;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nvar Plugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Plugin2, _BasePlugin);\n  var _super = _createSuper(Plugin2);\n  function Plugin2() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _classCallCheck(this, Plugin2);\n    _this = _super.call(this, args);\n    _this.__delegates = [];\n    return _this;\n  }\n  _createClass(Plugin2, [{\n    key: \"__init\",\n    value: function __init(args) {\n      _get(_getPrototypeOf(Plugin2.prototype), \"__init\", this).call(this, args);\n      if (!args.root) {\n        return;\n      }\n      var _parent = args.root;\n      var _el = null;\n      this.icons = {};\n      this.root = null;\n      this.parent = null;\n      var _orgicons = this.registerIcons() || {};\n      registerIconsObj(_orgicons, this);\n      this.langText = {};\n      var defaultTexConfig = this.registerLanguageTexts() || {};\n      registerTextObj(defaultTexConfig, this);\n      var renderStr = \"\";\n      try {\n        renderStr = this.render();\n      } catch (e) {\n        XG_DEBUG.logError(\"Plugin:\".concat(this.pluginName, \":render\"), e);\n        throw new Error(\"Plugin:\".concat(this.pluginName, \":render:\").concat(e.message));\n      }\n      if (renderStr) {\n        _el = Plugin2.insert(renderStr, _parent, args.index);\n        _el.setAttribute(\"data-index\", args.index);\n      } else if (args.tag) {\n        _el = util.createDom(args.tag, \"\", args.attr, args.name);\n        _el.setAttribute(\"data-index\", args.index);\n        _parent.appendChild(_el);\n      } else {\n        return;\n      }\n      this.root = _el;\n      this.parent = _parent;\n      var attr = this.config.attr || {};\n      var style = this.config.style || {};\n      this.setAttr(attr);\n      this.setStyle(style);\n      if (this.config.index) {\n        this.root.setAttribute(\"data-index\", this.config.index);\n      }\n      this.__registerChildren();\n    }\n  }, {\n    key: \"__registerChildren\",\n    value: function __registerChildren() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this._children = [];\n      var children = this.children();\n      if (children && _typeof(children) === \"object\") {\n        if (Object.keys(children).length > 0) {\n          Object.keys(children).map(function(item) {\n            var name = item;\n            var _plugin = children[name];\n            var options = {\n              root: _this2.root\n            };\n            var config, _Plugin;\n            if (typeof _plugin === \"function\") {\n              config = _this2.config[name] || {};\n              _Plugin = _plugin;\n            } else if (_typeof(_plugin) === \"object\" && typeof _plugin.plugin === \"function\") {\n              config = _plugin.options ? util.deepCopy(_this2.config[name] || {}, _plugin.options) : _this2.config[name] || {};\n              _Plugin = _plugin.plugin;\n            }\n            options.config = config;\n            config.index !== void 0 && (options.index = config.index);\n            config.root && (options.root = config.root);\n            _this2.registerPlugin(_Plugin, options, name);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n      function checkChildren(node, callback) {\n        for (var i = 0; i < node.children.length; i++) {\n          if (node.children[i].children.length > 0) {\n            checkChildren(node.children[i], callback);\n          } else {\n            callback(node.children[i]);\n          }\n        }\n      }\n      var root = this.root, i18n = this.i18n, langText = this.langText;\n      if (root) {\n        checkChildren(root, function(node) {\n          var langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n          if (!langKey) {\n            return;\n          }\n          var langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n          if (langTextShow) {\n            node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"changeLangTextKey\",\n    value: function changeLangTextKey(dom) {\n      var key = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n      var i18n = this.i18n || {};\n      var langText = this.langText;\n      dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n      var text = i18n[key] || langText[key] || \"\";\n      if (text) {\n        dom.innerHTML = text;\n      }\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return this._children;\n    }\n  }, {\n    key: \"children\",\n    value: function children() {\n      return {};\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      options.root = options.root || this.root;\n      var _c = _get(_getPrototypeOf(Plugin2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      this._children.push(_c);\n      return _c;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {};\n    }\n  }, {\n    key: \"registerLanguageTexts\",\n    value: function registerLanguageTexts() {\n      return {};\n    }\n  }, {\n    key: \"find\",\n    value: function find(qs) {\n      if (!this.root) {\n        return;\n      }\n      return this.root.querySelector(qs);\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(querySelector, eventType, callback) {\n      var _this3 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this3.bindEL(item, eventType);\n          });\n        } else {\n          this.bindEL(querySelector, eventType);\n        }\n      } else {\n        var ret = Plugin2.delegate.call(this, this.root, querySelector, eventType, callback);\n        this.__delegates = this.__delegates.concat(ret);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(querySelector, eventType) {\n      var _this4 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this4.unbindEL(item, eventType);\n          });\n        } else {\n          this.unbindEL(querySelector, eventType);\n        }\n      } else {\n        var key = \"\".concat(querySelector, \"_\").concat(eventType);\n        for (var i = 0; i < this.__delegates.length; i++) {\n          if (this.__delegates[i].key === key) {\n            this.__delegates[i].destroy();\n            this.__delegates.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(name, value) {\n      var _this5 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.style[name] = value;\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this5.root.style[key] = name[key];\n        });\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(name, value) {\n      var _this6 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.setAttribute(name, value);\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this6.root.setAttribute(key, name[key]);\n        });\n      }\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(htmlStr, callback) {\n      if (!this.root) {\n        return;\n      }\n      this.root.innerHTML = htmlStr;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  }, {\n    key: \"bindEL\",\n    value: function bindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.addEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"unbindEL\",\n    value: function unbindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.removeEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.style.display = value !== void 0 ? value : \"block\";\n      var cs = window.getComputedStyle(this.root, null);\n      var cssDisplayValue = cs.getPropertyValue(\"display\");\n      if (cssDisplayValue === \"none\") {\n        return this.root.style.display = \"block\";\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root && (this.root.style.display = \"none\");\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(pdom, child) {\n      if (!this.root) {\n        return null;\n      }\n      if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n        return this.root.appendChild(arguments[0]);\n      }\n      if (!child || !(child instanceof window.Element)) {\n        return null;\n      }\n      try {\n        if (typeof pdom === \"string\") {\n          return this.find(pdom).appendChild(child);\n        } else {\n          return pdom.appendChild(child);\n        }\n      } catch (err) {\n        XG_DEBUG.logError(\"Plugin:appendChild\", err);\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this7 = this;\n      var player = this.player;\n      this.__delegates.map(function(item) {\n        item.destroy();\n      });\n      this.__delegates = [];\n      if (this._children instanceof Array) {\n        this._children.map(function(item) {\n          player.unRegisterPlugin(item.pluginName);\n        });\n        this._children = null;\n      }\n      if (this.root) {\n        if (this.root.hasOwnProperty(\"remove\")) {\n          this.root.remove();\n        } else if (this.root.parentNode) {\n          this.root.parentNode.removeChild(this.root);\n        }\n      }\n      _get(_getPrototypeOf(Plugin2.prototype), \"__destroy\", this).call(this);\n      this.icons = {};\n      [\"root\", \"parent\"].map(function(item) {\n        _this7[item] = null;\n      });\n    }\n  }], [{\n    key: \"insert\",\n    value: function insert(html, parent) {\n      var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var len = parent.children.length;\n      var insertIdx = Number(index);\n      var isDomElement = html instanceof window.Node;\n      if (len) {\n        var i = 0;\n        var coordinate = null;\n        var mode = \"\";\n        for (; i < len; i++) {\n          coordinate = parent.children[i];\n          var curIdx = Number(coordinate.getAttribute(\"data-index\"));\n          if (curIdx >= insertIdx) {\n            mode = \"beforebegin\";\n            break;\n          } else if (curIdx < insertIdx) {\n            mode = \"afterend\";\n          }\n        }\n        if (isDomElement) {\n          if (mode === \"afterend\") {\n            parent.appendChild(html);\n          } else {\n            parent.insertBefore(html, coordinate);\n          }\n        } else {\n          coordinate.insertAdjacentHTML(mode, html);\n        }\n        return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n      } else {\n        isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n        return parent.children[parent.children.length - 1];\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"delegate\",\n    value: function delegate(root, querySelector, eventType, callback) {\n      var capture = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n      var dels = [];\n      if (root instanceof window.Node && typeof callback === \"function\") {\n        if (Array.isArray(eventType)) {\n          eventType.forEach(function(item) {\n            var ret2 = _delegate(root, querySelector, item, callback, capture);\n            ret2.key = \"\".concat(querySelector, \"_\").concat(item);\n            dels.push(ret2);\n          });\n        } else {\n          var ret = _delegate(root, querySelector, eventType, callback, capture);\n          ret.key = \"\".concat(querySelector, \"_\").concat(eventType);\n          dels.push(ret);\n        }\n      }\n      return dels;\n    }\n  }, {\n    key: \"ROOT_TYPES\",\n    get: function get() {\n      return ROOT_TYPES;\n    }\n  }, {\n    key: \"POSITIONS\",\n    get: function get() {\n      return POSITIONS;\n    }\n  }]);\n  return Plugin2;\n}(BasePlugin);\nexport { POSITIONS, ROOT_TYPES, Plugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nvar ResizeObserver = /* @__PURE__ */ function() {\n  function ResizeObserver2() {\n    var _this = this;\n    _classCallCheck(this, ResizeObserver2);\n    _defineProperty(this, \"__trigger\", function(entries) {\n      var t = new Date().getTime();\n      _this.timeStamp = t;\n      for (var i = 0; i < entries.length; i++) {\n        _this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, {\n        trailing: true\n      }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  _createClass(ResizeObserver2, [{\n    key: \"addObserver\",\n    value: function addObserver2(target, handler) {\n      if (!this.observer) {\n        return;\n      }\n      this.observer && this.observer.observe(target);\n      var _pid = target.getAttribute(PLATER_ID);\n      var __handlers = this.__handlers;\n      var index = -1;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.__handlers[index].handler = handler;\n      } else {\n        this.__handlers.push({\n          target,\n          handler,\n          playerId: _pid\n        });\n      }\n    }\n  }, {\n    key: \"unObserver\",\n    value: function unObserver2(target) {\n      var i = -1;\n      this.__handlers.map(function(item, index) {\n        if (target === item.target) {\n          i = index;\n        }\n      });\n      try {\n        this.observer && this.observer.unobserve(target);\n      } catch (e) {\n      }\n      this.observer && this.observer.unobserve(target);\n      i > -1 && this.__handlers.splice(i, 1);\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n      this.__handlers = null;\n    }\n  }, {\n    key: \"__runHandler\",\n    value: function __runHandler(target) {\n      var __handlers = this.__handlers;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          try {\n            __handlers[i].handler(target);\n          } catch (error) {\n            console.error(error);\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return ResizeObserver2;\n}();\nvar resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nvar pluginsManager = {\n  pluginGroup: {},\n  init: function init(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = new Date().getTime();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && addObserver(player.root, function() {\n      player.resize();\n    });\n    if (Object.keys(this.pluginGroup).length === 0) {\n      player.isUserActive = true;\n    }\n    this.pluginGroup[cgid] = {\n      _player: player,\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  checkPlayerRoot: function checkPlayerRoot(root) {\n    if (this.pluginGroup) {\n      var _keys = Object.keys(this.pluginGroup);\n      for (var i = 0; i < _keys.length; i++) {\n        var _p = this.pluginGroup[_keys[i]]._player;\n        if (_p.root === root) {\n          return _p;\n        }\n      }\n      return null;\n    }\n    return null;\n  },\n  formatPluginInfo: function formatPluginInfo(plugin, config) {\n    var PLUFGIN = null;\n    var options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits: function checkPluginIfExits(pluginName, plugins) {\n    for (var i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig: function getRootByConfig(pluginName, playerConfig) {\n    var keys = Object.keys(playerConfig);\n    var _pConfig = null;\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister: function lazyRegister(player, lazyPlugin) {\n    var _this = this;\n    var timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([lazyPlugin.loader().then(function(plugin) {\n      var result;\n      if (plugin && plugin.__esModule) {\n        result = plugin.default;\n      } else {\n        result = plugin;\n      }\n      _this.register(player, result, plugin.options);\n    }), new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        reject(new Error(\"timeout\"));\n      }, timeout);\n    })]);\n  },\n  register: function register(player, plugin) {\n    var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    var originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = this.pluginGroup[cgid]._player;\n    var pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(\"not supported plugin [\".concat(pluginName, \"]\"));\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    var keys = Object.keys(originalOptions);\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        var config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach(function(key) {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(\"the is one plugin with same pluginName [\".concat(pluginName, \"] exist, destroy the old instance\"));\n      }\n      var _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister: function unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      var plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(\"[unRegister:\".concat(name, \"] cgid:[\").concat(cgid, \"] error\"), e);\n    }\n  },\n  deletePlugin: function deletePlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins: function getPlugins(player) {\n    var cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin: function findPlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    var cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit: function beforeInit(player) {\n    var _this2 = this;\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise(function(resolve) {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise(function(resolve) {\n      if (!_this2.pluginGroup) {\n        return;\n      }\n      var prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(function() {\n        var cgid = player._pluginInfoId;\n        if (!_this2.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        var plugins = _this2.pluginGroup[cgid]._plugins;\n        var pluginsRet = [];\n        Object.keys(plugins).forEach(function(pName) {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              var ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([].concat(pluginsRet)).then(function() {\n          resolve();\n        }).catch(function(e) {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit: function afterInit(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang: function setLang(lang, player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(item) {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(\"\".concat(item, \" setLang\"));\n        }\n      }\n    });\n  },\n  reRender: function reRender(player) {\n    var _this3 = this;\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var _pList = [];\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        _this3.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach(function(item) {\n      _this3.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady: function onPluginsReady(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach(function(key) {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  setCurrentUserActive: function setCurrentUserActive(playerId, isActive) {\n    if (!this.pluginGroup[playerId]) {\n      return;\n    }\n    if (!isActive) {\n      this.pluginGroup[playerId]._player.isUserActive = isActive;\n      return playerId;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player) {\n        this.pluginGroup[keys[i]]._player.isUserActive = false;\n      }\n    }\n    this.pluginGroup[playerId]._player.isUserActive = isActive;\n    return playerId;\n  },\n  getCurrentUseActiveId: function getCurrentUseActiveId() {\n    if (!this.pluginGroup) {\n      return;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player && c._player.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  },\n  destroy: function destroy(player) {\n    var cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    unObserver(player.root);\n    var plugins = this.pluginGroup[cgid]._plugins;\n    for (var _i = 0, _Object$keys = Object.keys(plugins); _i < _Object$keys.length; _i++) {\n      var item = _Object$keys[_i];\n      this.unRegister(cgid, item);\n    }\n    var _isUseActive = player.isUseActive;\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n    if (_isUseActive) {\n      var keys = Object.keys(this.pluginGroup);\n      if (keys.length > 0) {\n        this.setCurrentUserActive(keys[keys.length - 1], true);\n      }\n    }\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: function disableSwipeHandler() {\n    },\n    enableSwipeHandler: function enableSwipeHandler() {\n    },\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: {\n      list: []\n    },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar usePreset = function usePreset2(player, Preset) {\n  var _player$config$plugin, _player$config$ignore;\n  var presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  var _presetInst = presetInst, _presetInst$plugins = _presetInst.plugins, plugins = _presetInst$plugins === void 0 ? [] : _presetInst$plugins, _presetInst$ignores = _presetInst.ignores, ignores = _presetInst$ignores === void 0 ? [] : _presetInst$ignores, _presetInst$icons = _presetInst.icons, icons = _presetInst$icons === void 0 ? {} : _presetInst$icons, _presetInst$i18n = _presetInst.i18n, i18n = _presetInst$i18n === void 0 ? [] : _presetInst$i18n;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  (_player$config$plugin = player.config.plugins).push.apply(_player$config$plugin, _toConsumableArray(plugins));\n  (_player$config$ignore = player.config.ignores).push.apply(_player$config$ignore, _toConsumableArray(ignores));\n  Object.keys(icons).map(function(key) {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  var _ci18n = player.config.i18n || [];\n  i18n.push.apply(i18n, _toConsumableArray(_ci18n));\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Controls = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Controls2, _Plugin);\n  var _super = _createSuper(Controls2);\n  function Controls2() {\n    var _this;\n    _classCallCheck(this, Controls2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      playerConfig.closeControlsBlur && player.focus({\n        autoHide: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      player.focus();\n    });\n    return _this;\n  }\n  _createClass(Controls2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (!args.config.mode && sniffer.device === \"mobile\") {\n        args.config.mode = \"flex\";\n      }\n      if (args.player.config.marginControls) {\n        args.config.autoHide = false;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, disable = _this$config.disable, height = _this$config.height, mode = _this$config.mode;\n      if (disable) {\n        return;\n      }\n      mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n      var style = {\n        height: \"\".concat(height, \"px\")\n      };\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n      this.left = this.find(\"xg-left-grid\");\n      this.center = this.find(\"xg-center-grid\");\n      this.right = this.find(\"xg-right-grid\");\n      this.innerRoot = this.find(\"xg-inner-controls\");\n      this.on(MINI_STATE_CHANGE, function(isMini) {\n        isMini ? util.addClass(_this2.root, \"mini-controls\") : util.removeClass(_this2.root, \"mini-controls\");\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.focus({\n        autoHide: false\n      });\n    }\n  }, {\n    key: \"focusAwhile\",\n    value: function focusAwhile() {\n      this.player.focus({\n        autoHide: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.player.blur({\n        ignorePaused: true\n      });\n    }\n  }, {\n    key: \"recoverAutoHide\",\n    value: function recoverAutoHide() {\n      this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"pauseAutoHide\",\n    value: function pauseAutoHide() {\n      util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 ? arguments[2] : void 0;\n      if (!this.root) {\n        return;\n      }\n      var defaultConfig = plugin.defaultConfig || {};\n      if (!options.root) {\n        var position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n        switch (position) {\n          case POSITIONS.CONTROLS_LEFT:\n            options.root = this.left;\n            break;\n          case POSITIONS.CONTROLS_RIGHT:\n            options.root = this.right;\n            break;\n          case POSITIONS.CONTROLS_CENTER:\n            options.root = this.center;\n            break;\n          case POSITIONS.CONTROLS:\n            options.root = this.root;\n            break;\n          default:\n            options.root = this.left;\n        }\n        return _get(_getPrototypeOf(Controls2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (sniffer.device !== \"mobile\") {\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config2 = this.config, mode = _this$config2.mode, autoHide = _this$config2.autoHide, initShow = _this$config2.initShow, disable = _this$config2.disable;\n      if (disable) {\n        return;\n      }\n      var className = util.classNames({\n        \"xgplayer-controls\": true\n      }, {\n        \"flex-controls\": mode === \"flex\"\n      }, {\n        \"bottom-controls\": mode === \"bottom\"\n      }, _defineProperty({}, STATE_CLASS.CONTROLS_AUTOHIDE, autoHide), {\n        \"xgplayer-controls-initshow\": initShow || !autoHide\n      });\n      return '<xg-controls class=\"'.concat(className, '\" unselectable=\"on\" onselectstart=\"return false\">\\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\\n      <xg-left-grid class=\"xg-left-grid\">\\n      </xg-left-grid>\\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\\n      <xg-right-grid class=\"xg-right-grid\">\\n      </xg-right-grid>\\n    </xg-inner-controls>\\n    </xg-controls>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"controls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false,\n        autoHide: true,\n        mode: \"\",\n        initShow: false\n      };\n    }\n  }]);\n  return Controls2;\n}(Plugin);\nexport { Controls as default };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nvar XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach(function(key) {\n    var _s = util.typeOf(src[key]);\n    var _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      var _dst$key;\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map(function(key) {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  var ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map(function(lang2) {\n      var keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  var _i18nLangs = i18nLangs, lang = _i18nLangs.lang;\n  ext.map(function(item) {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  var _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  var texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  var _ret$langKeys;\n  var ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  (_ret$langKeys = ret.langKeys).push.apply(_ret$langKeys, _toConsumableArray(XGI18nLang.langKeys));\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nvar I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    var ret = {};\n    XGI18nLang.langKeys.map(function(key) {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","var STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nvar STATE_ARRAY = [\"ERROR\", \"INITIAL\", \"READY\", \"ATTACHING\", \"ATTACHED\", \"NOTALLOW\", \"RUNNING\", \"ENDED\", \"DESTROYED\"];\nexport { STATES, STATE_ARRAY };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, possibleConstructorReturn as _possibleConstructorReturn, get as _get, getPrototypeOf as _getPrototypeOf, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { CANPLAY, USER_ACTION, FULLSCREEN_CHANGE, READY, ERROR, LOADED_DATA, PLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, VIDEO_RESIZE, REPLAY, PLAYNEXT } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport Controls from \"./plugins/controls/index.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nvar PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nvar REAL_TIME_SPEED = 0;\nvar AVG_SPEED = 0;\nvar Player = /* @__PURE__ */ function(_MediaProxy) {\n  _inherits(Player2, _MediaProxy);\n  var _super = _createSuper(Player2);\n  function Player2(options) {\n    var _this;\n    _classCallCheck(this, Player2);\n    var _config = util.deepMerge(getDefaultConfig(), options);\n    _this = _super.call(this, _config);\n    _defineProperty(_assertThisInitialized(_this), \"canPlayFunc\", function() {\n      if (!_this.config) {\n        return;\n      }\n      var _this$config = _this.config, autoplay = _this$config.autoplay, startTime = _this$config.startTime, defaultPlaybackRate = _this$config.defaultPlaybackRate;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", startTime);\n      if (startTime) {\n        _this.currentTime = startTime > _this.duration ? _this.duration : startTime;\n        _this.config.startTime = 0;\n      }\n      _this.playbackRate = defaultPlaybackRate;\n      (autoplay || _this._useAutoplay) && _this.mediaPlay();\n      _this.off(CANPLAY, _this.canPlayFunc);\n      _this.removeClass(STATE_CLASS.ENTER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFullscreenChange\", function(event, isFullScreen) {\n      var delayResize = function delayResize2() {\n        util.setTimeout(_assertThisInitialized(_this), function() {\n          _this.resize();\n        }, 100);\n      };\n      var fullEl = util.getFullScreenEl();\n      if (_this._fullActionFrom) {\n        _this._fullActionFrom = \"\";\n      } else {\n        _this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: _this.currentTime,\n          duration: _this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      var isVideo = checkIsCurrentVideo(fullEl, _this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === _this._fullscreenEl || isVideo)) {\n        delayResize();\n        !_this.config.closeFocusVideoFocus && _this.media.focus();\n        _this.fullscreen = true;\n        _this.changeFullStyle(_this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        _this.emit(FULLSCREEN_CHANGE, true, _this._fullScreenOffset);\n        if (_this.cssfullscreen) {\n          _this.exitCssFullscreen();\n        }\n      } else if (_this.fullscreen) {\n        delayResize();\n        var _assertThisInitialize = _assertThisInitialized(_this), _fullScreenOffset = _assertThisInitialize._fullScreenOffset, config = _assertThisInitialize.config;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(_assertThisInitialized(_this), function() {\n            _this.fullscreen = false;\n            _this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !_this.config.closeFocusVideoFocus && _this.media.focus();\n          _this.fullscreen = false;\n          _this._fullScreenOffset = null;\n        }\n        if (!_this.cssfullscreen) {\n          _this.recoverFullStyle(_this.root, _this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          _this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        _this._fullscreenEl = null;\n        _this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitbeginfullscreen\", function(e) {\n      _this._fullscreenEl = _this.media;\n      _this.onFullscreenChange(e, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitendfullscreen\", function(e) {\n      _this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(_assertThisInitialized(_this), PlAYER_HOOKS);\n    _this.config = _config;\n    _this._pluginInfoId = util.generateSessionId();\n    bindDebug(_assertThisInitialized(_this));\n    var defaultPreset = _this.constructor.defaultPreset;\n    if (_this.config.presets.length) {\n      var defaultIdx = _this.config.presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        _this.config.presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      _this.config.presets.push(defaultPreset);\n    }\n    _this.userTimer = null;\n    _this.waitTimer = null;\n    _this._state = STATES.INITIAL;\n    _this.isError = false;\n    _this._hasStart = false;\n    _this.isSeeking = false;\n    _this.isCanplay = false;\n    _this._useAutoplay = false;\n    _this.rotateDeg = 0;\n    _this.isActive = false;\n    _this.fullscreen = false;\n    _this.cssfullscreen = false;\n    _this.isRotateFullscreen = false;\n    _this._fullscreenEl = null;\n    _this._cssfullscreenEl = null;\n    _this.curDefinition = null;\n    _this._orgCss = \"\";\n    _this._fullScreenOffset = null;\n    _this._videoHeight = 0;\n    _this._videoWidth = 0;\n    _this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    _this.innerContainer = null;\n    _this.controls = null;\n    _this.topBar = null;\n    _this.root = null;\n    _this.__i18n = I18N.init(_this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      _this.config.autoplay = false;\n    }\n    _this.database = new INDEXDB();\n    _this.isUserActive = false;\n    var rootInit = _this._initDOM();\n    if (!rootInit) {\n      console.error(new Error(\"can't find the dom which id is \".concat(_this.config.id, \" or this.config.el does not exist\")));\n      return _possibleConstructorReturn(_this);\n    }\n    var _this$config2 = _this.config, _this$config2$definit = _this$config2.definition, definition = _this$config2$definit === void 0 ? {} : _this$config2$definit, url = _this$config2.url;\n    if (!url && definition.list && definition.list.length > 0) {\n      var defaultDefinitionObj = definition.list.find(function(e) {\n        return e.definition && e.definition === definition.defaultDefinition;\n      });\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      _this.config.url = defaultDefinitionObj.url;\n      _this.curDefinition = defaultDefinitionObj;\n    }\n    _this._bindEvents();\n    _this._registerPresets();\n    _this._registerPlugins();\n    pluginsManager.onPluginsReady(_assertThisInitialized(_this));\n    _this.getInitDefinition();\n    _this.setState(STATES.READY);\n    util.setTimeout(_assertThisInitialized(_this), function() {\n      _this.emit(READY);\n    }, 0);\n    _this.onReady && _this.onReady();\n    if (_this.config.videoInit || _this.config.autoplay) {\n      if (!_this.hasStart || _this.state < STATES.ATTACHED) {\n        _this.start();\n      }\n    }\n    return _this;\n  }\n  _createClass(Player2, [{\n    key: \"_initDOM\",\n    value: function _initDOM() {\n      var _this2 = this;\n      this.root = this.config.id ? document.getElementById(this.config.id) : null;\n      if (!this.root) {\n        var el = this.config.el;\n        if (el && el.nodeType === 1) {\n          this.root = el;\n        } else {\n          this.emit(ERROR, new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          }));\n          console.error(\"this.confg.id or this.config.el can't be empty\");\n          return false;\n        }\n      }\n      var ret = pluginsManager.checkPlayerRoot(this.root);\n      if (ret) {\n        XG_DEBUG.logWarn(\"The is an Player instance already exists in this.root, destroy it and reinitialize\");\n        ret.destroy();\n      }\n      this.root.setAttribute(PLATER_ID, this.playerId);\n      pluginsManager.init(this);\n      this._initBaseDoms();\n      var XgVideoProxy = this.constructor.XgVideoProxy;\n      if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n        var _el = this.innerContainer || this.root;\n        this.detachVideoEvents(this.media);\n        var _nVideo = new XgVideoProxy(_el, this.config, this.mediaConfig);\n        this.attachVideoEvents(_nVideo);\n        this.media = _nVideo;\n      }\n      this.media.setAttribute(PLATER_ID, this.playerId);\n      if (this.config.controls) {\n        var _root = this.config.controls.root || null;\n        var controls = pluginsManager.register(this, Controls, {\n          root: _root\n        });\n        this.controls = controls;\n      }\n      var device = this.config.isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n      this.addClass(\"\".concat(STATE_CLASS.DEFAULT, \" \").concat(STATE_CLASS.INACTIVE, \" xgplayer-\").concat(device, \" \").concat(this.config.controls ? \"\" : STATE_CLASS.NO_CONTROLS));\n      if (this.config.autoplay) {\n        this.addClass(STATE_CLASS.ENTER);\n      } else {\n        this.addClass(STATE_CLASS.NO_START);\n      }\n      if (this.config.fluid) {\n        var _this$config3 = this.config, width = _this$config3.width, height = _this$config3.height;\n        if (typeof width !== \"number\" || typeof height !== \"number\") {\n          width = 600;\n          height = 337.5;\n        }\n        var style = {\n          width: \"100%\",\n          height: \"0\",\n          \"max-width\": \"100%\",\n          \"padding-top\": \"\".concat(height * 100 / width, \"%\")\n        };\n        Object.keys(style).forEach(function(key) {\n          _this2.root.style[key] = style[key];\n        });\n      } else {\n        [\"width\", \"height\"].forEach(function(key) {\n          if (_this2.config[key]) {\n            if (typeof _this2.config[key] !== \"number\") {\n              _this2.root.style[key] = _this2.config[key];\n            } else {\n              _this2.root.style[key] = \"\".concat(_this2.config[key], \"px\");\n            }\n          }\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"_initBaseDoms\",\n    value: function _initBaseDoms() {\n      this.topBar = null;\n      this.leftBar = null;\n      this.rightBar = null;\n      if (this.config.marginControls) {\n        this.innerContainer = util.createDom(\"xg-video-container\", \"\", {\n          \"data-index\": -1\n        }, \"xg-video-container\");\n        this.root.appendChild(this.innerContainer);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this3 = this;\n      [\"focus\", \"blur\"].forEach(function(item) {\n        _this3.on(item, _this3[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n      });\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document && document.addEventListener(item, _this3.onFullscreenChange);\n      });\n      if (sniffer.os.isIos) {\n        this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n        this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n      }\n      this.once(LOADED_DATA, this.resize);\n      this.playFunc = function() {\n        if (!_this3.config.closeFocusVideoFocus) {\n          _this3.media.focus();\n        }\n      };\n      this.once(PLAY, this.playFunc);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this4 = this;\n      this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document.removeEventListener(item, _this4.onFullscreenChange);\n      });\n      this.playFunc && this.off(PLAY, this.playFunc);\n      this.off(CANPLAY, this.canPlayFunc);\n      this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n  }, {\n    key: \"_startInit\",\n    value: function _startInit(url) {\n      var _this5 = this;\n      if (!this.media) {\n        return;\n      }\n      if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n        url = \"\";\n        this.emit(URL_NULL);\n        XG_DEBUG.logWarn(\"config.url is null, please get url and run player._startInit(url)\");\n        if (this.config.nullUrlStart) {\n          return;\n        }\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n      if (util.typeOf(this.config.volume) === \"Number\") {\n        this.volume = this.config.volume;\n      }\n      var _root = this.innerContainer ? this.innerContainer : this.root;\n      if (this.media instanceof window.Element && !_root.contains(this.media)) {\n        _root.insertBefore(this.media, _root.firstChild);\n      }\n      var readyState = this.media.readyState;\n      XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n      if (this.config.autoplay) {\n        !(/^blob/.test(this.media.currentSrc) || /^blob/.test(this.media.src)) && this.load();\n        (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n      }\n      if (readyState >= 2) {\n        this.canPlayFunc();\n      } else {\n        this.once(CANPLAY, this.canPlayFunc);\n      }\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        pluginsManager.afterInit(this);\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHED);\n      util.setTimeout(this, function() {\n        _this5.emit(COMPLETE);\n      }, 0);\n    }\n  }, {\n    key: \"_registerPlugins\",\n    value: function _registerPlugins() {\n      var _this6 = this;\n      var isInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this._loadingPlugins = [];\n      var ignores = this.config.ignores || [];\n      var plugins = this.config.plugins || [];\n      var i18n = this.config.i18n || [];\n      isInit && I18N.extend(i18n, this.__i18n);\n      var ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n      var cuPlugins = this.plugins;\n      plugins.forEach(function(plugin) {\n        try {\n          var pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n          if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n            return null;\n          }\n          if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n            return;\n          }\n          if (plugin.lazy && plugin.loader) {\n            var loadingPlugin = pluginsManager.lazyRegister(_this6, plugin);\n            if (plugin.forceBeforeInit) {\n              loadingPlugin.then(function() {\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              }).catch(function(e) {\n                XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              });\n              _this6._loadingPlugins.push(loadingPlugin);\n            }\n            return;\n          }\n          return _this6.registerPlugin(plugin);\n        } catch (err) {\n          XG_DEBUG.logError(\"_registerPlugins:\", err);\n        }\n      });\n    }\n  }, {\n    key: \"_registerPresets\",\n    value: function _registerPresets() {\n      var _this7 = this;\n      this.config.presets.forEach(function(preset) {\n        usePreset(_this7, preset);\n      });\n    }\n  }, {\n    key: \"_getRootByPosition\",\n    value: function _getRootByPosition(position) {\n      var _root = null;\n      switch (position) {\n        case POSITIONS.ROOT_RIGHT:\n          if (!this.rightBar) {\n            this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n          }\n          _root = this.rightBar;\n          break;\n        case POSITIONS.ROOT_LEFT:\n          if (!this.leftBar) {\n            this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n          }\n          _root = this.leftBar;\n          break;\n        case POSITIONS.ROOT_TOP:\n          if (!this.topBar) {\n            this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n            if (this.config.topBarAutoHide) {\n              util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n            }\n          }\n          _root = this.topBar;\n          break;\n        default:\n          _root = this.innerContainer || this.root;\n          break;\n      }\n      return _root;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, config) {\n      var _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n      var PLUFGIN = _retPlugin.PLUFGIN, options = _retPlugin.options;\n      var plugins = this.config.plugins;\n      var exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n      !exits && plugins.push(PLUFGIN);\n      var _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n      _pConfig.root && (options.root = _pConfig.root);\n      _pConfig.position && (options.position = _pConfig.position);\n      var position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n      if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n        return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n      }\n      if (!options.root) {\n        options.root = this._getRootByPosition(position);\n      }\n      return pluginsManager.register(this, PLUFGIN, options);\n    }\n  }, {\n    key: \"deregister\",\n    value: function deregister(plugin) {\n      if (typeof plugin === \"string\") {\n        pluginsManager.unRegister(this, plugin);\n      } else if (plugin instanceof BasePlugin) {\n        pluginsManager.unRegister(this, plugin.pluginName);\n      }\n    }\n  }, {\n    key: \"unRegisterPlugin\",\n    value: function unRegisterPlugin(plugin) {\n      var removedFromConfig = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      this.deregister(plugin);\n      if (removedFromConfig) {\n        this.removePluginFromConfig(plugin);\n      }\n    }\n  }, {\n    key: \"removePluginFromConfig\",\n    value: function removePluginFromConfig(plugin) {\n      var pluginName;\n      if (typeof plugin === \"string\") {\n        pluginName = plugin;\n      } else if (plugin instanceof BasePlugin) {\n        pluginName = plugin.pluginName;\n      }\n      if (!pluginName) {\n        return;\n      }\n      for (var i = this.config.plugins.length - 1; i > -1; i--) {\n        var _plugin = this.config.plugins[i];\n        if (_plugin.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n          this.config.plugins.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return pluginsManager.getPlugins(this);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(pluginName) {\n      var plugin = pluginsManager.findPlugin(this, pluginName);\n      return plugin && plugin.pluginName ? plugin : null;\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass(className) {\n      if (!this.root) {\n        return;\n      }\n      if (!util.hasClass(this.root, className)) {\n        util.addClass(this.root, className);\n      }\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(className) {\n      if (!this.root) {\n        return;\n      }\n      util.removeClass(this.root, className);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(className) {\n      if (!this.root) {\n        return;\n      }\n      return util.hasClass(this.root, className);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.setAttribute(key, value);\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.removeAttribute(key, value);\n    }\n  }, {\n    key: \"start\",\n    value: function start(url) {\n      var _this8 = this;\n      if (this.state > STATES.ATTACHING) {\n        return;\n      }\n      if (!url && !this.config.url) {\n        this.getInitDefinition();\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHING);\n      this._registerPlugins(false);\n      return pluginsManager.beforeInit(this).then(function() {\n        if (!_this8.config) {\n          return;\n        }\n        if (!url) {\n          url = _this8.url || _this8.config.url;\n        }\n        var ret = _this8._startInit(url);\n        return ret;\n      }).catch(function(e) {\n        e.fileName = \"player\";\n        e.lineNumber = \"236\";\n        XG_DEBUG.logError(\"start:beforeInit:\", e);\n        throw e;\n      });\n    }\n  }, {\n    key: \"switchURL\",\n    value: function switchURL(url, options) {\n      var _this9 = this;\n      var _src = url;\n      if (util.typeOf(url) === \"Object\") {\n        _src = url.url;\n      }\n      var curTime = this.currentTime;\n      var isPaused = this.paused && !this.isError;\n      this.src = _src;\n      return new Promise(function(resolve) {\n        var _canplay = function _canplay2() {\n          _this9.currentTime = curTime;\n          if (isPaused) {\n            _this9.once(\"canplay\", function() {\n              _this9.pause();\n            });\n          }\n          resolve();\n        };\n        if (sniffer.os.isAndroid) {\n          _this9.once(\"timeupdate\", function() {\n            _canplay();\n          });\n        } else {\n          _this9.once(\"canplay\", function() {\n            _canplay();\n          });\n        }\n        _this9.play();\n      });\n    }\n  }, {\n    key: \"videoPlay\",\n    value: function videoPlay() {\n      this.mediaPlay();\n    }\n  }, {\n    key: \"mediaPlay\",\n    value: function mediaPlay() {\n      var _this10 = this;\n      if (!this.hasStart && this.state < STATES.ATTACHED) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.start();\n        this._useAutoplay = true;\n        return;\n      }\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n      }\n      var playPromise = _get(_getPrototypeOf(Player2.prototype), \"play\", this).call(this);\n      if (playPromise !== void 0 && playPromise && playPromise.then) {\n        playPromise.then(function() {\n          _this10.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          _this10.addClass(STATE_CLASS.PLAYING);\n          if (_this10.state < STATES.RUNNING) {\n            XG_DEBUG.logInfo(\">>>>playPromise.then\");\n            _this10.setState(STATES.RUNNING);\n            _this10.emit(AUTOPLAY_STARTED);\n          }\n        }).catch(function(e) {\n          XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n          if (_this10.media && _this10.media.error) {\n            _this10.onError();\n            _this10.removeClass(STATE_CLASS.ENTER);\n            return;\n          }\n          if (e.name === \"NotAllowedError\") {\n            _this10._errorTimer = util.setTimeout(_this10, function() {\n              _this10._errorTimer = null;\n              _this10.emit(AUTOPLAY_PREVENTED);\n              _this10.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              _this10.removeClass(STATE_CLASS.ENTER);\n              _this10.pause();\n              _this10.setState(STATES.NOTALLOW);\n            }, 0);\n          }\n        });\n      } else {\n        XG_DEBUG.logWarn(\"video.play not return promise\");\n        if (this.state < STATES.RUNNING) {\n          this.setState(STATES.RUNNING);\n          this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          this.removeClass(STATE_CLASS.NO_START);\n          this.removeClass(STATE_CLASS.ENTER);\n          this.addClass(STATE_CLASS.PLAYING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }\n      return playPromise;\n    }\n  }, {\n    key: \"mediaPause\",\n    value: function mediaPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"videoPause\",\n    value: function videoPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this11 = this;\n      this.removeClass(STATE_CLASS.PAUSED);\n      runHooks(this, \"play\", function() {\n        _this11.mediaPlay();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this12 = this;\n      runHooks(this, \"pause\", function() {\n        _get(_getPrototypeOf(Player2.prototype), \"pause\", _this12).call(_this12);\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time, status) {\n      var _this13 = this;\n      if (!this.media || Number.isNaN(Number(time) || !this.hasStart)) {\n        return;\n      }\n      var _this$config4 = this.config, isSeekedPlay = _this$config4.isSeekedPlay, seekedStatus = _this$config4.seekedStatus;\n      var _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n      time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n      this.once(CANPLAY, function() {\n        _this13.removeClass(STATE_CLASS.ENTER);\n        _this13.isSeeking = false;\n        switch (_status) {\n          case \"play\":\n            _this13.play();\n            break;\n          case \"pause\":\n            _this13.pause();\n            break;\n          default:\n            !_this13.paused && _this13.play();\n        }\n      });\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.currentTime = time;\n        _status === \"play\" && this.play();\n      } else {\n        this.currentTime = time;\n      }\n    }\n  }, {\n    key: \"getInitDefinition\",\n    value: function getInitDefinition() {\n      var _this14 = this;\n      var _this$config5 = this.config, definition = _this$config5.definition, url = _this$config5.url;\n      if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n        definition.list.map(function(item) {\n          if (item.definition === definition.defaultDefinition) {\n            _this14.config.url = item.url;\n            _this14.curDefinition = item;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      var _this15 = this;\n      var definition = this.config.definition;\n      if (Array.isArray(definition === null || definition === void 0 ? void 0 : definition.list)) {\n        definition.list.forEach(function(item) {\n          if ((to === null || to === void 0 ? void 0 : to.definition) === item.definition) {\n            _this15.curDefinition = item;\n          }\n        });\n      }\n      if (to !== null && to !== void 0 && to.bitrate && typeof to.bitrate !== \"number\") {\n        to.bitrate = parseInt(to.bitrate, 10) || 0;\n      }\n      this.emit(DEFINITION_CHANGE, {\n        from,\n        to\n      });\n      if (!this.hasStart) {\n        this.config.url = to.url;\n        return;\n      }\n      var ret = this.switchURL(to.url, _objectSpread2({\n        seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\"\n      }, to));\n      if (ret && ret.then) {\n        ret.then(function() {\n          _this15.emit(AFTER_DEFINITION_CHANGE, {\n            from,\n            to\n          });\n        });\n      } else {\n        this.emit(AFTER_DEFINITION_CHANGE, {\n          from,\n          to\n        });\n      }\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      this.load();\n      this.reloadFunc = function() {\n        this.play();\n      };\n      this.once(LOADED_DATA, this.reloadFunc);\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      var _this16 = this;\n      var NOT_ALLOW_AUTOPLAY = STATE_CLASS.NOT_ALLOW_AUTOPLAY, PLAYING = STATE_CLASS.PLAYING, NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, REPLAY2 = STATE_CLASS.REPLAY, ENTER = STATE_CLASS.ENTER, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NOT_ALLOW_AUTOPLAY, PLAYING, NO_START, PAUSED, REPLAY2, ENTER, ENDED, ERROR2, LOADING];\n      this.hasStart = false;\n      this.isError = false;\n      this._useAutoplay = false;\n      this.mediaPause();\n      this._accPlayed.acc = 0;\n      this._accPlayed.t = 0;\n      this._accPlayed.loopAcc = 0;\n      clsList.forEach(function(cls) {\n        _this16.removeClass(cls);\n      });\n      this.addClass(STATE_CLASS.ENTER);\n      this.emit(RESET);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this17 = this;\n      var unregisterPlugins = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var isResetConfig = arguments.length > 1 ? arguments[1] : void 0;\n      this.resetState();\n      var plugins = this.plugins;\n      if (!plugins) {\n        return;\n      }\n      unregisterPlugins.map(function(pn) {\n        _this17.deregister(pn);\n      });\n      if (isResetConfig) {\n        var de = getDefaultConfig();\n        Object.keys(this.config).keys(function(k) {\n          if (_this17.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n            _this17.config[k] = de[k];\n          }\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this18 = this;\n      var innerContainer = this.innerContainer, root = this.root, media = this.media;\n      if (!root || !media) {\n        return;\n      }\n      this.hasStart = false;\n      this._useAutoplay = false;\n      root.removeAttribute(PLATER_ID);\n      this.updateAcc(\"destroy\");\n      this._unbindEvents();\n      this._detachSourceEvents(this.media);\n      util.clearAllTimers(this);\n      this.emit(DESTROY);\n      pluginsManager.destroy(this);\n      delHooksDescriptor(this);\n      _get(_getPrototypeOf(Player2.prototype), \"destroy\", this).call(this);\n      if (this.fullscreen && this._fullscreenEl === this.root) {\n        this.exitFullscreen();\n      }\n      if (innerContainer) {\n        var _c = innerContainer.children;\n        for (var i = 0; i < _c.length; i++) {\n          innerContainer.removeChild(_c[i]);\n        }\n      }\n      !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n      [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map(function(item) {\n        _this18[item] && root.removeChild(_this18[item]);\n        _this18[item] = null;\n      });\n      var cList = root.className.split(\" \");\n      if (cList.length > 0) {\n        root.className = cList.filter(function(name) {\n          return name.indexOf(\"xgplayer\") < 0;\n        }).join(\" \");\n      } else {\n        root.className = \"\";\n      }\n      this.removeAttribute(\"data-xgfill\");\n      [\"isSeeking\", \"isCanplay\", \"isActive\", \"cssfullscreen\", \"fullscreen\"].forEach(function(key) {\n        _this18[key] = false;\n      });\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      var _this19 = this;\n      this.removeClass(STATE_CLASS.ENDED);\n      this.currentTime = 0;\n      this.isSeeking = false;\n      runHooks(this, \"replay\", function() {\n        _this19.once(CANPLAY, function() {\n          var playPromise = _this19.mediaPlay();\n          if (playPromise && playPromise.catch) {\n            playPromise.catch(function(err) {\n              console.log(err);\n            });\n          }\n        });\n        _this19.play();\n        _this19.emit(REPLAY);\n        _this19.onPlay();\n      });\n    }\n  }, {\n    key: \"retry\",\n    value: function retry() {\n      var _this20 = this;\n      this.removeClass(STATE_CLASS.ERROR);\n      this.addClass(STATE_CLASS.LOADING);\n      runHooks(this, \"retry\", function() {\n        var cur = _this20.currentTime;\n        _this20.src = _this20.config.url;\n        !_this20.config.isLive && (_this20.currentTime = cur);\n        _this20.once(CANPLAY, function() {\n          _this20.mediaPlay();\n        });\n      });\n    }\n  }, {\n    key: \"changeFullStyle\",\n    value: function changeFullStyle(root, el, rootClass, pClassName) {\n      if (!root) {\n        return;\n      }\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (!this._orgCss) {\n        this._orgCss = util.filterStyleFromText(root);\n      }\n      util.addClass(root, rootClass);\n      if (el && el !== root && !this._orgPCss) {\n        this._orgPCss = util.filterStyleFromText(el);\n        util.addClass(el, pClassName);\n        el.setAttribute(PLATER_ID, this.playerId);\n      }\n    }\n  }, {\n    key: \"recoverFullStyle\",\n    value: function recoverFullStyle(root, el, rootClass, pClassName) {\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (this._orgCss) {\n        util.setStyleFromCsstext(root, this._orgCss);\n        this._orgCss = \"\";\n      }\n      util.removeClass(root, rootClass);\n      if (el && el !== root && this._orgPCss) {\n        util.setStyleFromCsstext(el, this._orgPCss);\n        this._orgPCss = \"\";\n        util.removeClass(el, pClassName);\n        el.removeAttribute(PLATER_ID);\n      }\n    }\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      var root = this.root, media = this.media;\n      if (!el) {\n        el = root;\n      }\n      this._fullScreenOffset = {\n        top: util.scrollTop(),\n        left: util.scrollLeft()\n      };\n      this._fullscreenEl = el;\n      this._fullActionFrom = \"get\";\n      var fullEl = util.getFullScreenEl();\n      if (fullEl === this._fullscreenEl) {\n        this.onFullscreenChange();\n        return;\n      }\n      try {\n        for (var i = 0; i < GET_FULLSCREEN_API.length; i++) {\n          var key = GET_FULLSCREEN_API[i];\n          if (el[key]) {\n            var ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n          media.webkitEnterFullscreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(el) {\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      }\n      if (!this._fullscreenEl && !util.getFullScreenEl()) {\n        return;\n      }\n      this.root;\n      var media = this.media;\n      this._fullActionFrom = \"exit\";\n      try {\n        for (var i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n          var key = EXIT_FULLSCREEN_API[i];\n          if (document[key]) {\n            var ret = document[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media && media.webkitSupportsFullscreen) {\n          media.webkitExitFullScreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"getCssFullscreen\",\n    value: function getCssFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      } else if (this.fullscreen) {\n        this.exitFullscreen();\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      this.changeFullStyle(this.root, el, _class);\n      var _this$config$fullscre = this.config.fullscreen, fullscreen = _this$config$fullscre === void 0 ? {} : _this$config$fullscre;\n      var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.fullscreen = true;\n        this.emit(FULLSCREEN_CHANGE, true);\n      }\n      this._cssfullscreenEl = el;\n      this.cssfullscreen = true;\n      this.emit(CSS_FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitCssFullscreen\",\n    value: function exitCssFullscreen() {\n      var _class = this._cssfullscreenEl ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      if (!this.fullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n      } else {\n        var _this$config$fullscre2 = this.config.fullscreen, fullscreen = _this$config$fullscre2 === void 0 ? {} : _this$config$fullscre2;\n        var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n        if (useCssFullscreen) {\n          this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n          this.fullscreen = false;\n          this.emit(FULLSCREEN_CHANGE, false);\n        } else {\n          this.removeClass(_class);\n        }\n      }\n      this._cssfullscreenEl = null;\n      this.cssfullscreen = false;\n      this.emit(CSS_FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"getRotateFullscreen\",\n    value: function getRotateFullscreen(el) {\n      if (this.cssfullscreen) {\n        this.exitCssFullscreen(el);\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this._fullscreenEl = el || this.root;\n      this.changeFullStyle(this.root, el, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = true;\n      this.fullscreen = true;\n      this.setRotateDeg(90);\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitRotateFullscreen\",\n    value: function exitRotateFullscreen(el) {\n      var _class = this._fullscreenEl !== this.root ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this.recoverFullStyle(this.root, this._fullscreenEl, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = false;\n      this.fullscreen = false;\n      this.setRotateDeg(0);\n      this.emit(FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"setRotateDeg\",\n    value: function setRotateDeg(deg) {\n      if (window.orientation === 90 || window.orientation === -90) {\n        this.rotateDeg = 0;\n      } else {\n        this.rotateDeg = deg;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: !this.config.closeDelayBlur,\n        delay: this.config.inactive\n      };\n      if (this.isActive) {\n        this.onFocus(data);\n        return;\n      }\n      this.emit(PLAYER_FOCUS, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        ignorePaused: false\n      };\n      if (!this.isActive) {\n        this.onBlur(data);\n        return;\n      }\n      this.emit(PLAYER_BLUR, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      var _this21 = this;\n      var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$autoHide = _ref.autoHide, autoHide = _ref$autoHide === void 0 ? !this.config.closePlayerBlur : _ref$autoHide, _ref$delay = _ref.delay, delay = _ref$delay === void 0 ? this.config.inactive : _ref$delay;\n      this.isActive = true;\n      this.removeClass(STATE_CLASS.INACTIVE);\n      if (this.userTimer) {\n        util.clearTimeout(this, this.userTimer);\n        this.userTimer = null;\n      }\n      if (!autoHide) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        return;\n      }\n      this.userTimer = util.setTimeout(this, function() {\n        _this21.userTimer = null;\n        _this21.blur();\n      }, delay);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref2$ignorePaused = _ref2.ignorePaused, ignorePaused = _ref2$ignorePaused === void 0 ? false : _ref2$ignorePaused;\n      if (!this.isActive) {\n        return;\n      }\n      var closePauseVideoFocus = this.config.closePauseVideoFocus;\n      this.isActive = false;\n      if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n        this.addClass(STATE_CLASS.INACTIVE);\n      }\n    }\n  }, {\n    key: \"onEmptied\",\n    value: function onEmptied() {\n      this.updateAcc(\"emptied\");\n    }\n  }, {\n    key: \"onCanplay\",\n    value: function onCanplay() {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.ERROR);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.isCanplay = true;\n      this.waitTimer && util.clearTimeout(this, this.waitTimer);\n    }\n  }, {\n    key: \"onLoadeddata\",\n    value: function onLoadeddata() {\n      this.isError = false;\n    }\n  }, {\n    key: \"onLoadstart\",\n    value: function onLoadstart() {\n      this.removeClass(STATE_CLASS.ERROR);\n      this.isCanplay = false;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.state === STATES.ENDED) {\n        this.setState(STATES.RUNNING);\n      }\n      this.removeClass(STATE_CLASS.PAUSED);\n      this.ended && this.removeClass(STATE_CLASS.ENDED);\n      !this.config.closePlayVideoFocus && this.focus();\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.addClass(STATE_CLASS.PAUSED);\n      this.updateAcc(\"pause\");\n      if (!this.config.closePauseVideoFocus) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.updateAcc(\"ended\");\n      this.addClass(STATE_CLASS.ENDED);\n      this.setState(STATES.ENDED);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.isError = true;\n      this.updateAcc(\"error\");\n      this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n      this.removeClass(STATE_CLASS.NO_START);\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.addClass(STATE_CLASS.ERROR);\n    }\n  }, {\n    key: \"onSeeking\",\n    value: function onSeeking() {\n      if (!this.isSeeking) {\n        this.updateAcc(\"seeking\");\n      }\n      this.isSeeking = true;\n      this.addClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.isSeeking = false;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.removeClass(STATE_CLASS.LOADING);\n      this.removeClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onWaiting\",\n    value: function onWaiting() {\n      var _this22 = this;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.updateAcc(\"waiting\");\n      this.waitTimer = util.setTimeout(this, function() {\n        _this22.addClass(STATE_CLASS.LOADING);\n        util.clearTimeout(_this22, _this22.waitTimer);\n        _this22.waitTimer = null;\n      }, 200);\n    }\n  }, {\n    key: \"onPlaying\",\n    value: function onPlaying() {\n      var _this23 = this;\n      this.isError = false;\n      var NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, REPLAY2 = STATE_CLASS.REPLAY, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING];\n      clsList.forEach(function(cls) {\n        _this23.removeClass(cls);\n      });\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate() {\n      !this._videoHeight && this.resize();\n      if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n        this.removeClass(STATE_CLASS.LOADING);\n        util.clearTimeout(this, this.waitTimer);\n        this.waitTimer = null;\n      }\n      if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n        this.setState(STATES.RUNNING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onVolumechange\",\n    value: function onVolumechange() {\n      util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n    }\n  }, {\n    key: \"onRatechange\",\n    value: function onRatechange() {\n      this.config.defaultPlaybackRate = this.playbackRate;\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action, params) {\n      if (!this.media || !action || !event) {\n        return;\n      }\n      var eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n      if (params.props && util.typeOf(params.props) !== \"Array\") {\n        params.props = [params.props];\n      }\n      this.emit(USER_ACTION, _objectSpread2({\n        eventType,\n        action,\n        currentTime: this.currentTime,\n        duration: this.duration,\n        ended: this.ended,\n        event\n      }, params));\n    }\n  }, {\n    key: \"updateAcc\",\n    value: function updateAcc(endType) {\n      if (this._accPlayed.t) {\n        var _at = new Date().getTime() - this._accPlayed.t;\n        this._accPlayed.acc += _at;\n        this._accPlayed.t = 0;\n        if (endType === \"ended\" || this.ended) {\n          this._accPlayed.loopAcc = this._accPlayed.acc;\n        }\n      }\n    }\n  }, {\n    key: \"checkBuffer\",\n    value: function checkBuffer(time) {\n      var buffered = this.media.buffered;\n      if (!buffered || buffered.length === 0 || !this.duration) {\n        return true;\n      }\n      var currentTime = time || this.media.currentTime || 0.2;\n      var len = buffered.length;\n      for (var i = 0; i < len; i++) {\n        if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        h: 0,\n        y: 0,\n        x: 0,\n        w: 0\n      };\n      if (!this.media || !pos || !pos.h) {\n        return;\n      }\n      var rvH = 1 / pos.h;\n      var _transform = rvH !== 1 ? \"scale(\".concat(rvH, \")\") : \"\";\n      var _tx = 0;\n      var _ty = 0;\n      if (pos.y) {\n        _ty = (100 - pos.h * 100) / 2 - pos.y * 100;\n      }\n      if (pos.w && pos.x) {\n        _tx = (100 - pos.w * 100) / 2 - pos.x * 100;\n      }\n      _transform += \" translate(\".concat(_tx, \"%, \").concat(_ty, \"%)\");\n      this.media.style.transform = _transform;\n      this.media.style.webkitTransform = _transform;\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this24 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        if (key !== \"plugins\") {\n          _this24.config[key] = config[key];\n          var plugin = _this24.plugins[key.toLowerCase()];\n          if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n            plugin.setConfig(config[key]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext(config) {\n      var _this25 = this;\n      this.resetState();\n      this.setConfig(config);\n      this._currentTime = 0;\n      this._duration = 0;\n      runHooks(this, \"playnext\", function() {\n        _this25.start();\n        _this25.emit(PLAYNEXT, config);\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this26 = this;\n      if (!this.media) {\n        return;\n      }\n      var _this$media = this.media, videoWidth = _this$media.videoWidth, videoHeight = _this$media.videoHeight;\n      var _this$config6 = this.config, fitVideoSize = _this$config6.fitVideoSize, videoFillMode = _this$config6.videoFillMode;\n      if (videoFillMode === \"fill\" || videoFillMode === \"cover\") {\n        this.setAttribute(\"data-xgfill\", videoFillMode);\n      }\n      if (!videoHeight || !videoWidth) {\n        return;\n      }\n      this._videoHeight = videoHeight;\n      this._videoWidth = videoWidth;\n      var containerSize = this.root.getBoundingClientRect();\n      var controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n      var width = containerSize.width;\n      var height = containerSize.height - controlsHeight;\n      var videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n      var fit = parseInt(width / height * 1e3, 10);\n      var rWidth = width;\n      var rHeight = height;\n      var _style = {};\n      if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n        rHeight = width / videoFit * 1e3;\n        if (this.config.fluid) {\n          _style.paddingTop = \"\".concat(rHeight * 100 / rWidth, \"%\");\n        } else {\n          _style.height = \"\".concat(rHeight + controlsHeight, \"px\");\n        }\n      } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n        rWidth = videoFit * height / 1e3;\n        _style.width = \"\".concat(rWidth, \"px\");\n      }\n      if (!this.fullscreen && !this.cssfullscreen) {\n        Object.keys(_style).forEach(function(key) {\n          _this26.root.style[key] = _style[key];\n        });\n      }\n      if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n        this.setAttribute(\"data-xgfill\", \"cover\");\n      }\n      var data = {\n        videoScale: videoFit,\n        vWidth: rWidth,\n        vHeight: rHeight,\n        cWidth: rWidth,\n        cHeight: rHeight + controlsHeight\n      };\n      this.emit(VIDEO_RESIZE, data);\n    }\n  }, {\n    key: \"updateObjectPosition\",\n    value: function updateObjectPosition() {\n      var left = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      if (this.media.updateObjectPosition) {\n        this.media.updateObjectPosition(left, top);\n        return;\n      }\n      this.media.style.objectPosition = \"\".concat(left * 100, \"% \").concat(top * 100, \"%\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      XG_DEBUG.logInfo(\"setState\", \"state from:\".concat(STATE_ARRAY[this.state], \" to:\").concat(STATE_ARRAY[newState]));\n      this._state = newState;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return this.fullscreen;\n    }\n  }, {\n    key: \"isCssfullScreen\",\n    get: function get() {\n      return this.cssfullscreen;\n    }\n  }, {\n    key: \"hasStart\",\n    get: function get() {\n      return this._hasStart;\n    },\n    set: function set(bool) {\n      if (typeof bool === \"boolean\") {\n        this._hasStart = bool;\n        if (bool === false) {\n          this.setState(STATES.READY);\n        }\n        this.emit(\"hasstart\");\n      }\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n    },\n    set: function set(value) {\n      if (value) {\n        this.setState(STATES.RUNNING);\n      } else {\n        this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n      }\n    }\n  }, {\n    key: \"definitionList\",\n    get: function get() {\n      if (!this.config || !this.config.definition) {\n        return [];\n      }\n      return this.config.definition.list || [];\n    },\n    set: function set(list) {\n      var _this27 = this;\n      var definition = this.config.definition;\n      var curDef = null;\n      var targetDef = null;\n      definition.list = list;\n      this.emit(\"resourceReady\", list);\n      list.forEach(function(item) {\n        var _this27$curDefinition;\n        if (((_this27$curDefinition = _this27.curDefinition) === null || _this27$curDefinition === void 0 ? void 0 : _this27$curDefinition.definition) === item.definition) {\n          curDef = item;\n        }\n        if (definition.defaultDefinition === item.definition) {\n          targetDef = item;\n        }\n      });\n      if (!targetDef && list.length > 0) {\n        targetDef = list[0];\n      }\n      curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n    }\n  }, {\n    key: \"videoFrameInfo\",\n    get: function get() {\n      var ret = {\n        total: 0,\n        dropped: 0,\n        corrupted: 0,\n        droppedRate: 0,\n        droppedDuration: 0\n      };\n      if (!this.media || !this.media.getVideoPlaybackQuality) {\n        return ret;\n      }\n      var _quality = this.media.getVideoPlaybackQuality();\n      ret.dropped = _quality.droppedVideoFrames || 0;\n      ret.total = _quality.totalVideoFrames || 0;\n      ret.corrupted = _quality.corruptedVideoFrames || 0;\n      if (ret.total > 0) {\n        ret.droppedRate = ret.dropped / ret.total * 100;\n        ret.droppedDuration = parseInt(this.cumulateTime / ret.total * ret.dropped, 0);\n      }\n      return ret;\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.config.lang;\n    },\n    set: function set(lang) {\n      var result = I18N.langKeys.filter(function(key) {\n        return key === lang;\n      });\n      if (result.length === 0 && lang !== \"zh\") {\n        console.error(\"Sorry, set lang fail, because the language [\".concat(lang, \"] is not supported now, list of all supported languages is [\").concat(I18N.langKeys.join(), \"] \"));\n        return;\n      }\n      this.config.lang = lang;\n      pluginsManager.setLang(lang, this);\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      var _l = this.config.lang;\n      if (_l === \"zh\") {\n        _l = \"zh-cn\";\n      }\n      return this.__i18n.lang[_l] || this.__i18n.lang.en;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.__i18n.textKeys || {};\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._pluginInfoId;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.__url || this.config.url;\n    },\n    set: function set(url) {\n      this.__url = url;\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n    },\n    set: function set(posterUrl) {\n      this.plugins.poster && this.plugins.poster.update(posterUrl);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"readyState\", this);\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      var key = _get(_getPrototypeOf(Player2.prototype), \"error\", this);\n      return this.i18n[key] || key;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"networkState\", this);\n    }\n  }, {\n    key: \"fullscreenChanging\",\n    get: function get() {\n      return !(this._fullScreenOffset === null);\n    }\n  }, {\n    key: \"cumulateTime\",\n    get: function get() {\n      var _accPlayed = this._accPlayed;\n      this.updateAcc(\"get\");\n      return _accPlayed.acc;\n    }\n  }, {\n    key: \"zoom\",\n    get: function get() {\n      return this.config.zoom;\n    },\n    set: function set(value) {\n      this.config.zoom = value;\n    }\n  }, {\n    key: \"avgSpeed\",\n    get: function get() {\n      return AVG_SPEED;\n    },\n    set: function set(val) {\n      AVG_SPEED = val;\n    }\n  }, {\n    key: \"realTimeSpeed\",\n    get: function get() {\n      return REAL_TIME_SPEED;\n    },\n    set: function set(val) {\n      REAL_TIME_SPEED = val;\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"usePluginHooks\",\n    value: function usePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      return usePluginHooks.call.apply(usePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removePluginHooks\",\n    value: function removePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        args[_key2 - 3] = arguments[_key2];\n      }\n      return removePluginHooks.call.apply(removePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"setUserActive\",\n    value: function setUserActive(isActive, isMuted) {\n      if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n        this.addInnerOP(\"volumechange\");\n        this.muted = isMuted;\n      }\n      pluginsManager.setCurrentUserActive(this.playerId, isActive);\n    }\n  }], [{\n    key: \"debugger\",\n    get: function get() {\n      return XG_DEBUG.config.debug;\n    },\n    set: function set(value) {\n      XG_DEBUG.config.debug = value;\n    }\n  }, {\n    key: \"getCurrentUserActivePlayerId\",\n    value: function getCurrentUserActivePlayerId() {\n      return pluginsManager.getCurrentUseActiveId();\n    }\n  }, {\n    key: \"setCurrentUserActive\",\n    value: function setCurrentUserActive(playerId, isActive) {\n      pluginsManager.setCurrentUserActive(playerId, isActive);\n    }\n  }, {\n    key: \"isHevcSupported\",\n    value: function isHevcSupported() {\n      return sniffer.isHevcSupported();\n    }\n  }, {\n    key: \"probeConfigSupported\",\n    value: function probeConfigSupported(info) {\n      return sniffer.probeConfigSupported(info);\n    }\n  }, {\n    key: \"install\",\n    value: function install(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      if (!Player2.plugins[name]) {\n        Player2.plugins[name] = descriptor;\n      }\n    }\n  }, {\n    key: \"use\",\n    value: function use(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      Player2.plugins[name] = descriptor;\n    }\n  }]);\n  return Player2;\n}(MediaProxy);\n_defineProperty(Player, \"defaultPreset\", null);\n_defineProperty(Player, \"XgVideoProxy\", null);\nexport { Player as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nvar LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nvar XGLogger = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(XGLogger2, _BasePlugin);\n  var _super = _createSuper(XGLogger2);\n  function XGLogger2() {\n    var _this;\n    _classCallCheck(this, XGLogger2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      _this._state.isTimeUpdate = true;\n      if (_this._state.autoplayStart) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onTimeupdate\"));\n        _this._sendFF(\"onTimeupdate\");\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onAutoplayStart\", function() {\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onAutoplayStart\"));\n      _this._state.autoplayStart = true;\n      _this.vt && _this._sendFF(\"onAutoplayStart\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      _this.vt = 0;\n      _this.pt = 0;\n      _this.fvt = 0;\n      _this.newPointTime = now();\n      _this.loadedCostTime = 0;\n      _this.startCostTime = 0;\n      _this._isSeeking = false;\n      _this.seekingStart = 0;\n      _this.waitingStart = 0;\n      _this.fixedWaitingStart = 0;\n      _this._isWaiting = false;\n      _this._waitTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n      _this._waittTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waittTimer);\n      _this._waitTimer = null;\n      _this._waittTimer = null;\n      _this._waitType = 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      if (_this.seekingStart) {\n        return;\n      }\n      _this.suspendWaitingStatus(\"seek\");\n      _this.seekingStart = now();\n      _this.emitLog(LOG_TYPES.SEEK_START, {\n        start: now()\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeked\", function() {\n      _this.suspendSeekingStatus(\"seeked\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaitingLoadStart\", function() {\n      if (_this._isWaiting || _this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      _this.waitingStart = now();\n      _this.fixedWaitingStart = now();\n      _this._waitType = 1;\n      _this.emitLog(LOG_TYPES.WAIT_START, {\n        fixedStart: _this.fixedWaitingStart,\n        start: _this.waitingStart,\n        type: 1,\n        endType: \"loadstart\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaiting\", function() {\n      if (_this._isWaiting || !_this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      if (!_this.vt) {\n        _this._waitType = 1;\n      } else if (_this.seekingStart) {\n        _this._waitType = 2;\n      } else {\n        _this._waitType = 0;\n      }\n      _this.fixedWaitingStart = now();\n      _this._waitTimer = util.setTimeout(_assertThisInitialized(_this), function() {\n        if (_this._isWaiting) {\n          _this.waitingStart = now();\n          util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n          _this._waitTimer = null;\n          _this._startWaitTimeout();\n          _this.emitLog(LOG_TYPES.WAIT_START, {\n            fixedStart: _this.fixedWaitingStart,\n            start: _this.waitingStart,\n            type: _this._waitType,\n            endType: _this._waitType === 2 ? \"seek\" : \"playing\"\n          });\n        }\n      }, 200);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onError\", function() {\n      _this.suspendSeekingStatus(\"error\");\n      _this.suspendWaitingStatus(\"error\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlaying\", function() {\n      _this._isWaiting && _this.suspendWaitingStatus(\"playing\");\n    });\n    return _this;\n  }\n  _createClass(XGLogger2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._onReset();\n      this._waitType = \"firstFrame\";\n      this._initOnceEvents();\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this.on(LOAD_START, function() {\n        var _state = _this2._state;\n        var autoplayStart = _state.autoplayStart, isFFSend = _state.isFFSend;\n        _this2.startCostTime = now() - _this2.newPointTime;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOAD_START\"), \"autoplayStart:\".concat(autoplayStart, \" isFFSend:\").concat(isFFSend, \" startCostTime:\").concat(_this2.startCostTime, \" newPointTime\").concat(_this2.newPointTime));\n        if (isFFSend) {\n          return;\n        }\n        !_state.isLs && _this2.emitLog(LOG_TYPES.LOAD_START, {});\n        _state.isLs = true;\n        _state.isTimeUpdate = false;\n        _state.isFFLoading = true;\n        _this2.pt = now();\n        _this2.vt = 0;\n        _this2.fvt = 0;\n        _this2._initOnceEvents();\n        _this2._onWaitingLoadStart();\n      });\n      this.on(LOADED_DATA, function() {\n        _this2.vt = now();\n        _this2.fvt = _this2.vt - _this2.pt;\n        _this2.loadedCostTime = _this2.vt - _this2.newPointTime;\n        var _this2$_state = _this2._state, isTimeUpdate = _this2$_state.isTimeUpdate, isFFSend = _this2$_state.isFFSend, autoplayStart = _this2$_state.autoplayStart;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOADED_DATA\"), \"fvt:\".concat(_this2.fvt, \" isTimeUpdate:\").concat(_this2._state.isTimeUpdate, \" loadedCostTime:\").concat(_this2.loadedCostTime));\n        if (isTimeUpdate || autoplayStart) {\n          _this2._sendFF(\"loadedData\");\n        }\n        if (!isFFSend) {\n          _this2.emitLog(LOG_TYPES.LOADED_DATA, {});\n        }\n        _this2.suspendWaitingStatus(\"loadeddata\");\n      });\n      this.on(SEEKING, this._onSeeking);\n      this.on(SEEKED, this._onSeeked);\n      this.on(DESTROY, function() {\n        _this2.endState(\"destroy\");\n      });\n      this.on(URL_CHANGE, function() {\n        _this2.endState(\"urlChange\");\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" URL_CHANGE\"));\n        _this2._state.isFFSend && _this2._onReset();\n      });\n      this.on([PLAYING, CANPLAY], this._onPlaying);\n      this.on(WAITING, this._onWaiting);\n      this.on(ERROR, this._onError);\n      this.on(RESET, function() {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" RESET\"));\n        _this2.endState(\"reset\");\n        _this2._initOnceEvents();\n        _this2._onReset();\n      });\n    }\n  }, {\n    key: \"_initOnceEvents\",\n    value: function _initOnceEvents() {\n      this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.off(TIME_UPDATE, this._onTimeupdate);\n      this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.once(TIME_UPDATE, this._onTimeupdate);\n    }\n  }, {\n    key: \"_sendFF\",\n    value: function _sendFF(endType) {\n      this.s = now();\n      var _this$_state = this._state, isFFLoading = _this$_state.isFFLoading, isFFSend = _this$_state.isFFSend;\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" _sendFF\"), \"\".concat(endType, \" fvt:\").concat(this.fvt, \" isFFLoading:\").concat(isFFLoading, \" !isFFSend:\").concat(!isFFSend));\n      if (this.vt > 0 && isFFLoading && !isFFSend) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" emitLog_firstFrame\"), endType);\n        this._state.isFFLoading = false;\n        this._state.isFFSend = true;\n        this.emitLog(LOG_TYPES.FIRST_FRAME, {\n          fvt: this.fvt,\n          costTime: this.fvt,\n          vt: this.vt,\n          startCostTime: this.startCostTime,\n          loadedCostTime: this.loadedCostTime\n        });\n      }\n    }\n  }, {\n    key: \"_startWaitTimeout\",\n    value: function _startWaitTimeout() {\n      var _this3 = this;\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n      }\n      this._waittTimer = util.setTimeout(this, function() {\n        _this3.suspendWaitingStatus(\"timeout\");\n        util.clearTimeout(_this3, _this3._waittTimer);\n        _this3._waittTimer = null;\n      }, this.config.waitTimeout);\n    }\n  }, {\n    key: \"endState\",\n    value: function endState(endType) {\n      this.suspendWaitingStatus(endType);\n      this.suspendSeekingStatus(endType);\n    }\n  }, {\n    key: \"suspendSeekingStatus\",\n    value: function suspendSeekingStatus(endType) {\n      if (!this.seekingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.seekingStart;\n      this.seekingStart = 0;\n      this.emitLog(LOG_TYPES.SEEK_END, {\n        end: _now,\n        costTime: _cost,\n        endType\n      });\n    }\n  }, {\n    key: \"suspendWaitingStatus\",\n    value: function suspendWaitingStatus(endType) {\n      if (this._waitTimer) {\n        util.clearTimeout(this, this._waitTimer);\n        this._waitTimer = null;\n      }\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n        this._waittTimer = null;\n      }\n      this._isWaiting = false;\n      if (!this.waitingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.waitingStart;\n      var _fixedCost = _now - this.fixedWaitingStart;\n      var waitTimeout = this.config.waitTimeout;\n      this._isWaiting = false;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this.emitLog(LOG_TYPES.WAIT_END, {\n        fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n        costTime: _cost > waitTimeout ? waitTimeout : _cost,\n        type: endType === \"loadeddata\" ? 1 : this._waitType,\n        endType: this._waitType === 2 ? \"seek\" : endType\n      });\n    }\n  }, {\n    key: \"emitLog\",\n    value: function emitLog(eventType, data) {\n      var player = this.player;\n      this.emit(XGLOG, _objectSpread2({\n        t: now(),\n        host: util.getHostFromUrl(player.currentSrc),\n        vtype: player.vtype,\n        eventType,\n        currentTime: this.player.currentTime,\n        readyState: player.video.readyState,\n        networkState: player.video.networkState\n      }, data));\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"xgLogger\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        waitTimeout: 1e4\n      };\n    }\n  }]);\n  return XGLogger2;\n}(Plugin);\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nvar Replay = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Replay2, _Plugin);\n  var _super = _createSuper(Replay2);\n  function Replay2() {\n    _classCallCheck(this, Replay2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Replay2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        replay: ReplaySvg\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      Plugin.insert(this.icons.replay, this.root, 0);\n      this.__handleReplay = this.hook(\"replayClick\", function() {\n        _this.player.replay();\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n      this.on(ENDED, function() {\n        if (!_this.playerConfig.loop) {\n          util.addClass(_this.player.root, \"replay\");\n        }\n        if (_this.config.disable) {\n          return;\n        }\n        _this.show();\n        var path = _this.root.querySelector(\"path\");\n        if (path) {\n          var transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n          if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n            return null;\n          } else {\n            path.setAttribute(\"transform\", transform);\n          }\n        }\n      });\n      this.on(PLAY, function() {\n        _this.hide();\n      });\n    }\n  }, {\n    key: \"handleReplay\",\n    value: function handleReplay(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.player.replay();\n      util.removeClass(this.player.root, \"replay\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.config.disable) {\n        return;\n      }\n      this.root.style.display = \"flex\";\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-replay class=\"xgplayer-replay\">\\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"'.concat(this.i18nKeys.REPLAY, '\">').concat(this.i18n.REPLAY, \"</xg-replay-txt>\\n    </xg-replay>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"replay\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false\n      };\n    }\n  }]);\n  return Replay2;\n}(Plugin);\nexport { Replay as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Poster = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Poster2, _Plugin);\n  var _super = _createSuper(Poster2);\n  function Poster2() {\n    _classCallCheck(this, Poster2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Poster2, [{\n    key: \"isEndedShow\",\n    get: function get() {\n      return this.config.isEndedShow;\n    },\n    set: function set(value) {\n      this.config.isEndedShow = value;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.poster === \"string\") {\n        args.config.poster = args.player.config.poster;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(ENDED, function() {\n        if (_this.isEndedShow) {\n          util.removeClass(_this.root, \"hide\");\n        }\n      });\n      if (this.config.hideCanplay) {\n        this.once(TIME_UPDATE, function() {\n          _this.onTimeUpdate();\n        });\n        this.on(URL_CHANGE, function() {\n          util.removeClass(_this.root, \"hide\");\n          util.addClass(_this.root, \"xg-showplay\");\n          _this.once(TIME_UPDATE, function() {\n            _this.onTimeUpdate();\n          });\n        });\n      } else {\n        this.on(PLAY, function() {\n          util.addClass(_this.root, \"hide\");\n        });\n      }\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate() {\n      var _this2 = this;\n      if (!this.player.currentTime) {\n        this.once(TIME_UPDATE, function() {\n          _this2.onTimeUpdate();\n        });\n      } else {\n        util.removeClass(this.root, \"xg-showplay\");\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(poster) {\n      if (!poster) {\n        return;\n      }\n      this.config.poster = poster;\n      this.root.style.backgroundImage = \"url(\".concat(poster, \")\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config = this.config, poster = _this$config.poster, hideCanplay = _this$config.hideCanplay;\n      var style = poster ? \"background-image:url(\".concat(poster, \");\") : \"\";\n      return '<xg-poster class=\"xgplayer-poster '.concat(hideCanplay ? \"xg-showplay\" : \"\", '\" style=\"').concat(style, '\">\\n    </xg-poster>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"poster\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isEndedShow: true,\n        hideCanplay: false,\n        poster: \"\"\n      };\n    }\n  }]);\n  return Poster2;\n}(Plugin);\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar AnimateMap = {};\nfunction addAnimate(key, seconds) {\n  var callback = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    start: null,\n    end: null\n  };\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(function() {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n}\nfunction clearAnimation() {\n  Object.keys(AnimateMap).map(function(key) {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nvar Start = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Start2, _Plugin);\n  var _super = _createSuper(Start2);\n  function Start2(args) {\n    var _this;\n    _classCallCheck(this, Start2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReset\", function() {\n      _this.autoPlayStart = false;\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      _this.setAttr(\"data-state\", \"play\");\n      util.removeClass(_this.root, className);\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAutoplayStart\", function() {\n      if (_this.autoPlayStart) {\n        return;\n      }\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(_this.root, className);\n      _this.autoPlayStart = true;\n      _this.onPlayPause(\"play\");\n    });\n    _this.autoPlayStart = false;\n    return _this;\n  }\n  _createClass(Start2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var player = this.player, playerConfig = this.playerConfig;\n      this.initIcons();\n      this.once(READY, function() {\n        if (playerConfig) {\n          if (playerConfig.lang && playerConfig.lang === \"en\") {\n            util.addClass(player.root, \"lang-is-en\");\n          } else if (playerConfig.lang === \"jp\") {\n            util.addClass(player.root, \"lang-is-jp\");\n          }\n        }\n      });\n      this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n      if (!playerConfig.autoplay) {\n        this.show();\n      }\n      this.on(AUTOPLAY_PREVENTED, function() {\n        var className = _this2.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n        _this2.setAttr(\"data-state\", \"play\");\n        util.removeClass(_this2.root, className);\n        _this2.show();\n      });\n      this.on(PLAY, function() {\n        _this2.onPlayPause(\"play\");\n      });\n      this.on(PAUSE, function() {\n        _this2.onPlayPause(\"pause\");\n      });\n      this.on(RESET, function() {\n        _this2.onPlayerReset();\n      });\n      this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n        pre: function pre(e) {\n          e.cancelable && e.preventDefault();\n          e.stopPropagation();\n          var paused = _this2.player.paused;\n          _this2.emitUserAction(e, \"switch_play_pause\", {\n            props: \"paused\",\n            from: paused,\n            to: !paused\n          });\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.clickHandler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        startPlay: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        startPause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\"xg-start-inner\", icons.startPlay);\n      this.appendChild(\"xg-start-inner\", icons.startPause);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"focusHide\",\n    value: function focusHide() {\n      util.addClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"recover\",\n    value: function recover() {\n      util.removeClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"switchStatus\",\n    value: function switchStatus(isAnimate) {\n      if (isAnimate) {\n        this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n      } else {\n        this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(endShow) {\n      var _this3 = this;\n      addAnimate(\"pauseplay\", 400, {\n        start: function start() {\n          util.addClass(_this3.root, \"interact\");\n          _this3.show();\n          _this3.switchStatus(true);\n        },\n        end: function end() {\n          util.removeClass(_this3.root, \"interact\");\n          !endShow && _this3.hide();\n        }\n      });\n    }\n  }, {\n    key: \"switchPausePlay\",\n    value: function switchPausePlay(e) {\n      var player = this.player;\n      e.cancelable && e.preventDefault();\n      e.stopPropagation();\n      if (player.state < STATES.READY) {\n        return;\n      }\n      var paused = this.player.paused;\n      if (!paused && player.state === STATES.RUNNING) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  }, {\n    key: \"onPlayPause\",\n    value: function onPlayPause(status) {\n      var config = this.config, player = this.player;\n      if (player.state < STATES.RUNNING || !this.autoPlayStart) {\n        return;\n      }\n      if (config.mode === \"show\") {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.mode === \"auto\") {\n        this.switchStatus();\n        return;\n      }\n      if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.disableAnimate) {\n        this.switchStatus();\n        this.hide();\n        return;\n      }\n      if (status === \"play\") {\n        this.autoPlayStart ? this.animate() : this.hide();\n      } else {\n        if (!this.autoPlayStart || player.ended) {\n          return;\n        }\n        this.animate();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.clickHandler);\n      clearAnimation();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n      return '\\n    <xg-start class=\"xgplayer-start '.concat(className, '\">\\n    <xg-start-inner></xg-start-inner>\\n    </xg-start>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"start\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShowPause: false,\n        isShowEnd: false,\n        disableAnimate: false,\n        mode: \"hide\"\n      };\n    }\n  }]);\n  return Start2;\n}(Plugin);\nexport { Start as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Enter = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Enter2, _Plugin);\n  var _super = _createSuper(Enter2);\n  function Enter2() {\n    _classCallCheck(this, Enter2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Enter2, [{\n    key: \"render\",\n    value: function render() {\n      var innerHtml = this.config.innerHtml;\n      var root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n      if (innerHtml && innerHtml instanceof window.HTMLElement) {\n        root.appendChild(innerHtml);\n      } else if (innerHtml && typeof innerHtml === \"string\") {\n        root.innerHTML = innerHtml;\n      } else {\n        var barStr = \"\";\n        for (var i = 1; i <= 12; i++) {\n          barStr += '<div class=\"xgplayer-enter-bar'.concat(i, '\"></div>');\n        }\n        root.innerHTML = '<div class=\"xgplayer-enter-spinner\">'.concat(barStr, \"</div>\");\n      }\n      return root;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"enter\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        innerHtml: \"\",\n        logo: \"\"\n      };\n    }\n  }]);\n  return Enter2;\n}(Plugin);\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ' <div class=\"xg-tips '.concat(isShow ? \"hide\" : \" \", '\" lang-key=\"').concat(plugin.i18nKeys[textKey], '\">\\n    ').concat(plugin.i18n[textKey], \"\\n    </div>\");\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar MiniScreenIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreenIcon2, _Plugin);\n  var _super = _createSuper(MiniScreenIcon2);\n  function MiniScreenIcon2() {\n    _classCallCheck(this, MiniScreenIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniScreenIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.getMini = this.getMini.bind(this);\n      this.exitMini = this.exitMini.bind(this);\n      this.bind(\"click\", this.getMini);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.getMini);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var langKey = \"MINISCREEN\";\n      return '\\n      <xg-icon class=\"xgplayer-miniicon\">\\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span></div>\\n      </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreenIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 10\n      };\n    }\n  }]);\n  return MiniScreenIcon2;\n}(Plugin);\nexport { MiniScreenIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, possibleConstructorReturn as _possibleConstructorReturn, createClass as _createClass, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  var num = parseFloat(value);\n  var isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nvar measurements = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"];\nvar measurementsLength = measurements.length;\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  var style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || _typeof(elem) !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  var style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  var isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    var value = style[measurement];\n    var num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  var isBorderBoxSizeOuter = isBorderBox;\n  var styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  var styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (var i = 0; i < touches.length; i++) {\n    var touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nvar EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nvar POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nvar Draggabilly = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Draggabilly2, _EventEmitter);\n  var _super = _createSuper(Draggabilly2);\n  function Draggabilly2(root) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    _classCallCheck(this, Draggabilly2);\n    _this = _super.call(this);\n    _this.isEnabled = true;\n    _this.isDragging = false;\n    _this.isDown = false;\n    _this.position = {};\n    _this.downPoint = {};\n    _this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    _this.startPos = {\n      x: 0,\n      y: 0\n    };\n    _this._root = root instanceof Element ? root : document.querySelector(root);\n    _this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!_this._root || !_this._handlerDom) {\n      return _possibleConstructorReturn(_this);\n    }\n    _this._bindStartEvent();\n    return _this;\n  }\n  _createClass(Draggabilly2, [{\n    key: \"_bindStartEvent\",\n    value: function _bindStartEvent() {\n      var _this2 = this;\n      if (\"ontouchstart\" in window) {\n        this._startKey = \"touchstart\";\n      } else {\n        this._startKey = \"mousedown\";\n      }\n      this[\"on\".concat(this._startKey)] = this[\"on\".concat(this._startKey)].bind(this);\n      this._handlerDom.addEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n      POST_START_EVENTS[this._startKey].map(function(key) {\n        _this2[\"on\".concat(key)] = _this2[\"on\".concat(key)].bind(_this2);\n      });\n    }\n  }, {\n    key: \"_unbindStartEvent\",\n    value: function _unbindStartEvent() {\n      this._handlerDom.removeEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n    }\n  }, {\n    key: \"_bindPostStartEvents\",\n    value: function _bindPostStartEvents(event) {\n      var _this3 = this;\n      if (!event) {\n        return;\n      }\n      var events = POST_START_EVENTS[this._startKey];\n      events.map(function(eventName) {\n        window.addEventListener(eventName, _this3[\"on\".concat(eventName)]);\n      });\n      this._boundPointerEvents = events;\n    }\n  }, {\n    key: \"_unbindPostStartEvents\",\n    value: function _unbindPostStartEvents() {\n      var _this4 = this;\n      if (!this._boundPointerEvents) {\n        return;\n      }\n      this._boundPointerEvents.map(function(eventName) {\n        window.removeEventListener(eventName, _this4[\"on\".concat(eventName)]);\n      });\n      delete this._boundPointerEvents;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.isEnabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n      if (this.isDragging) {\n        this.onUp();\n      }\n    }\n  }, {\n    key: \"onDocUp\",\n    value: function onDocUp(e) {\n      this.onUp();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this5 = this;\n      if (!this.isDragging) {\n        return;\n      }\n      this.positionDrag();\n      window.requestAnimationFrame(function() {\n        _this5.animate();\n      });\n    }\n  }, {\n    key: \"positionDrag\",\n    value: function positionDrag() {\n      var transform = \"translate3d(\".concat(this.dragPoint.x, \"px, \").concat(this.dragPoint.y, \"px, 0)\");\n      this._root.style.transform = transform;\n      this._root.style.webKitTransform = transform;\n    }\n  }, {\n    key: \"setLeftTop\",\n    value: function setLeftTop() {\n      this._root.style.left = this.position.x + \"px\";\n      this._root.style.top = this.position.y + \"px\";\n    }\n  }, {\n    key: \"onmousedown\",\n    value: function onmousedown(e) {\n      this.dragStart(e, e);\n    }\n  }, {\n    key: \"onmousemove\",\n    value: function onmousemove(e) {\n      this.dragMove(e, e);\n    }\n  }, {\n    key: \"onmouseup\",\n    value: function onmouseup(e) {\n      this.dragEnd(e, e);\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(e) {\n      var touch = e.changedTouches[0];\n      this.dragStart(e, touch);\n      this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragMove(e, touch);\n      }\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragEnd(e, touch);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchcancel\",\n    value: function ontouchcancel(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragCancel(e, touch);\n      }\n    }\n  }, {\n    key: \"dragStart\",\n    value: function dragStart(e, pointer) {\n      if (!this._root || this.isDown || !this.isEnabled) {\n        return;\n      }\n      this.downPoint = pointer;\n      this.dragPoint.x = 0;\n      this.dragPoint.y = 0;\n      this._getPosition();\n      var size = getSize(this._root);\n      this.startPos.x = this.position.x;\n      this.startPos.y = this.position.y;\n      this.startPos.maxY = window.innerHeight - size.height;\n      this.startPos.maxX = window.innerWidth - size.width;\n      this.setLeftTop();\n      this.isDown = true;\n      this._bindPostStartEvents(e);\n    }\n  }, {\n    key: \"dragRealStart\",\n    value: function dragRealStart(e, pointer) {\n      this.isDragging = true;\n      this.animate();\n      this.emit(EVENTS.START, this.startPos);\n    }\n  }, {\n    key: \"dragEnd\",\n    value: function dragEnd(e, pointer) {\n      if (!this._root) {\n        return;\n      }\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this._root.style.transform = \"\";\n        this.setLeftTop();\n        this.emit(EVENTS.ENDED);\n      }\n      this.presetInfo();\n    }\n  }, {\n    key: \"_dragPointerMove\",\n    value: function _dragPointerMove(e, pointer) {\n      var moveVector = {\n        x: pointer.pageX - this.downPoint.pageX,\n        y: pointer.pageY - this.downPoint.pageY\n      };\n      if (!this.isDragging && this.hasDragStarted(moveVector)) {\n        this.dragRealStart(e, pointer);\n      }\n      return moveVector;\n    }\n  }, {\n    key: \"dragMove\",\n    value: function dragMove(e, pointer) {\n      e = e || window.event;\n      if (!this.isDown) {\n        return;\n      }\n      var _this$startPos = this.startPos, x = _this$startPos.x, y = _this$startPos.y;\n      var moveVector = this._dragPointerMove(e, pointer);\n      var dragX = moveVector.x;\n      var dragY = moveVector.y;\n      dragX = this.checkContain(\"x\", dragX, x);\n      dragY = this.checkContain(\"y\", dragY, y);\n      this.position.x = x + dragX;\n      this.position.y = y + dragY;\n      this.dragPoint.x = dragX;\n      this.dragPoint.y = dragY;\n      this.emit(EVENTS.MOVE, this.position);\n    }\n  }, {\n    key: \"dragCancel\",\n    value: function dragCancel(e, pointer) {\n      this.dragEnd(e, pointer);\n    }\n  }, {\n    key: \"presetInfo\",\n    value: function presetInfo() {\n      this.isDragging = false;\n      this.startPos = {\n        x: 0,\n        y: 0\n      };\n      this.dragPoint = {\n        x: 0,\n        y: 0\n      };\n      this.isDown = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindStartEvent();\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this.dragEnd();\n      }\n      this.removeAllListeners();\n      this._handlerDom = null;\n    }\n  }, {\n    key: \"hasDragStarted\",\n    value: function hasDragStarted(moveVector) {\n      return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n    }\n  }, {\n    key: \"checkContain\",\n    value: function checkContain(axis, drag, grid) {\n      if (drag + grid < 0) {\n        return 0 - grid;\n      }\n      if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n        return this.startPos.maxX - grid;\n      }\n      if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n        return this.startPos.maxY - grid;\n      }\n      return drag;\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var style = window.getComputedStyle(this._root);\n      var x = this._getPositionCoord(style.left, \"width\");\n      var y = this._getPositionCoord(style.top, \"height\");\n      this.position.x = Number.isNaN(x) ? 0 : x;\n      this.position.y = Number.isNaN(y) ? 0 : y;\n      this._addTransformPosition(style);\n    }\n  }, {\n    key: \"_addTransformPosition\",\n    value: function _addTransformPosition(style) {\n      var transform = style.transform;\n      if (transform.indexOf(\"matrix\") !== 0) {\n        return;\n      }\n      var matrixValues = transform.split(\",\");\n      var xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n      var translateX = parseInt(matrixValues[xIndex], 10);\n      var translateY = parseInt(matrixValues[xIndex + 1], 10);\n      this.position.x += translateX;\n      this.position.y += translateY;\n    }\n  }, {\n    key: \"_getPositionCoord\",\n    value: function _getPositionCoord(styleSide, measure) {\n      if (styleSide.indexOf(\"%\") !== -1) {\n        var parentSize = getSize(this._root.parentNode);\n        return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n      }\n      return parseInt(styleSide, 10);\n    }\n  }]);\n  return Draggabilly2;\n}(EventEmitter);\nexport { Draggabilly as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nvar MiniScreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreen2, _Plugin);\n  var _super = _createSuper(MiniScreen2);\n  function MiniScreen2(args) {\n    var _this;\n    _classCallCheck(this, MiniScreen2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onCancelClick\", function(e) {\n      _this.exitMini();\n      _this.isClose = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCenterClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      player.paused ? player.play() : player.pause();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function(e) {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - _this.pos.scrollY) < 50) {\n        return;\n      }\n      var scrollHeight = parseInt(util.getCss(_this.player.root, \"height\"));\n      scrollHeight += _this.config.scrollTop;\n      _this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !_this.isMini && !_this.isClose && _this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        _this.isMini && _this.exitMini();\n        _this.isClose = false;\n      }\n    });\n    _this.isMini = false;\n    _this.isClose = false;\n    var _assertThisInitialize2 = _assertThisInitialized(_this), config = _assertThisInitialize2.config;\n    _this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: _this.config.height,\n      width: _this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    _this.lastStyle = null;\n    return _this;\n  }\n  _createClass(MiniScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.mini === \"boolean\") {\n        args.config.isShowIcon = args.player.config.mini;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      this.on(PAUSE, function() {\n        _this2.setAttr(\"data-state\", \"pause\");\n      });\n      this.on(PLAY, function() {\n        _this2.setAttr(\"data-state\", \"play\");\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var _this3 = this;\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      if (this.config.isShowIcon) {\n        var options = {\n          config: {\n            onClick: function onClick() {\n              _this3.getMini();\n            }\n          }\n        };\n        player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n      }\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.bind(\".play-icon\", eventName, this.onCenterClick);\n      if (!this.config.disableDrag) {\n        this._draggabilly = new Draggabilly(this.player.root, {\n          handle: this.root\n        });\n      }\n      if (this.config.isScrollSwitch) {\n        window.addEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".play-icon\", icons.play);\n      this.appendChild(\".play-icon\", icons.pause);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      var _this4 = this;\n      if (this.isMini) {\n        return;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      this.lastStyle = {};\n      util.addClass(player.root, \"xgplayer-mini\");\n      [\"width\", \"height\", \"top\", \"left\"].map(function(key) {\n        _this4.lastStyle[key] = target.style[key];\n        target.style[key] = \"\".concat(_this4.pos[key], \"px\");\n      });\n      if (playerConfig.fluid) {\n        target.style[\"padding-top\"] = \"\";\n      }\n      this.emit(MINI_STATE_CHANGE, true);\n      player.isMini = this.isMini = true;\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      var _this5 = this;\n      if (!this.isMini) {\n        return false;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      util.removeClass(player.root, \"xgplayer-mini\");\n      if (this.lastStyle) {\n        Object.keys(this.lastStyle).map(function(key) {\n          target.style[key] = _this5.lastStyle[key];\n        });\n      }\n      this.lastStyle = null;\n      if (playerConfig.fluid) {\n        player.root.style.width = \"100%\";\n        player.root.style.height = \"0\";\n        player.root.style[\"padding-top\"] = \"\".concat(playerConfig.height * 100 / playerConfig.width, \"%\");\n      }\n      this.emit(MINI_STATE_CHANGE, false);\n      this.isMini = player.isMini = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener(\"scroll\", this.onScroll);\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.unbind(\".play-icon\", eventName, this.onCenterClick);\n      this._draggabilly && this._draggabilly.destroy();\n      this._draggabilly = null;\n      this.exitMini();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n      <xg-mini-layer class=\"xg-mini-layer\">\\n      <xg-mini-header class=\"xgplayer-mini-header\">\\n      '.concat(xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips), '\\n      </xg-mini-header>\\n      <div class=\"mini-cancel-btn\">\\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\\n        </svg>\\n      </div>\\n      <div class=\"play-icon\">\\n      </div>\\n      </xg-mini-layer>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 10,\n        disable: false,\n        width: 320,\n        height: 180,\n        left: -1,\n        top: -1,\n        isShowIcon: false,\n        isScrollSwitch: false,\n        scrollTop: 0,\n        disableDrag: false\n      };\n    }\n  }]);\n  return MiniScreen2;\n}(Plugin);\nexport { MiniScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nvar MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar PCPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(PCPlugin2, _BasePlugin);\n  var _super = _createSuper(PCPlugin2);\n  function PCPlugin2() {\n    var _this;\n    _classCallCheck(this, PCPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      if (!player.isActive) {\n        player.focus({\n          autoHide: !playerConfig.closeDelayBlur\n        });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), playerConfig = _assertThisInitialize2.playerConfig, player = _assertThisInitialize2.player;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({\n          autoHide: false\n        });\n      } else {\n        player.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _this$playerConfig = _this.playerConfig, closePlayerBlur = _this$playerConfig.closePlayerBlur, leavePlayerTime = _this$playerConfig.leavePlayerTime, closeDelayBlur = _this$playerConfig.closeDelayBlur;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          _this.player.focus({\n            autoHide: true,\n            delay: leavePlayerTime\n          });\n        } else {\n          _this.player.blur();\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoClick\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, playerConfig = _assertThisInitialize3.playerConfig;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        _this._clickCount++;\n        if (_this.clickTimer) {\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }\n        _this.clickTimer = setTimeout(function() {\n          if (!_this._clickCount) {\n            return;\n          }\n          _this._clickCount--;\n          runHooks(_assertThisInitialized(_this), HOOKS[0], function(plugin, data) {\n            _this.switchPlayPause(data.e);\n          }, {\n            e,\n            paused: player.paused\n          });\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }, 300);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoDblClick\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), player = _assertThisInitialize4.player, playerConfig = _assertThisInitialize4.playerConfig;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (_this._clickCount < 2) {\n        _this._clickCount = 0;\n        return;\n      }\n      _this._clickCount = 0;\n      if (_this.clickTimer) {\n        clearTimeout(_this.clickTimer);\n        _this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(_assertThisInitialized(_this), HOOKS[1], function(plugin, data) {\n        _this.emitUserAction(data.e, \"switch_fullscreen\", {\n          props: \"fullscreen\",\n          from: player.fullscreen,\n          to: !player.fullscreen\n        });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, {\n        e,\n        fullscreen: player.fullscreen\n      });\n    });\n    return _this;\n  }\n  _createClass(PCPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._clickCount = 0;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n        return;\n      }\n      this.initEvents();\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      var _this3 = this;\n      var _this$player = this.player, video = _this$player.video, root = _this$player.root;\n      var enableContextmenu = this.playerConfig.enableContextmenu;\n      root && root.addEventListener(\"click\", this.onVideoClick, false);\n      root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.addEventListener(item, _this3[MOUSE_EVENTS[item]], false);\n      });\n      enableContextmenu && video && video.addEventListener(\"contextmenu\", this.onContextmenu, false);\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause(e) {\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        props: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (!player.ended) {\n        player.paused ? player.play() : player.pause();\n      } else {\n        player.duration !== Infinity && player.duration > 0 && player.replay();\n      }\n    }\n  }, {\n    key: \"onContextmenu\",\n    value: function onContextmenu(e) {\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.returnValue = false;\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var _this$player2 = this.player, video = _this$player2.video, root = _this$player2.root;\n      this.clickTimer && clearTimeout(this.clickTimer);\n      root.removeEventListener(\"click\", this.onVideoClick, false);\n      root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n      video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.removeEventListener(item, _this4[MOUSE_EVENTS[item]], false);\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pc\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return PCPlugin2;\n}(BasePlugin);\nexport { PCPlugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nvar EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nvar TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nvar MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction preventToucheDefault(e) {\n  var ua = navigator.userAgent;\n  /(?:iPhone|iPad)/.test(ua) && e.cancelable && e.preventDefault();\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nvar Touche = /* @__PURE__ */ function() {\n  function Touche2(dom) {\n    var _this = this;\n    var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      eventType: \"touch\"\n    };\n    _classCallCheck(this, Touche2);\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(config).map(function(key) {\n      _this.config[key] = config[key];\n    });\n    this.root = dom;\n    this.events = config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _createClass(Touche2, [{\n    key: \"_initEvent\",\n    value: function _initEvent() {\n      this.onTouchStart = this.onTouchStart.bind(this);\n      this.onTouchMove = this.onTouchMove.bind(this);\n      this.onTouchEnd = this.onTouchEnd.bind(this);\n      this.onTouchCancel = this.onTouchCancel.bind(this);\n      this.root.addEventListener(this.events.start, this.onTouchStart);\n    }\n  }, {\n    key: \"__setPress\",\n    value: function __setPress(e) {\n      var _this2 = this;\n      var config = this.config;\n      if (this.pressIntrvalId) {\n        this.__clearPress();\n      }\n      this.pressIntrvalId = setTimeout(function() {\n        _this2.trigger(EVENTS.PRESS, e);\n        _this2._pos.press = true;\n        _this2.__clearPress();\n      }, config.pressDelay);\n    }\n  }, {\n    key: \"__clearPress\",\n    value: function __clearPress() {\n      window.clearTimeout(this.pressIntrvalId);\n      this.pressIntrvalId = null;\n    }\n  }, {\n    key: \"__setDb\",\n    value: function __setDb(e) {\n      var _this3 = this;\n      var config = this.config;\n      if (this.dbIntrvalId) {\n        this.__clearDb();\n        this.trigger(EVENTS.DOUBlE_CLICK, e);\n        return;\n      }\n      this.dbIntrvalId = setTimeout(function() {\n        _this3.__clearDb();\n        if (!_this3._pos.start && !_this3._pos.press && !_this3._pos.moving) {\n          _this3.trigger(EVENTS.CLICK, e);\n        }\n      }, config.dbClickDelay);\n    }\n  }, {\n    key: \"__clearDb\",\n    value: function __clearDb() {\n      clearTimeout(this.dbIntrvalId);\n      this.dbIntrvalId = null;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.__handlers[event]) {\n        this.__handlers[event] = [];\n      }\n      this.__handlers[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      var handlers = this.__handlers[event];\n      var index = -1;\n      for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n          index = i;\n          break;\n        }\n      }\n      if (index >= 0) {\n        this.__handlers[event].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, e) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      this.__handlers[event].map(function(handler) {\n        try {\n          handler(e);\n        } catch (error) {\n          console.error(\"trigger>>:\".concat(event), error);\n        }\n      });\n    }\n  }, {\n    key: \"onTouchStart\",\n    value: function onTouchStart(e) {\n      var _pos = this._pos, root = this.root, config = this.config;\n      config.needPreventDefault && preventToucheDefault(e);\n      var touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      this.__setPress(e);\n      root.addEventListener(this.events.end, this.onTouchEnd);\n      root.addEventListener(this.events.cancel, this.onTouchCancel);\n      root.addEventListener(this.events.move, this.onTouchMove);\n      this.trigger(EVENTS.TOUCH_START, e);\n    }\n  }, {\n    key: \"onTouchCancel\",\n    value: function onTouchCancel(e) {\n      this.onTouchEnd(e);\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd(e) {\n      var _pos = this._pos, root = this.root, config = this.config;\n      config.needPreventDefault && preventToucheDefault(e);\n      this.__clearPress();\n      root.removeEventListener(this.events.cancel, this.onTouchCancel);\n      root.removeEventListener(this.events.end, this.onTouchEnd);\n      root.removeEventListener(this.events.move, this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(e) {\n      var _pos = this._pos, config = this.config;\n      var touch = getTouch(e.touches);\n      var x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      var y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      var diffx = x - _pos.x;\n      var diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      this.__clearPress();\n      _pos.press && this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      this.trigger(EVENTS.TOUCH_MOVE, e);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var map = {\n        touchend: \"onTouchEnd\",\n        touchmove: \"onTouchMove\",\n        touchstart: \"onTouchStart\"\n      };\n      Object.keys(map).map(function(key) {\n        _this4.root.removeEventListener(\"touchend\", _this4[map[key]]);\n      });\n    }\n  }]);\n  return Touche2;\n}();\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nvar ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nvar MobilePlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MobilePlugin2, _Plugin);\n  var _super = _createSuper(MobilePlugin2);\n  function MobilePlugin2(options) {\n    var _this;\n    _classCallCheck(this, MobilePlugin2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config, pos = _assertThisInitialize.pos, playerConfig = _assertThisInitialize.playerConfig;\n      var touche = _this.getTouche(e);\n      if (touche && !config.disableGesture && _this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        _this.find(\".xg-dur\").innerHTML = util.format(_this.duration);\n        var rect = _this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        var _x = parseInt(touche.pageX - pos.left, 10);\n        var _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function(e) {\n      var touche = _this.getTouche(e);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos, config = _assertThisInitialize2.config, player = _assertThisInitialize2.player;\n      if (!touche || config.disableGesture || !_this.duration || !pos.isStart) {\n        return;\n      }\n      var miniMoveStep = config.miniMoveStep, hideControlsActive = config.hideControlsActive;\n      var _x = parseInt(touche.pageX - pos.left, 10);\n      var _y = parseInt(touche.pageY - pos.top, 10);\n      var x = player.rotateDeg === 90 ? _y : _x;\n      var y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        var diffx = x - pos.x;\n        var diffy = y - pos.y;\n        var scope = pos.scope;\n        if (scope === -1) {\n          scope = _this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({\n              autoHide: false\n            }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + _this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        _this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, pos = _assertThisInitialize3.pos, playerConfig = _assertThisInitialize3.playerConfig;\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      var _this$config = _this.config, disableGesture = _this$config.disableGesture, gestureX = _this$config.gestureX;\n      if (!disableGesture && gestureX) {\n        _this.endLastMove(pos.scope);\n        setTimeout(function() {\n          player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n        }, 10);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      _this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      _this.changeAction(ACTIONS.AUTO);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchMove\", function(e) {\n      if (_this.config.disableGesture || !_this.config.gestureX) {\n        return;\n      }\n      if (_this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!_this.pos.isStart) {\n          _this.onTouchStart(e);\n        } else {\n          _this.onTouchMove(e);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchEnd\", function(e) {\n      if (_this.pos.isStart && _this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        _this.onTouchEnd(e);\n      }\n    });\n    _this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    _this.timer = null;\n    return _this;\n  }\n  _createClass(MobilePlugin2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        seekTipIcon: {\n          icon: SeekTipIcon,\n          class: \"xg-seek-pre\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var playerConfig = this.playerConfig, config = this.config, player = this.player;\n      if (playerConfig.closeVideoDblclick === true) {\n        config.closedbClick = true;\n      }\n      this.resetPos();\n      if (!util.isUndefined(playerConfig.disableGesture)) {\n        config.disableGesture = !!playerConfig.disableGesture;\n      }\n      this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n      this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n      player.root.appendChild(this.xgMask);\n      this.initCustomStyle();\n      this.registerThumbnail();\n      var eventType = this.domEventType;\n      this.touch = new Touche(this.root, {\n        eventType,\n        needPreventDefault: !this.config.disableGesture\n      });\n      this.root.addEventListener(\"contextmenu\", function(e) {\n        e.preventDefault();\n      });\n      player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n      this.on(DURATION_CHANGE, function() {\n        var player2 = _this2.player, config2 = _this2.config;\n        if (player2.duration * 1e3 < config2.moveDuration) {\n          config2.moveDuration = player2.duration * 1e3;\n        }\n      });\n      this.on([CANPLAY, ENDED], function() {\n        var _this2$pos = _this2.pos, time = _this2$pos.time, isStart = _this2$pos.isStart;\n        if (!isStart && time > 0) {\n          _this2.pos.time = 0;\n        }\n      });\n      var eventsMap = {\n        touchstart: \"onTouchStart\",\n        touchmove: \"onTouchMove\",\n        touchend: \"onTouchEnd\",\n        press: \"onPress\",\n        pressend: \"onPressEnd\",\n        click: \"onClick\",\n        doubleclick: \"onDbClick\"\n      };\n      Object.keys(eventsMap).map(function(key) {\n        _this2.touch.on(key, function(e) {\n          _this2[eventsMap[key]](e);\n        });\n      });\n      if (!config.disableActive) {\n        var progressPlugin = player.plugins.progress;\n        if (progressPlugin) {\n          progressPlugin.addCallBack(\"dragmove\", function(data) {\n            _this2.activeSeekNote(data.currentTime, data.forward);\n          });\n          progressPlugin.addCallBack(\"dragend\", function() {\n            _this2.changeAction(ACTIONS.AUTO);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n        var timePreview = this.find(\".time-preview\");\n        timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var playedColor = commonStyle.playedColor, progressColor = commonStyle.progressColor;\n      if (playedColor) {\n        this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n        this.find(\".xg-cur\").style.color = playedColor;\n      }\n      if (progressColor) {\n        this.find(\".xg-bar\").style.backgroundColor = progressColor;\n        this.find(\".time-preview\").style.color = progressColor;\n      }\n      this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n    }\n  }, {\n    key: \"resetPos\",\n    value: function resetPos() {\n      var _this3 = this;\n      if (this.pos) {\n        this.pos.isStart = false;\n        this.pos.scope = -1;\n        [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map(function(item) {\n          _this3.pos[item] = 0;\n        });\n      } else {\n        this.pos = {\n          isStart: false,\n          x: 0,\n          y: 0,\n          volume: 0,\n          rate: 1,\n          light: 0,\n          width: 0,\n          height: 0,\n          scopeL: 0,\n          scopeR: 0,\n          scopeM1: 0,\n          scopeM2: 0,\n          scope: -1,\n          time: 0\n        };\n      }\n    }\n  }, {\n    key: \"changeAction\",\n    value: function changeAction(action) {\n      var player = this.player, root = this.root;\n      root.setAttribute(\"data-xg-action\", action);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.recover();\n    }\n  }, {\n    key: \"getTouche\",\n    value: function getTouche(e) {\n      var rotateDeg = this.player.rotateDeg;\n      var touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n      return rotateDeg === 0 ? {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      } : {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      };\n    }\n  }, {\n    key: \"checkScope\",\n    value: function checkScope(x, y, diffx, diffy, pos) {\n      var width = pos.width;\n      var scope = -1;\n      if (x < 0 || x > width) {\n        return scope;\n      }\n      var mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n      if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n        scope = 0;\n      } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n        scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n      }\n      return scope;\n    }\n  }, {\n    key: \"executeMove\",\n    value: function executeMove(diffx, diffy, scope, width, height) {\n      switch (scope) {\n        case 0:\n          this.updateTime(diffx / width * this.config.scopeM);\n          break;\n        case 1:\n          this.updateBrightness(diffy / height);\n          break;\n        case 2:\n          if (!sniffer.os.isIos) {\n            this.updateVolume(diffy / height);\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"endLastMove\",\n    value: function endLastMove(lastScope) {\n      var _this4 = this;\n      var pos = this.pos, player = this.player, config = this.config;\n      var time = (pos.time - this.timeOffset) / 1e3;\n      switch (lastScope) {\n        case 0:\n          player.seek(Number(time).toFixed(1));\n          config.hideControlsEnd ? player.blur() : player.focus();\n          this.timer = setTimeout(function() {\n            _this4.pos.time = 0;\n          }, 500);\n          break;\n      }\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"checkIsRootTarget\",\n    value: function checkIsRootTarget(e) {\n      var plugins = this.player.plugins || {};\n      if (plugins.progress && plugins.progress.root.contains(e.target)) {\n        return false;\n      }\n      return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n    }\n  }, {\n    key: \"sendUseAction\",\n    value: function sendUseAction(event) {\n      var paused = this.player.paused;\n      this.emitUserAction(event, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: paused,\n        to: !paused\n      });\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var player = this.player, config = this.config, playerConfig = this.playerConfig;\n      if (player.state < STATES.RUNNING) {\n        if (!playerConfig.closeVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          player.play();\n        }\n        return;\n      }\n      if (!config.closedbClick || playerConfig.closeVideoClick) {\n        player.isActive ? player.blur() : player.focus();\n      } else if (!playerConfig.closeVideoClick) {\n        if (player.isActive || config.focusVideoClick) {\n          this.emitUserAction(\"click\", \"switch_play_pause\");\n          this.switchPlayPause();\n        }\n        player.focus();\n      }\n    }\n  }, {\n    key: \"onDbClick\",\n    value: function onDbClick(e) {\n      var config = this.config, player = this.player;\n      if (!config.closedbClick && player.state >= STATES.RUNNING) {\n        this.sendUseAction(util.createEvent(\"dblclick\"));\n        this.switchPlayPause();\n      }\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      pos.rate = this.player.playbackRate;\n      this.emitUserAction(\"press\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: config.pressRate\n      });\n      player.playbackRate = config.pressRate;\n      this.changeAction(ACTIONS.PLAYBACK);\n    }\n  }, {\n    key: \"onPressEnd\",\n    value: function onPressEnd(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      this.emitUserAction(\"pressend\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: pos.rate\n      });\n      player.playbackRate = pos.rate;\n      pos.rate = 1;\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(percent) {\n      var player = this.player, config = this.config;\n      var duration = this.player.duration;\n      percent = Number(percent.toFixed(4));\n      var time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n      time += this.pos.time;\n      time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n      player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n      player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n      this.activeSeekNote(time / 1e3, percent > 0);\n      if (config.isTouchingSeek) {\n        player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n      }\n      this.pos.time = time;\n    }\n  }, {\n    key: \"updateVolume\",\n    value: function updateVolume(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var player = this.player, pos = this.pos;\n      percent = parseInt(percent * 100, 10);\n      pos.volume += percent;\n      if (Math.abs(pos.volume) < 10) {\n        return;\n      }\n      var volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n      volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n      player.volume = volume / 10;\n      pos.volume = 0;\n    }\n  }, {\n    key: \"updateBrightness\",\n    value: function updateBrightness(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var pos = this.pos, config = this.config, xgMask = this.xgMask;\n      var light = pos.light + 0.8 * percent;\n      light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n      if (xgMask) {\n        xgMask.style.backgroundColor = \"rgba(0,0,0,\".concat(light, \")\");\n      }\n      pos.light = light;\n    }\n  }, {\n    key: \"activeSeekNote\",\n    value: function activeSeekNote(time) {\n      var isForward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var player = this.player, config = this.config;\n      var isLive = !(this.duration !== Infinity && this.duration > 0);\n      if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n        return;\n      }\n      if (time < 0) {\n        time = 0;\n      } else if (time > player.duration) {\n        time = player.duration - 0.2;\n      }\n      this.changeAction(ACTIONS.SEEKING);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.focusHide();\n      this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n      this.find(\".xg-cur\").innerHTML = util.format(time);\n      this.find(\".xg-curbar\").style.width = \"\".concat(time / this.duration * 100, \"%\");\n      if (isForward) {\n        util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      } else {\n        util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      }\n      this.updateThumbnails(time);\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n      }\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause() {\n      var player = this.player;\n      if (player.state < STATES.ATTACHED) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }, {\n    key: \"disableGesture\",\n    value: function disableGesture() {\n      this.config.disableGesture = false;\n    }\n  }, {\n    key: \"enableGesture\",\n    value: function enableGesture() {\n      this.config.disableGesture = true;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.timer && clearTimeout(this.timer);\n      this.thumbnail = null;\n      player.root.removeChild(this.xgMask);\n      this.xgMask = null;\n      this.touch && this.touch.destroy();\n      this.touch = null;\n      player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.config.gradient !== \"normal\" ? \"gradient \".concat(this.config.gradient) : \"gradient\";\n      return '\\n     <xg-trigger class=\"trigger\">\\n     <div class=\"'.concat(className, '\"></div>\\n        <div class=\"time-preview\">\\n            <div class=\"xg-seek-show ').concat(this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\", '\">\\n              <i class=\"xg-seek-icon\"></i>\\n              <span class=\"xg-cur\">00:00</span>\\n              <span>/</span>\\n              <span class=\"xg-dur\">00:00</span>\\n            </div>\\n              <div class=\"xg-bar xg-timebar\">\\n                <div class=\"xg-curbar\"></div>\\n              </div>\\n        </div>\\n        <div class=\"xg-playbackrate xg-top-note\">\\n            <span><i>').concat(this.config.pressRate, \"X</i>\").concat(this.i18n.FORWARD, \"</span>\\n        </div>\\n     </xg-trigger>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"mobile\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0,\n        disableGesture: false,\n        gestureX: true,\n        gestureY: true,\n        gradient: \"normal\",\n        isTouchingSeek: false,\n        miniMoveStep: 5,\n        miniYPer: 5,\n        scopeL: 0.25,\n        scopeR: 0.25,\n        scopeM: 0.9,\n        pressRate: 2,\n        darkness: true,\n        maxDarkness: 0.8,\n        disableActive: false,\n        disableTimeProgress: false,\n        hideControlsActive: false,\n        hideControlsEnd: false,\n        moveDuration: 60 * 6 * 1e3,\n        closedbClick: false,\n        disablePress: true,\n        disableSeekIcon: false,\n        focusVideoClick: false\n      };\n    }\n  }]);\n  return MobilePlugin2;\n}(Plugin);\nexport { MobilePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  var tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nvar Keyboard = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Keyboard2, _BasePlugin);\n  var _super = _createSuper(Keyboard2);\n  function Keyboard2() {\n    var _this;\n    _classCallCheck(this, Keyboard2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyDown\", function(event) {\n      var e = event || window.event;\n      if (!_this.player || !_this.player.isUserActive && !_this.config.isIgnoreUserActive) {\n        return;\n      }\n      if (_this.config.disable || _this.config.disableBodyTrigger || !_this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        return;\n      }\n      var keyCode = e.keyCode;\n      if ((e.target === document.body || _this.config.isGlobalTrigger && !isDisableTag(e.target)) && _this.checkCode(keyCode, true)) {\n        preventDefault(e);\n        _this.handleKeyCode(keyCode, event);\n        return false;\n      }\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function(event) {\n      var e = event || window.event;\n      if (_this.config.disable || _this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n        return;\n      }\n      if (!_this.player.isUserActive && !_this.config.isIgnoreUserActive) {\n        return;\n      }\n      if (!_this.player.isUserActive && !_this.config.isIgnoreUserActive) {\n        return;\n      }\n      if (e && (e.keyCode === 37 || _this.checkCode(e.keyCode)) && (e.target === _this.player.root || e.target === _this.player.video || e.target === _this.player.controls.el)) {\n        preventDefault(e);\n      } else {\n        return true;\n      }\n      _this.handleKeyCode(e.keyCode, event);\n    });\n    return _this;\n  }\n  _createClass(Keyboard2, [{\n    key: \"mergekeyCodeMap\",\n    value: function mergekeyCodeMap() {\n      var _this2 = this;\n      var extendkeyCodeMap = this.config.keyCodeMap;\n      if (extendkeyCodeMap) {\n        Object.keys(extendkeyCodeMap).map(function(key) {\n          if (!_this2.keyCodeMap[key]) {\n            _this2.keyCodeMap[key] = extendkeyCodeMap[key];\n          } else {\n            [\"keyCode\", \"action\", \"disable\", \"isBodyTarget\"].map(function(key1) {\n              extendkeyCodeMap[key][key1] && (_this2.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.config.disable = !this.playerConfig.keyShortcut;\n      var seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n      if (!(!seekStep || typeof seekStep !== \"number\")) {\n        this.seekStep = seekStep;\n      }\n      this.keyCodeMap = {\n        space: {\n          keyCode: 32,\n          action: \"playPause\",\n          disable: false,\n          noBodyTarget: false\n        },\n        up: {\n          keyCode: 38,\n          action: \"upVolume\",\n          disable: false,\n          noBodyTarget: true\n        },\n        down: {\n          keyCode: 40,\n          action: \"downVolume\",\n          disable: false,\n          noBodyTarget: true\n        },\n        left: {\n          keyCode: 37,\n          action: \"seekBack\",\n          disable: false\n        },\n        right: {\n          keyCode: 39,\n          action: \"seek\",\n          disable: false\n        },\n        esc: {\n          keyCode: 27,\n          action: \"exitFullscreen\",\n          disable: false\n        }\n      };\n      this.mergekeyCodeMap();\n      this.player.root.addEventListener(\"keydown\", this.onKeydown);\n      document.addEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"checkIsVisible\",\n    value: function checkIsVisible() {\n      if (!this.config.checkVisible) {\n        return true;\n      }\n      var rec = this.player.root.getBoundingClientRect();\n      var height = rec.height, top = rec.top, bottom = rec.bottom;\n      var h = window.innerHeight;\n      if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"checkCode\",\n    value: function checkCode(code, isBodyTarget) {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        if (_this3.keyCodeMap[key] && code === _this3.keyCodeMap[key].keyCode && !_this3.keyCodeMap[key].disable) {\n          flag = !isBodyTarget || isBodyTarget && !_this3.keyCodeMap[key].noBodyTarget;\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"downVolume\",\n    value: function downVolume(event) {\n      var player = this.player;\n      var val = parseFloat((player.volume - 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val >= 0) {\n        player.volume = val;\n      } else {\n        player.volume = 0;\n      }\n    }\n  }, {\n    key: \"upVolume\",\n    value: function upVolume(event) {\n      var player = this.player;\n      var val = parseFloat((player.volume + 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val <= 1) {\n        player.volume = val;\n      } else {\n        player.volume = 1;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      var _this$player = this.player, currentTime = _this$player.currentTime, duration = _this$player.duration;\n      var _time = currentTime;\n      if (currentTime + this.seekStep <= duration) {\n        _time = currentTime + this.seekStep;\n      } else {\n        _time = duration - 1;\n      }\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _time\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _time;\n    }\n  }, {\n    key: \"seekBack\",\n    value: function seekBack(event) {\n      var currentTime = this.player.currentTime;\n      var _time = 0;\n      if (currentTime - this.seekStep >= 0) {\n        _time = currentTime - this.seekStep;\n      }\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _time\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _time;\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause(event) {\n      var player = this.player;\n      if (!player) {\n        return;\n      }\n      this.emitUserAction(event, \"switch_play_pause\");\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(event) {\n      var player = this.player;\n      var fullscreen = player.fullscreen, cssfullscreen = player.cssfullscreen;\n      if (fullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n        player.exitFullscreen();\n      }\n      if (cssfullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n          prop: \"cssfullscreen\",\n          from: cssfullscreen,\n          to: !cssfullscreen\n        });\n        player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"handleKeyCode\",\n    value: function handleKeyCode(curKeyCode, event) {\n      var _this4 = this;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        var _this4$keyCodeMap$key = _this4.keyCodeMap[key], action = _this4$keyCodeMap$key.action, keyCode = _this4$keyCodeMap$key.keyCode, disable = _this4$keyCodeMap$key.disable;\n        if (keyCode === curKeyCode && !disable) {\n          if (typeof action === \"function\") {\n            action(event, _this4.player);\n          } else if (typeof action === \"string\") {\n            if (typeof _this4[action] === \"function\") {\n              _this4[action](event, _this4.player);\n            }\n          }\n          _this4.emit(SHORTCUT, _objectSpread2({\n            key,\n            target: event.target\n          }, _this4.keyCodeMap[key]));\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n      document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"keyboard\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        seekStep: 10,\n        checkVisible: true,\n        disableBodyTrigger: false,\n        disableRootTrigger: false,\n        isGlobalTrigger: false,\n        keyCodeMap: {},\n        disable: false,\n        isIgnoreUserActive: false\n      };\n    }\n  }]);\n  return Keyboard2;\n}(BasePlugin);\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nvar Loading = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Loading2, _Plugin);\n  var _super = _createSuper(Loading2);\n  function Loading2() {\n    _classCallCheck(this, Loading2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Loading2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        loadingIcon\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '\\n    <xg-loading class=\"xgplayer-loading\">\\n      <xg-loading-inner></xg-loading-inner>\\n    </xg-loading>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"loading\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT\n      };\n    }\n  }]);\n  return Loading2;\n}(Plugin);\nexport { Loading as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar TPL = [{\n  tag: \"xg-cache\",\n  className: \"xgplayer-progress-cache\",\n  styleKey: \"cachedColor\"\n}, {\n  tag: \"xg-played\",\n  className: \"xgplayer-progress-played\",\n  styleKey: \"playedColor\"\n}];\nvar InnerList = /* @__PURE__ */ function() {\n  function InnerList2(args) {\n    _classCallCheck(this, InnerList2);\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({\n        percent: 1\n      });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  _createClass(InnerList2, [{\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this = this;\n      this.duration = duration;\n      var start = 0;\n      var fragments = this.fragments;\n      this.fragments = fragments.map(function(item) {\n        item.start = parseInt(start, 10);\n        item.end = parseInt(start + item.percent * _this.duration, 10);\n        item.duration = parseInt(item.percent * _this.duration, 10);\n        start += item.percent * _this.duration;\n        return item;\n      });\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"played\";\n      var data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        newIndex: 0,\n        curIndex: 0,\n        millisecond: 0\n      };\n      var progressList = this.progressList, fragments = this.fragments;\n      if (progressList.length < 1) {\n        return;\n      }\n      var newIndex = data.newIndex, curIndex = data.curIndex, millisecond = data.millisecond;\n      if (newIndex !== curIndex) {\n        progressList.map(function(item, index) {\n          if (index < newIndex) {\n            item[type].style.width = \"100%\";\n          } else if (index > newIndex) {\n            item[type].style.width = 0;\n          }\n        });\n      }\n      var curPFrag = fragments[newIndex];\n      var per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n      progressList[newIndex][type].style.width = per < 0 ? 0 : \"\".concat(per * 100, \"%\");\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(data) {\n      if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n        return;\n      }\n      if (!data) {\n        if (this.focusIndex > -1) {\n          this.unHightLight(this.focusIndex);\n          var _data = {\n            index: -1,\n            preIndex: this.focusIndex,\n            fragment: null\n          };\n          this._callBack && this._callBack(_data);\n          this.focusIndex = -1;\n        }\n        return;\n      }\n      var newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n      if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n        this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n        this.setHightLight(newPIndex);\n        var _data2 = {\n          index: newPIndex,\n          preIndex: this.focusIndex,\n          fragment: this.fragments[this.focusIndex]\n        };\n        this.focusIndex = newPIndex;\n        this._callBack && this._callBack(_data2);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n        if (!duration && duration !== 0) {\n          return;\n        }\n        this.updateDuration(parseInt(duration * 1e3, 10));\n      }\n      var playedIndex = this.playedIndex, cachedIndex = this.cachedIndex;\n      if (util.typeOf(data.played) !== \"Undefined\") {\n        var newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n        if (newPIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"played\", {\n          newIndex: newPIndex,\n          curIndex: playedIndex,\n          millisecond: parseInt(data.played * 1e3, 10)\n        });\n        this.playedIndex = newPIndex;\n      }\n      if (util.typeOf(data.cached) !== \"Undefined\") {\n        var newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n        if (newCIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"cached\", {\n          newIndex: newCIndex,\n          curIndex: cachedIndex,\n          millisecond: parseInt(data.cached * 1e3, 10)\n        });\n        this.cachedIndex = newCIndex;\n      }\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(time, curIndex) {\n      var fragments = this.fragments;\n      if (!fragments || fragments.length === 0) {\n        return -1;\n      }\n      if (fragments.length === 1) {\n        return 0;\n      }\n      if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n        return curIndex;\n      }\n      if (time > fragments[fragments.length - 1].start) {\n        return fragments.length - 1;\n      }\n      for (var i = 0; i < fragments.length; i++) {\n        if (time > fragments[i].start && time <= fragments[i].end) {\n          curIndex = i;\n          break;\n        }\n      }\n      return curIndex;\n    }\n  }, {\n    key: \"findHightLight\",\n    value: function findHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n          return {\n            dom: children[i],\n            pos: children[i].getBoundingClientRect()\n          };\n        }\n      }\n    }\n  }, {\n    key: \"findFragment\",\n    value: function findFragment(index) {\n      var children = this.root.children;\n      if (index < 0 || index >= children.length) {\n        return null;\n      }\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }, {\n    key: \"unHightLight\",\n    value: function unHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        util.removeClass(children[i], this.fragConfig.fragFocusClass);\n      }\n    }\n  }, {\n    key: \"setHightLight\",\n    value: function setHightLight(index) {\n      var children = this.root.children;\n      if (index < children.length) {\n        util.addClass(children[index], this.fragConfig.fragFocusClass);\n        return {\n          dom: children[index],\n          pos: children[index].getBoundingClientRect()\n        };\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.progressList = null;\n      this.fragments = null;\n      this.root.innerHTML = \"\";\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(newOptions) {\n      var _this2 = this;\n      Object.keys(this.fragConfig).forEach(function(key) {\n        if (newOptions[key] !== void 0) {\n          _this2.fragConfig[key] = newOptions[key];\n        }\n      });\n      if (newOptions.fragments) {\n        this.fragments = newOptions.fragments.length === 0 ? [{\n          percent: 1\n        }] : newOptions.fragments;\n        this.updateDuration(this.duration);\n        this.playedIndex = 0;\n        this.cachedIndex = 0;\n        if (this.root) {\n          var _c = this.root.children;\n          while (_c.length > 0) {\n            this.root.removeChild(_c[0]);\n          }\n        }\n        this.render();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var progressColor = this.style.progressColor;\n      if (!this.root) {\n        this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n      }\n      if (this.fragments) {\n        var _this$fragConfig = this.fragConfig, fragClass = _this$fragConfig.fragClass, fragFocusClass = _this$fragConfig.fragFocusClass;\n        this.progressList = this.fragments.map(function(item) {\n          var inner = util.createDom(\"xg-inner\", \"\", {\n            style: progressColor ? \"background:\".concat(progressColor, \"; flex: \").concat(item.percent) : \"flex: \".concat(item.percent)\n          }, \"\".concat(item.isFocus ? fragFocusClass : \"\", \" xgplayer-progress-inner \").concat(fragClass));\n          _this3.root.appendChild(inner);\n          TPL.forEach(function(item2) {\n            inner.appendChild(util.createDom(item2.tag, \"\", {\n              style: item2.styleKey ? \"background: \".concat(_this3.style[item2.styleKey], \"; width:0;\") : \"width:0;\"\n            }, item2.className));\n          });\n          return {\n            cached: inner.children[0],\n            played: inner.children[1]\n          };\n        });\n      }\n      return this.root;\n    }\n  }]);\n  return InnerList2;\n}();\nexport { InnerList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nvar FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nvar Progress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Progress2, _Plugin);\n  var _super = _createSuper(Progress2);\n  function Progress2(args) {\n    var _this;\n    _classCallCheck(this, Progress2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMoveOnly\", function(e, data) {\n      var _assertThisInitialize = _assertThisInitialized(_this), pos = _assertThisInitialize.pos, config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      var ret = data;\n      if (e) {\n        util.event(e);\n        var _ePos = util.getEventPos(e, player.zoom);\n        var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = _this.computeTime(e, x);\n      }\n      _this.triggerCallbacks(\"dragmove\", ret, e);\n      _this._updateInnerFocus(ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyClick\", function(e) {\n      if (!_this.pos.isLocked) {\n        return;\n      }\n      _this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDownHandler\", function(event, data) {\n      _this._state.time = data.currentTime;\n      _this.updateWidth(data.currentTime, data.percent, 0);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseUpHandler\", function(e, data) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos;\n      pos.moving && _this.updateWidth(data.currentTime, data.percent, 2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseMoveHandler\", function(e, data) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), _state = _assertThisInitialize3._state, pos = _assertThisInitialize3.pos, config = _assertThisInitialize3.config, player = _assertThisInitialize3.player;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        _this.triggerCallbacks(\"dragstart\", data, e);\n        _this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      _this.updateWidth(data.currentTime, data.percent, 1);\n      _this.triggerCallbacks(\"dragmove\", data, e);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _state = _assertThisInitialize4._state, player = _assertThisInitialize4.player, pos = _assertThisInitialize4.pos, config = _assertThisInitialize4.config, playerConfig = _assertThisInitialize4.playerConfig;\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      _this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({\n        autoHide: false\n      });\n      _this.isProgressMoving = true;\n      util.addClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseDownHandlerHook(e, ret);\n      var eventType = e.type;\n      if (eventType === \"touchstart\") {\n        _this.root.addEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.addEventListener(\"touchend\", _this.onMouseUp);\n      } else {\n        _this.unbind(\"mousemove\", _this.onMoveOnly);\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n      }\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function(e) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this), player = _assertThisInitialize5.player, config = _assertThisInitialize5.config, pos = _assertThisInitialize5.pos, playerConfig = _assertThisInitialize5.playerConfig, _state = _assertThisInitialize5._state;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        _this.triggerCallbacks(\"dragend\", ret, e);\n        _this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        _this.triggerCallbacks(\"click\", ret, e);\n        _this.emitUserAction(\"click\", \"click\", ret);\n      }\n      _this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      var eventType = e.type;\n      if (eventType === \"touchend\") {\n        _this.root.removeEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.removeEventListener(\"touchend\", _this.onMouseUp);\n        _this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n        if (!pos.isEnter) {\n          _this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && _this.bind(\"mousemove\", _this.onMoveOnly);\n        }\n      }\n      util.setTimeout(_assertThisInitialized(_this), function() {\n        _this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize6 = _assertThisInitialized(_this), _state = _assertThisInitialize6._state, pos = _assertThisInitialize6.pos, player = _assertThisInitialize6.player, config = _assertThisInitialize6.config;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseMoveHandlerHook(e, ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", function(e) {\n      _this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function(e) {\n      _this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this), player = _assertThisInitialize7.player, pos = _assertThisInitialize7.pos;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      _this.bind(\"mousemove\", _this.onMoveOnly);\n      _this.bind(\"mouseleave\", _this.onMouseLeave);\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var ret = _this.computeTime(e, x);\n      _this.triggerCallbacks(\"mouseenter\", ret, e);\n      _this.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      _this.triggerCallbacks(\"mouseleave\", null, e);\n      _this.unlock();\n      _this._updateInnerFocus(null);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoResize\", function() {\n      var _this$pos = _this.pos, x = _this$pos.x, isDown = _this$pos.isDown, isEnter = _this$pos.isEnter;\n      if (isEnter && !isDown) {\n        var ret = _this.computeTime(null, x);\n        _this.onMoveOnly(null, ret);\n      }\n    });\n    _this.useable = false;\n    _this.isProgressMoving = false;\n    _this.__dragCallBacks = [];\n    _this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    _this._disableBlur = false;\n    return _this;\n  }\n  _createClass(Progress2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState() {\n      var useable = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this.useable = useable;\n    }\n  }, {\n    key: \"_initInner\",\n    value: function _initInner() {\n      var _this2 = this;\n      var fragments = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (!fragments || fragments.length === 0) {\n        fragments = [{\n          percent: 1\n        }];\n      }\n      var _c = _objectSpread2(_objectSpread2({\n        fragments\n      }, config), {}, {\n        actionCallback: function actionCallback(data) {\n          _this2.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n        }\n      });\n      if (!this.innerList) {\n        this.innerList = new InnerList(_c);\n        this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n        [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map(function(item) {\n          _this2[item] = _this2.innerList[item].bind(_this2.innerList);\n        });\n      } else {\n        this.innerList.reset(_c);\n      }\n    }\n  }, {\n    key: \"_updateInnerFocus\",\n    value: function _updateInnerFocus(data) {\n      this.innerList && this.innerList.updateFocus(data);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this3 = this;\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      this.pos = {\n        x: 0,\n        y: 0,\n        moving: false,\n        isDown: false,\n        isEnter: false,\n        isLocked: false\n      };\n      this.outer = this.find(\"xg-outer\");\n      var _this$config = this.config, fragFocusClass = _this$config.fragFocusClass, fragAutoFocus = _this$config.fragAutoFocus, fragClass = _this$config.fragClass;\n      this._initInner(this.config.fragments, {\n        fragFocusClass,\n        fragAutoFocus,\n        fragClass,\n        style: this.playerConfig.commonStyle || {}\n      });\n      if (sniffer.device === \"mobile\") {\n        this.config.isDragingSeek = false;\n        this.isMobile = true;\n      }\n      this.progressBtn = this.find(\".xgplayer-progress-btn\");\n      this.on(DURATION_CHANGE, function() {\n        _this3.onMouseLeave();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this3.onTimeupdate();\n      });\n      this.on(SEEKED, function() {\n        _this3.onTimeupdate();\n        _this3.onCacheUpdate();\n      });\n      this.on(PROGRESS, function() {\n        _this3.onCacheUpdate();\n      });\n      this.on(ENDED, function() {\n        _this3.onCacheUpdate(true);\n        _this3.onTimeupdate(true);\n        _this3._state.now = 0;\n      });\n      this.on(EMPTIED, function() {\n        _this3.onReset();\n      });\n      this.on(VIDEO_RESIZE, function() {\n        _this3.onVideoResize();\n      });\n      this.bindDomEvents();\n      this.initCustomStyle();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this4 = this;\n      var frags = null;\n      Object.keys(config).forEach(function(key) {\n        _this4.config[key] = config[key];\n        if (key === \"fragments\") {\n          frags = config[key];\n        }\n      });\n      if (frags) {\n        this._initInner(frags, config);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var sliderBtnStyle = commonStyle.sliderBtnStyle;\n      var progressBtn = this.progressBtn;\n      if (sliderBtnStyle) {\n        if (typeof sliderBtnStyle === \"string\") {\n          progressBtn.style.boxShadow = sliderBtnStyle;\n        } else if (_typeof(sliderBtnStyle) === \"object\") {\n          Object.keys(sliderBtnStyle).map(function(key) {\n            progressBtn.style[key] = sliderBtnStyle[key];\n          });\n        }\n      }\n    }\n  }, {\n    key: \"triggerCallbacks\",\n    value: function triggerCallbacks(type, data, event) {\n      if (this.__dragCallBacks.length > 0) {\n        this.__dragCallBacks.map(function(item) {\n          if (item && item.handler && item.type === type) {\n            try {\n              item.handler(data, event);\n            } catch (error) {\n              console.error(\"[XGPLAYER][triggerCallbacks] \".concat(item, \" error\"), error);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addCallBack\",\n    value: function addCallBack(type, handle) {\n      if (handle && typeof handle === \"function\") {\n        this.__dragCallBacks.push({\n          type,\n          handler: handle\n        });\n      }\n    }\n  }, {\n    key: \"removeCallBack\",\n    value: function removeCallBack(type, event) {\n      var __dragCallBacks = this.__dragCallBacks;\n      var _index = -1;\n      __dragCallBacks.map(function(item, index) {\n        if (item && item.type === type && item.handler === event) {\n          _index = index;\n        }\n      });\n      if (_index > -1) {\n        __dragCallBacks.splice(_index, 1);\n      }\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      var player = this.player, pos = this.pos;\n      pos.isEnter = false;\n      if (player.isMini) {\n        return;\n      }\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      if (pos.isDown) {\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        return;\n      }\n      this.blur();\n    }\n  }, {\n    key: \"bindDomEvents\",\n    value: function bindDomEvents() {\n      var _this$player = this.player, controls = _this$player.controls, config = _this$player.config;\n      this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n      this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n      this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n      if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n        this.root.addEventListener(\"touchstart\", this.onMouseDown);\n        if (controls) {\n          controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n        this.bind(\"mousedown\", this.onMouseDown);\n        config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseover\", this.onMouseOver);\n        this.bind(\"mouseout\", this.onMouseOut);\n        this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.controls.pauseAutoHide();\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._disableBlur) {\n        return;\n      }\n      this.player.controls.recoverAutoHide();\n      util.removeClass(this.root, \"active\");\n    }\n  }, {\n    key: \"disableBlur\",\n    value: function disableBlur() {\n      this._disableBlur = true;\n    }\n  }, {\n    key: \"enableBlur\",\n    value: function enableBlur() {\n      this._disableBlur = false;\n    }\n  }, {\n    key: \"updateWidth\",\n    value: function updateWidth(currentTime, percent, type) {\n      var config = this.config, player = this.player;\n      if (config.isCloseClickSeek && type === 0) {\n        return;\n      }\n      var realTime = currentTime >= player.duration ? player.duration - config.endedDiff : Number(currentTime).toFixed(1);\n      this.updatePercent(percent);\n      this.updateTime(currentTime);\n      if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n        return;\n      }\n      this._state.now = realTime;\n      this._state.direc = realTime > player.currentTime ? 0 : 1;\n      player.seek(realTime);\n    }\n  }, {\n    key: \"computeTime\",\n    value: function computeTime(e, x) {\n      var player = this.player;\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, top = _this$root$getBoundin.top, left = _this$root$getBoundin.left;\n      var rWidth, rLeft;\n      var clientX = x;\n      if (player.rotateDeg === 90) {\n        rWidth = height;\n        rLeft = top;\n      } else {\n        rWidth = width;\n        rLeft = left;\n      }\n      var offset = clientX - rLeft;\n      offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n      var percent = offset / rWidth;\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n      var currentTime = parseInt(percent * this.duration * 1e3, 10) / 1e3;\n      return {\n        percent,\n        currentTime,\n        offset,\n        width: rWidth,\n        left: rLeft,\n        e\n      };\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      var player = this.player, duration = this.duration;\n      if (time > duration) {\n        time = duration;\n      } else if (time < 0) {\n        time = 0;\n      }\n      var timeIcon = player.plugins.time;\n      if (timeIcon) {\n        timeIcon.updateTime(time);\n      }\n    }\n  }, {\n    key: \"resetSeekState\",\n    value: function resetSeekState() {\n      this.isProgressMoving = false;\n      var timeIcon = this.player.plugins.time;\n      timeIcon && timeIcon.resetActive();\n    }\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent(percent, notSeek) {\n      this.isProgressMoving = true;\n      if (this.config.disable) {\n        return;\n      }\n      percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n      this.progressBtn.style.left = \"\".concat(percent * 100, \"%\");\n      this.innerList.update({\n        played: percent * this.duration\n      }, this.duration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: percent * this.duration\n      }, this.duration);\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate(isEnded) {\n      var player = this.player, _state = this._state, duration = this.duration;\n      if (player.isSeeking || this.isProgressMoving) {\n        return;\n      }\n      if (_state.now > -1) {\n        var abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n        if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n          _state.now = -1;\n          return;\n        } else {\n          _state.now = -1;\n        }\n      }\n      var time = this.timeOffset + player.currentTime;\n      time = util.adjustTimeByDuration(time, duration, isEnded);\n      this.innerList.update({\n        played: time\n      }, duration);\n      this.progressBtn.style.left = \"\".concat(time / duration * 100, \"%\");\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: time\n      }, duration);\n    }\n  }, {\n    key: \"onCacheUpdate\",\n    value: function onCacheUpdate(isEnded) {\n      var player = this.player, duration = this.duration;\n      if (!player) {\n        return;\n      }\n      var _end = player.bufferedPoint.end;\n      _end = util.adjustTimeByDuration(_end, duration, isEnded);\n      this.innerList.update({\n        cached: _end\n      }, duration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: _end\n      }, duration);\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.innerList.update({\n        played: 0,\n        cached: 0\n      }, 0);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: 0,\n        played: 0\n      }, 0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      var controls = player.controls;\n      this.thumbnailPlugin = null;\n      this.innerList.destroy();\n      this.innerList = null;\n      var domEventType = this.domEventType;\n      if (domEventType === \"touch\" || domEventType === \"compatible\") {\n        this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        if (controls) {\n          controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n        this.unbind(\"mousedown\", this.onMouseDown);\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        player.root.removeEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      var controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n      var className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n      return '\\n    <xg-progress class=\"xgplayer-progress '.concat(className, '\">\\n      <xg-outer class=\"xgplayer-progress-outer\">\\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\\n      </xg-outer>\\n    </xg-progress>\\n    ');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_CENTER,\n        index: 0,\n        disable: false,\n        isDragingSeek: true,\n        closeMoveSeek: false,\n        isPauseMoving: false,\n        isCloseClickSeek: false,\n        fragments: [{\n          percent: 1\n        }],\n        fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n        fragClass: \"\",\n        fragAutoFocus: false,\n        miniMoveStep: 5,\n        miniStartStep: 2,\n        onMoveStart: function onMoveStart() {\n        },\n        onMoveEnd: function onMoveEnd() {\n        },\n        endedDiff: 0.2\n      };\n    }\n  }, {\n    key: \"FRAGMENT_FOCUS_CLASS\",\n    get: function get() {\n      return FRAGMENT_FOCUS_CLASS;\n    }\n  }]);\n  return Progress2;\n}(Plugin);\nexport { Progress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Fullscreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Fullscreen2, _Plugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseenter\", function(e) {\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseLeave\", function(e) {\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.bind(\"mouseenter\", this._onMouseenter);\n      this.bind(\"mouseleave\", this._onMouseLeave);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\"mouseenter\", this._onMouseenter);\n      this.unbind(\"mouseleave\", this._onMouseLeave);\n    }\n  }]);\n  return Fullscreen2;\n}(Plugin);\nexport { Fullscreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Fullscreen from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar Play = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Play2, _IconPlugin);\n  var _super = _createSuper(Play2);\n  function Play2() {\n    _classCallCheck(this, Play2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Play2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(Play2.prototype), \"afterCreate\", this).call(this);\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      this.initIcons();\n      this.btnClick = this.btnClick.bind(this);\n      this.bind([\"touchend\", \"click\"], this.btnClick);\n      this.on([PAUSE, ERROR, EMPTIED], function() {\n        _this.animate(player.paused);\n      });\n      this.on(PLAY, function() {\n        _this.animate(player.paused);\n      });\n      this.animate(true);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (player.ended) {\n        player.replay();\n      } else if (player.paused) {\n        player.play();\n        this.animate(false);\n      } else {\n        player.pause();\n        this.animate(true);\n      }\n      return false;\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.play);\n      this.appendChild(\".xgplayer-icon\", icons.pause);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(paused) {\n      if (!this.player) {\n        return;\n      }\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      if (paused) {\n        this.setAttr(\"data-state\", \"pause\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n      } else {\n        this.setAttr(\"data-state\", \"play\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Play2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"touchend\", \"click\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-play\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"play\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Play2;\n}(Fullscreen);\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nvar TopBackIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(TopBackIcon2, _Plugin);\n  var _super = _createSuper(TopBackIcon2);\n  function TopBackIcon2() {\n    _classCallCheck(this, TopBackIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TopBackIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.initIcons();\n      this.onClick = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.config.onClick(e);\n      };\n      this.bind([\"click\", \"touchend\"], this.onClick);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenBack: {\n          icon: BackSVG,\n          class: \"xg-fullscreen-back\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(this.root, icons.screenBack);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-back\">\\n    </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"topbackicon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT_TOP,\n        index: 0\n      };\n    }\n  }]);\n  return TopBackIcon2;\n}(Plugin);\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Fullscreen$1 from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nvar Fullscreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Fullscreen2, _IconPlugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onOrientationChange\", function(e) {\n      if (_this.player.fullscreen && _this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          _this.player.setRotateDeg(0);\n        } else {\n          _this.player.setRotateDeg(90);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config, playerConfig = this.playerConfig;\n      if (config.disable) {\n        return;\n      }\n      if (config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      var fullEl = util.getFullScreenEl();\n      if (playerConfig.fullscreenTarget === fullEl) {\n        this.player.getFullscreen().catch(function(e) {\n        });\n      }\n      this.initIcons();\n      this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n        pre: function pre(e) {\n          var fullscreen = _this2.player.fullscreen;\n          _this2.emitUserAction(e, \"switch_fullscreen\", {\n            prop: \"fullscreen\",\n            from: fullscreen,\n            to: !fullscreen\n          });\n        }\n      });\n      this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n      this.on(FULLSCREEN_CHANGE, function(isFullScreen) {\n        var tipsDom = _this2.find(\".xg-tips\");\n        tipsDom && _this2.changeLangTextKey(tipsDom, isFullScreen ? _this2.i18nKeys.EXITFULLSCREEN_TIPS : _this2.i18nKeys.FULLSCREEN_TIPS);\n        _this2.animate(isFullScreen);\n      });\n      if (this.config.needBackIcon) {\n        this.topBackIcon = this.player.registerPlugin({\n          plugin: TopBackIcon,\n          options: {\n            config: {\n              onClick: function onClick(e) {\n                _this2.handleFullscreen(e);\n              }\n            }\n          }\n        });\n      }\n      if (sniffer.device === \"mobile\") {\n        window.addEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        fullscreen: {\n          icon: FullScreenSvg,\n          class: \"xg-get-fullscreen\"\n        },\n        exitFullscreen: {\n          icon: ExitFullScreenSvg,\n          class: \"xg-exit-fullscreen\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n      if (sniffer.device === \"mobile\") {\n        window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n      this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n    }\n  }, {\n    key: \"toggleFullScreen\",\n    value: function toggleFullScreen(e) {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      var player = this.player, config = this.config;\n      var useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n      if (useCssFullscreen) {\n        if (player.fullscreen) {\n          player.exitCssFullscreen();\n        } else {\n          player.getCssFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.rotateFullscreen) {\n        if (player.fullscreen) {\n          player.exitRotateFullscreen();\n        } else {\n          player.getRotateFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n        config.switchCallback(player.fullscreen);\n      } else {\n        if (player.fullscreen) {\n          player.exitFullscreen();\n        } else {\n          player.getFullscreen().catch(function(e2) {\n          });\n        }\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      if (this.topBackIcon) {\n        if (isFullScreen) {\n          this.topBackIcon.show();\n          this.hide();\n        } else {\n          this.topBackIcon.hide();\n          this.show();\n        }\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"hide\", this).call(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var langKey = \"FULLSCREEN_TIPS\";\n      return '<xg-icon class=\"xgplayer-fullscreen\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, langKey, this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"fullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 0,\n        useCssFullscreen: false,\n        rotateFullscreen: false,\n        switchCallback: null,\n        target: null,\n        disable: false,\n        needBackIcon: false\n      };\n    }\n  }]);\n  return Fullscreen2;\n}(Fullscreen$1);\nexport { Fullscreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, ENDED, EMPTIED, SEEKED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar Time = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Time2, _Plugin);\n  var _super = _createSuper(Time2);\n  function Time2(args) {\n    var _this;\n    _classCallCheck(this, Time2);\n    _this = _super.call(this, args);\n    _this.isActiving = false;\n    return _this;\n  }\n  _createClass(Time2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      return this.player.currentTime || 0;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var constrolsMode = this.player.controls.config.mode;\n      this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n      if (this.config.disable) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.createCenterTime();\n        this.hide();\n      }\n      this.durationDom = this.find(\".time-duration\");\n      this.timeDom = this.find(\".time-current\");\n      this.on(DURATION_CHANGE, function() {\n        _this2.onTimeUpdate();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this2.onTimeUpdate();\n      });\n      this.on(ENDED, function() {\n        _this2.onTimeUpdate(true);\n      });\n      this.on(EMPTIED, function() {\n        _this2.onReset();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.mode === \"flex\") {\n        return;\n      }\n      _get(_getPrototypeOf(Time2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(isEnded) {\n      var player = this.player, config = this.config, duration = this.duration;\n      if (config.disable || this.isActiving || !player.hasStart) {\n        return;\n      }\n      var current = player.currentTime + this.timeOffset;\n      current = util.adjustTimeByDuration(current, duration, isEnded);\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = util.format(current);\n        if (duration !== Infinity && duration > 0) {\n          this.centerDurDom.innerHTML = util.format(duration);\n        }\n      } else {\n        this.timeDom.innerHTML = util.format(current);\n        if (duration !== Infinity && duration > 0) {\n          this.durationDom.innerHTML = util.format(duration);\n        }\n      }\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = util.format(0);\n        this.centerDurDom.innerHTML = util.format(0);\n      } else {\n        this.timeDom.innerHTML = util.format(0);\n        this.durationDom.innerHTML = util.format(0);\n      }\n    }\n  }, {\n    key: \"createCenterTime\",\n    value: function createCenterTime() {\n      var player = this.player;\n      if (!player.controls || !player.controls.center) {\n        return;\n      }\n      var center = player.controls.center;\n      this.centerCurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time left\");\n      this.centerDurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time right\");\n      center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n      center.appendChild(this.centerDurDom);\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n      var config = this.config;\n      if (this.duration === Infinity || this.playerConfig.isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n      }\n      if (config.hide) {\n        this.hide();\n        return;\n      }\n      this.show();\n    }\n  }, {\n    key: \"changeLiveState\",\n    value: function changeLiveState(isLive) {\n      if (isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n        util.show(this.find(\".time-separator\"));\n        util.show(this.durationDom);\n        util.show(this.timeDom);\n      }\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      this.isActiving = true;\n      if (!time && time !== 0 || time > this.duration) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = util.format(time);\n        return;\n      }\n      this.timeDom.innerHTML = util.format(time);\n    }\n  }, {\n    key: \"resetActive\",\n    value: function resetActive() {\n      var _this3 = this;\n      var player = this.player;\n      var updateState = function updateState2() {\n        _this3.isActiving = false;\n      };\n      this.off(SEEKED, updateState);\n      if (player.isSeeking) {\n        this.once(SEEKED, updateState);\n      } else {\n        this.isActiving = false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var center = this.player.controls.center;\n      this.centerCurDom && center.removeChild(this.centerCurDom);\n      this.centerCurDom = null;\n      this.centerDurDom && center.removeChild(this.centerDurDom);\n      this.centerDurDom = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-time\">\\n    <span class=\"time-current\">00:00</span>\\n    <span class=\"time-separator\">/</span>\\n    <span class=\"time-duration\">00:00</span>\\n    <span class=\"time-live-tag\">'.concat(this.i18n.LIVE_TIP, \"</span>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"time\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 2,\n        disable: false\n      };\n    }\n  }]);\n  return Time2;\n}(Plugin);\nexport { Time as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nvar Volume = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Volume2, _Plugin);\n  var _super = _createSuper(Volume2);\n  function Volume2() {\n    var _this;\n    _classCallCheck(this, Volume2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBarMousedown\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      var bar = _this.find(\".xgplayer-bar\");\n      util.event(e);\n      var barRect = bar.getBoundingClientRect();\n      var pos = util.getEventPos(e, player.zoom);\n      var height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      _this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      _this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", _this.onBarMouseUp);\n      _this._d.isStart = true;\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseMove\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _d = _assertThisInitialize2._d;\n      if (!_d.isStart) {\n        return;\n      }\n      var _assertThisInitialize3 = _assertThisInitialized(_this), pos = _assertThisInitialize3.pos, player = _assertThisInitialize3.player;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      var w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      _this.updateVolumePos(w, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseUp\", function(e) {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", _this.onBarMouseUp);\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _d = _assertThisInitialize4._d;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseenter\", function(e) {\n      _this._d.isActive = true;\n      _this.focus();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseleave\", function(e) {\n      _this._d.isActive = false;\n      _this.unFocus(100, false, e);\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChange\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      var _this$player = _this.player, muted = _this$player.muted, volume = _this$player.volume;\n      if (!_this._d.isMoving) {\n        _this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : \"\".concat(volume * 100, \"%\");\n        if (_this.config.showValueLabel) {\n          _this.updateVolumeValue();\n        }\n      }\n      _this.animate(muted, volume);\n    });\n    return _this;\n  }\n  _createClass(Volume2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        volumeSmall: {\n          icon: volumeSmallSvg,\n          class: \"xg-volume-small\"\n        },\n        volumeLarge: {\n          icon: volumeLargeSvg,\n          class: \"xg-volume\"\n        },\n        volumeMuted: {\n          icon: volumeMutedSvg,\n          class: \"xg-volume-mute\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._timerId = null;\n      this._d = {\n        isStart: false,\n        isMoving: false,\n        isActive: false\n      };\n      if (this.config.disable) {\n        return;\n      }\n      this.initIcons();\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, volume = _this$playerConfig.volume;\n      if (commonStyle.volumeColor) {\n        this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n      }\n      this.changeMutedHandler = this.hook(\"mutedChange\", function(e) {\n        _this2.changeMuted(e);\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n      this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n      if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this._onMouseenterHandler);\n        this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n        this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n        this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n        this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      }\n      this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n      this.on(VOLUME_CHANGE, this.onVolumeChange);\n      this.once(LOADED_DATA, this.onVolumeChange);\n      if (util.typeOf(volume) !== \"Number\") {\n        this.player.volume = this.config.default;\n      }\n      this.onVolumeChange();\n    }\n  }, {\n    key: \"updateVolumePos\",\n    value: function updateVolumePos(height, event) {\n      var player = this.player;\n      var drag = this.find(\".xgplayer-drag\");\n      var bar = this.find(\".xgplayer-bar\");\n      if (!bar || !drag) {\n        return;\n      }\n      var now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n      drag.style.height = \"\".concat(height, \"px\");\n      var to = Math.max(Math.min(now / 1e3, 1), 0);\n      var props = {\n        volume: {\n          from: player.volume,\n          to\n        }\n      };\n      if (player.muted) {\n        props.muted = {\n          from: true,\n          to: false\n        };\n      }\n      this.emitUserAction(event, \"change_volume\", {\n        muted: player.muted,\n        volume: player.volume,\n        props\n      });\n      player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n      player.muted && (player.muted = false);\n      if (this.config.showValueLabel) {\n        this.updateVolumeValue();\n      }\n    }\n  }, {\n    key: \"updateVolumeValue\",\n    value: function updateVolumeValue() {\n      var _this$player2 = this.player, volume = _this$player2.volume, muted = _this$player2.muted;\n      var $labelValue = this.find(\".xgplayer-value-label\");\n      var vol = Math.max(Math.min(volume, 1), 0);\n      $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var player = this.player;\n      player.focus({\n        autoHide: false\n      });\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      util.addClass(this.root, \"slide-show\");\n    }\n  }, {\n    key: \"unFocus\",\n    value: function unFocus() {\n      var _this3 = this;\n      var delay = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 100;\n      var isForce = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var e = arguments.length > 2 ? arguments[2] : void 0;\n      var _d = this._d, player = this.player;\n      if (_d.isActive) {\n        return;\n      }\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this._timerId = util.setTimeout(this, function() {\n        if (!_d.isActive) {\n          isForce ? player.blur() : player.focus();\n          util.removeClass(_this3.root, \"slide-show\");\n          _d.isStart && _this3.onBarMouseUp(e);\n        }\n        _this3._timerId = null;\n      }, delay);\n    }\n  }, {\n    key: \"changeMuted\",\n    value: function changeMuted(e) {\n      e && e.stopPropagation();\n      var player = this.player, _d = this._d;\n      _d.isStart && this.onBarMouseUp(e);\n      this.emitUserAction(e, \"change_muted\", {\n        muted: player.muted,\n        volume: player.volume,\n        props: {\n          muted: {\n            from: player.muted,\n            to: !player.muted\n          }\n        }\n      });\n      if (player.volume > 0) {\n        player.muted = !player.muted;\n      }\n      if (player.volume < 0.01) {\n        player.volume = this.config.miniVolume;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(muted, volume) {\n      if (muted || volume === 0) {\n        this.setAttr(\"data-state\", \"mute\");\n      } else if (volume < 0.5 && this.icons.volumeSmall) {\n        this.setAttr(\"data-state\", \"small\");\n      } else {\n        this.setAttr(\"data-state\", \"normal\");\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n      this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n      this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this.unbind(\"mouseenter\", this.onMouseenter);\n      this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n      this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var volume = this.config.default || this.player.volume;\n      var isShowVolumeValue = this.config.showValueLabel;\n      return '\\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      <xg-slider class=\"xgplayer-slider\">\\n        '.concat(isShowVolumeValue ? '<div class=\"xgplayer-value-label\">'.concat(volume * 100, \"</div>\") : \"\", '\\n        <div class=\"xgplayer-bar\">\\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ').concat(volume * 100, '%\"></xg-drag>\\n        </div>\\n      </xg-slider>\\n    </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"volume\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        showValueLabel: false,\n        default: 0.6,\n        miniVolume: 0.2\n      };\n    }\n  }]);\n  return Volume2;\n}(Plugin);\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Fullscreen from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nvar Rotate = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Rotate2, _IconPlugin);\n  var _super = _createSuper(Rotate2);\n  function Rotate2(args) {\n    var _this;\n    _classCallCheck(this, Rotate2);\n    _this = _super.call(this, args);\n    _this.rotateDeg = _this.config.rotateDeg || 0;\n    return _this;\n  }\n  _createClass(Rotate2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.config.disable) {\n        return;\n      }\n      _get(_getPrototypeOf(Rotate2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n      this.onBtnClick = this.onBtnClick.bind(this);\n      this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n      this.on(VIDEO_RESIZE, function() {\n        if (_this2.rotateDeg) {\n          util.setTimeout(_this2, function() {\n            _this2.updateRotateDeg(_this2.rotateDeg, _this2.config.innerRotate);\n          }, 100);\n        }\n      });\n      if (this.rotateDeg) {\n        this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Rotate2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    }\n  }, {\n    key: \"onBtnClick\",\n    value: function onBtnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"rotate\");\n      this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n    }\n  }, {\n    key: \"updateRotateDeg\",\n    value: function updateRotateDeg(rotateDeg, innerRotate) {\n      var player = this.player;\n      if (!rotateDeg) {\n        rotateDeg = 0;\n      }\n      var _this$player = this.player, root = _this$player.root, innerContainer = _this$player.innerContainer;\n      var video = this.player.media;\n      var width = root.offsetWidth;\n      var height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n      var rWidth = \"100%\";\n      var rHeight = \"100%\";\n      var x = 0;\n      var y = 0;\n      if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n        rWidth = \"\".concat(height, \"px\");\n        rHeight = \"\".concat(width, \"px\");\n        x = -(height - width) / 2;\n        y = -(width - height) / 2;\n      }\n      var _transform = \"translate(\".concat(x, \"px,\").concat(y, \"px) rotate(\").concat(rotateDeg, \"turn)\");\n      var _styles = {\n        transformOrigin: \"center center\",\n        transform: _transform,\n        webKitTransform: _transform,\n        height: rHeight,\n        width: rWidth\n      };\n      var _target = innerRotate ? video : root;\n      var poster = innerRotate ? player.getPlugin(\"poster\") : null;\n      Object.keys(_styles).map(function(key) {\n        _target.style[key] = _styles[key];\n        poster && poster.root && (poster.root.style[key] = _styles[key]);\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      var clockwise = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var innerRotate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var times = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;\n      var player = this.player;\n      if (!this.rotateDeg) {\n        this.rotateDeg = 0;\n      }\n      var factor = clockwise ? 1 : -1;\n      this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n      this.updateRotateDeg(this.rotateDeg, innerRotate);\n      player.emit(ROTATE, this.rotateDeg * 360);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        rotate: RotateSvg\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n    <xg-icon class=\"xgplayer-rotate\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"rotate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        innerRotate: true,\n        clockwise: false,\n        rotateDeg: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Rotate2;\n}(Fullscreen);\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Fullscreen from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nvar PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nvar PIP = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(PIP2, _IconPlugin);\n  var _super = _createSuper(PIP2);\n  function PIP2() {\n    var _this;\n    _classCallCheck(this, PIP2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"switchPIP\", function(e) {\n      if (!_this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation();\n      if (_this.isPip) {\n        _this.exitPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: true,\n          to: false\n        });\n        _this.setAttr(\"data-state\", \"normal\");\n      } else if (_this.player.media.readyState === 4) {\n        _this.requestPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: false,\n          to: true\n        });\n        _this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n    return _this;\n  }\n  _createClass(PIP2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.pip === \"boolean\") {\n        args.config.showIcon = args.player.config.pip;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.isPIPAvailable()) {\n        return;\n      }\n      _get(_getPrototypeOf(PIP2.prototype), \"afterCreate\", this).call(this);\n      this.pMode = PresentationMode.INLINE;\n      this.initPipEvents();\n      if (this.config.showIcon) {\n        this.initIcons();\n      }\n      this.once(COMPLETE, function() {\n        if (_this2.config.showIcon) {\n          util.removeClass(_this2.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n          _this2.bind(\"click\", _this2.switchPIP);\n        }\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        pipIcon: {\n          icon: PipIcon,\n          class: \"xg-get-pip\"\n        },\n        pipIconExit: {\n          icon: PipIconExit,\n          class: \"xg-exit-pip\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n      this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n    }\n  }, {\n    key: \"initPipEvents\",\n    value: function initPipEvents() {\n      var _this3 = this;\n      var player = this.player;\n      this.leavePIPCallback = function() {\n        var paused = player.paused;\n        util.setTimeout(_this3, function() {\n          !paused && player.mediaPlay();\n        }, 0);\n        !paused && player.mediaPlay();\n        _this3.setAttr(\"data-state\", \"normal\");\n        player.emit(PIP_CHANGE, false);\n      };\n      this.enterPIPCallback = function(e) {\n        player.emit(PIP_CHANGE, true);\n        _this3.pipWindow = e.pictureInPictureWindow;\n        _this3.setAttr(\"data-state\", \"pip\");\n      };\n      this.onWebkitpresentationmodechanged = function(e) {\n        var mode = player.media.webkitPresentationMode;\n        if (_this3.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n          player.onFullscreenChange(null, false);\n        }\n        _this3.pMode = mode;\n        if (mode === PresentationMode.PIP) {\n          _this3.enterPIPCallback(e);\n        } else if (mode === PresentationMode.INLINE) {\n          _this3.leavePIPCallback(e);\n        }\n      };\n      if (player.media) {\n        player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n        player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n        PIP2.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      }\n    }\n  }, {\n    key: \"requestPIP\",\n    value: function requestPIP() {\n      var player = this.player, playerConfig = this.playerConfig;\n      if (!this.isPIPAvailable() || this.isPip) {\n        return;\n      }\n      try {\n        var poster = playerConfig.poster;\n        if (poster) {\n          player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n        }\n        PIP2.checkWebkitSetPresentationMode(player.media) ? player.media.webkitSetPresentationMode(\"picture-in-picture\") : player.media.requestPictureInPicture();\n        return true;\n      } catch (reason) {\n        console.error(\"requestPiP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"exitPIP\",\n    value: function exitPIP() {\n      var player = this.player;\n      try {\n        if (this.isPIPAvailable() && this.isPip) {\n          PIP2.checkWebkitSetPresentationMode(player.media) ? player.media.webkitSetPresentationMode(\"inline\") : document.exitPictureInPicture();\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"exitPIP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"isPip\",\n    get: function get() {\n      var player = this.player;\n      return document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n    }\n  }, {\n    key: \"isPIPAvailable\",\n    value: function isPIPAvailable() {\n      var video = this.player.media;\n      var _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n      return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PIP2.prototype), \"destroy\", this).call(this);\n      var player = this.player;\n      player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP2.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      this.exitPIP();\n      this.unbind(\"click\", this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.showIcon || !this.isPIPAvailable()) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-pip\">\\n      <div class=\"xgplayer-icon xg-icon-disable\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PIP\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pip\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        showIcon: false\n      };\n    }\n  }, {\n    key: \"checkWebkitSetPresentationMode\",\n    value: function checkWebkitSetPresentationMode(video) {\n      return typeof video.webkitSetPresentationMode === \"function\";\n    }\n  }]);\n  return PIP2;\n}(Fullscreen);\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nvar PlayNextIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(PlayNextIcon2, _Plugin);\n  var _super = _createSuper(PlayNextIcon2);\n  function PlayNextIcon2(options) {\n    var _this;\n    _classCallCheck(this, PlayNextIcon2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"playNext\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.idx + 1 < _this.config.urlList.length) {\n        _this.idx++;\n        _this.nextHandler(_this.config.urlList[_this.idx], _this.idx);\n        player.emit(PLAYNEXT, _this.idx + 1);\n      } else {\n        _this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    _this.idx = -1;\n    return _this;\n  }\n  _createClass(PlayNextIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n      this.initEvents();\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        playNext: Next\n      };\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n      var event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n      this.bind(event, this.playNext);\n      this.show();\n    }\n  }, {\n    key: \"changeSrc\",\n    value: function changeSrc(url) {\n      var player = this.player;\n      if (!url) {\n        return;\n      }\n      player.pause();\n      player.currentTime = 0;\n      if (player.switchURL) {\n        player.switchURL(url);\n      } else {\n        player.src = url;\n      }\n      player.config.url = url;\n      player.play();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"touchend\", \"click\"], this.playNext);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      return '\\n     <xg-icon class=\"xgplayer-playnext\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips), \"\\n     </xg-icon>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playNext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 1,\n        url: null,\n        urlList: []\n      };\n    }\n  }]);\n  return PlayNextIcon2;\n}(Plugin);\nexport { PlayNextIcon as default };\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport downloadUtil from \"downloadjs\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Fullscreen from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nvar Download = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Download2, _IconPlugin);\n  var _super = _createSuper(Download2);\n  function Download2(args) {\n    var _this;\n    _classCallCheck(this, Download2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"download\", function(e) {\n      if (_this.isLock) {\n        return;\n      }\n      _this.emitUserAction(e, \"download\");\n      var url = _this.getAbsoluteURL(_this.player.src);\n      downloadUtil(url);\n      _this.isLock = true;\n      _this.timer = window.setTimeout(function() {\n        _this.isLock = false;\n        window.clearTimeout(_this.timer);\n        _this.timer = null;\n      }, 300);\n    });\n    _this.timer = null;\n    _this.isLock = false;\n    return _this;\n  }\n  _createClass(Download2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Download2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.download);\n      this.bind([\"click\", \"touchend\"], this.download);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        download: DownloadSvg\n      };\n    }\n  }, {\n    key: \"getAbsoluteURL\",\n    value: function getAbsoluteURL(url) {\n      if (!url.match(/^https?:\\/\\//)) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = '<a href=\"'.concat(url, '\">x</a>');\n        url = div.firstChild.href;\n      }\n      return url;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Download2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.download);\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-download\">\\n   <div class=\"xgplayer-icon\">\\n   </div>\\n   '.concat(xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"download\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        disable: true\n      };\n    }\n  }]);\n  return Download2;\n}(Fullscreen);\nexport { Download as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Fullscreen from \"../common/iconPlugin.js\";\nvar ScreenShot = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(ScreenShot2, _IconPlugin);\n  var _super = _createSuper(ScreenShot2);\n  function ScreenShot2() {\n    _classCallCheck(this, ScreenShot2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ScreenShot2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.screenShot === \"boolean\") {\n        args.config.disable = !args.player.config.screenShot;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n      var config = this.config;\n      this.initSize = function(data) {\n        if (config.fitVideo) {\n          config.width = data.vWidth;\n          config.height = data.vHeight;\n        }\n      };\n      this.once(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      this.show();\n      this.onClickBtn = this.onClickBtn.bind(this);\n      this.bind([\"click\", \"touchend\"], this.onClickBtn);\n    }\n  }, {\n    key: \"saveScreenShot\",\n    value: function saveScreenShot(data, filename) {\n      var saveLink = document.createElement(\"a\");\n      saveLink.href = data;\n      saveLink.download = filename;\n      var event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      saveLink.dispatchEvent(event);\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(width, height) {\n      var canvas = document.createElement(\"canvas\");\n      var canvasCtx = canvas.getContext(\"2d\");\n      this.canvasCtx = canvasCtx;\n      this.canvas = canvas;\n      canvas.width = width || this.config.width;\n      canvas.height = height || this.config.height;\n      canvasCtx.imageSmoothingEnabled = true;\n      if (canvasCtx.imageSmoothingEnabled) {\n        canvasCtx.imageSmoothingQuality = \"high\";\n      }\n    }\n  }, {\n    key: \"onClickBtn\",\n    value: function onClickBtn(e) {\n      var _this = this;\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"shot\");\n      this.shot().then(function(data) {\n        _this.emit(SCREEN_SHOT, data);\n        _this.saveScreenShot(data, _this.config.name + _this.config.format);\n      });\n    }\n  }, {\n    key: \"shot\",\n    value: function shot(width, height) {\n      var _this2 = this;\n      var option = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n        quality: 0.92,\n        type: \"image/png\"\n      };\n      var config = this.config, player = this.player;\n      var quality = option.quality || config.quality;\n      var type = option.type || config.type;\n      return new Promise(function(resolve, reject) {\n        var canvas = null;\n        var canvasCtx;\n        if (player.media.canvas) {\n          canvas = player.media.canvas;\n        } else {\n          if (!_this2.canvas) {\n            _this2.createCanvas(width, height);\n          } else {\n            _this2.canvas.width = width || config.width;\n            _this2.canvas.height = height || config.height;\n          }\n          canvas = _this2.canvas;\n          canvasCtx = _this2.canvasCtx;\n          var mediaRatio = player.media.videoWidth / player.media.videoHeight;\n          var canvasRatio = canvas.width / canvas.height;\n          var sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n          var dx, dy, dw, dh;\n          if (mediaRatio > canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.width / mediaRatio;\n            dx = 0;\n            dy = Math.round((canvas.height - dh) / 2);\n          } else if (mediaRatio === canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.height;\n            dx = 0;\n            dy = 0;\n          } else if (mediaRatio < canvasRatio) {\n            dw = canvas.height * mediaRatio;\n            dh = canvas.height;\n            dx = Math.round((canvas.width - dw) / 2);\n            dy = 0;\n          }\n          canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n        }\n        var src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n        src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n        resolve(src);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenshotIcon: null\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n      this.off(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n      var langKey = \"SCREENSHOT\";\n      return '\\n      <xg-icon class=\"xgplayer-shot\">\\n      <div class=\"'.concat(className, '\">\\n      ').concat(this.icons.screenshotIcon ? \"\" : '<span lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span>\"), \"\\n      </div>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"screenShot\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 5,\n        quality: 0.92,\n        type: \"image/png\",\n        format: \".png\",\n        width: 600,\n        height: 337,\n        fitVideo: true,\n        disable: false,\n        name: \"screenshot\"\n      };\n    }\n  }]);\n  return ScreenShot2;\n}(Fullscreen);\nexport { ScreenShot as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar OptionList = /* @__PURE__ */ function() {\n  function OptionList2(args) {\n    _classCallCheck(this, OptionList2);\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, \"xg-options-list \".concat(this.config.className));\n    args.root.appendChild(this.root);\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    var eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  _createClass(OptionList2, [{\n    key: \"renderItemList\",\n    value: function renderItemList(data) {\n      var _this = this;\n      var config = this.config, root = this.root;\n      if (data) {\n        config.data = data;\n      } else {\n        data = config.data;\n      }\n      if (config.style) {\n        Object.keys(config.style).map(function(key) {\n          root.style[key] = config[key];\n        });\n      }\n      if (data.length > 0) {\n        this.attrKeys = Object.keys(data[0]);\n      }\n      this.root.innerHTML = \"\";\n      data.map(function(item, index) {\n        var className = item.selected ? \"option-item selected\" : \"option-item\";\n        item[\"data-index\"] = index;\n        _this.root.appendChild(util.createDom(\"li\", \"<span>\".concat(item.showText, \"</span>\"), item, className));\n      });\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e) {\n      if (!e.delegateTarget) {\n        e.delegateTarget = e.target;\n      }\n      var target = e.delegateTarget;\n      if (target && util.hasClass(target, \"selected\")) {\n        return false;\n      }\n      var changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n      var curSelected = this.root.querySelector(\".selected\");\n      util.addClass(target, \"selected\");\n      curSelected && util.removeClass(curSelected, \"selected\");\n      changeCallback(e, {\n        from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n        to: this.getAttrObj(target, this.attrKeys)\n      });\n    }\n  }, {\n    key: \"getAttrObj\",\n    value: function getAttrObj(dom, keys) {\n      if (!dom || !keys) {\n        return {};\n      }\n      var obj = {};\n      keys.map(function(key) {\n        obj[key] = dom.getAttribute(key);\n      });\n      var index = dom.getAttribute(\"data-index\");\n      if (index) {\n        obj.index = Number(index);\n      }\n      return obj;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"active\");\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._delegates) {\n        this._delegates.map(function(item) {\n          item.destroy && item.destroy();\n        });\n        this._delegates = null;\n      }\n      this.root.innerHTML = null;\n      this.parent.removeChild(this.root);\n      this.root = null;\n    }\n  }]);\n  return OptionList2;\n}();\nexport { OptionList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nvar LIST_TYPES = {\n  RIGHT_SIDE: \"rightSide\",\n  MIDDLE: \"middle\"\n};\nvar IS_MOBILE = sniffer.device === \"mobile\";\nvar OptionsIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(OptionsIcon2, _Plugin);\n  var _super = _createSuper(OptionsIcon2);\n  function OptionsIcon2(args) {\n    var _this;\n    _classCallCheck(this, OptionsIcon2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n      _this.toggle(true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onLeave\", function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n      if (_this.config.listType !== LIST_TYPES.RIGHT_SIDE) {\n        _this.isActive && _this.toggle(false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListEnter\", function(e) {\n      console.log(\"onListEnter\");\n      _this.enterType = 2;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListLeave\", function(e) {\n      console.log(\"onListLeave\", e.target);\n      _this.enterType = 0;\n      _this.isActive && _this.toggle(false);\n    });\n    _this.isIcons = false;\n    _this.isActive = false;\n    _this.curValue = null;\n    _this.curIndex = 0;\n    return _this;\n  }\n  _createClass(OptionsIcon2, [{\n    key: \"updateLang\",\n    value: function updateLang(value) {\n      this.renderItemList(this.config.list, this.curIndex);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var config = this.config;\n      this.initIcons();\n      if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n        config.listType = \"rightSide\";\n      }\n      config.hidePortrait && util.addClass(this.root, \"portrait\");\n      this.once(CANPLAY, function() {\n        if (config.list && config.list.length > 0) {\n          _this2.renderItemList(config.list);\n          _this2.show();\n        }\n      });\n      IS_MOBILE && this.on(PLAYER_FOCUS, function() {\n        if (!_this2.isActive) {\n          return;\n        }\n        _this2.optionsList && _this2.optionsList.hide();\n        _this2.isActive = false;\n      });\n      this.activeEvent = IS_MOBILE ? \"touchend\" : \"mouseenter\";\n      this.bind(this.activeEvent, this.onEnter);\n      this.bind(\"mouseleave\", this.onLeave);\n      this.isIcons && this.bind(\"click\", this.onIconClick);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var _this3 = this;\n      var icons = this.icons;\n      var _c = Object.keys(icons);\n      var _isIcons = false;\n      if (_c.length > 0) {\n        _c.forEach(function(key) {\n          _this3.appendChild(\".xgplayer-icon\", icons[key]);\n          !_isIcons && (_isIcons = icons[key]);\n        });\n        this.isIcons = _isIcons;\n      }\n      if (_isIcons) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n      util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"getTextByLang\",\n    value: function getTextByLang(item, key, lang) {\n      if (item === void 0) {\n        return \"\";\n      }\n      var list = this.config.list;\n      !lang && (lang = this.player.lang);\n      key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n      typeof item === \"number\" && (item = list[item]);\n      try {\n        if (_typeof(item[key]) === \"object\") {\n          return item[key][lang] || item[key].zh;\n        } else {\n          return item[key];\n        }\n      } catch (err) {\n        console.warn(err);\n        return \"\";\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isActive) {\n      if (isActive === this.isActive)\n        return;\n      var controls = this.player.controls;\n      var listType = this.config.listType;\n      if (isActive) {\n        listType === \"rightSide\" ? controls.blur() : controls.focus();\n        this.optionsList && this.optionsList.show();\n      } else {\n        listType === \"rightSide\" ? controls.focus() : controls.focusAwhile();\n        this.optionsList && this.optionsList.hide();\n      }\n      this.isActive = isActive;\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      e.preventDefault();\n      e.stopPropagation();\n      var _this$config = this.config, listType = _this$config.listType, list = _this$config.list;\n      this.curIndex = data.to.index;\n      this.curItem = list[this.curIndex];\n      this.changeCurrentText();\n      var isItemClickHide = this.config.isItemClickHide;\n      (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.RIGHT_SIDE) && this.toggle(false);\n    }\n  }, {\n    key: \"onIconClick\",\n    value: function onIconClick(e) {\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      if (!curItem)\n        return;\n      this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList(itemList, curIndex) {\n      var _this4 = this;\n      var config = this.config, optionsList = this.optionsList, player = this.player;\n      if (typeof curIndex === \"number\") {\n        this.curIndex = curIndex;\n        this.curItem = config.list[curIndex];\n      }\n      if (optionsList) {\n        optionsList.renderItemList(itemList);\n        this.changeCurrentText();\n        return;\n      }\n      var options = {\n        config: {\n          data: itemList || [],\n          className: config.listType === LIST_TYPES.RIGHT_SIDE ? \"right-side\" : \"\",\n          onItemClick: function onItemClick(e, data) {\n            _this4.onItemClick(e, data);\n          }\n        },\n        root: config.listType === LIST_TYPES.RIGHT_SIDE ? player.root : this.root\n      };\n      if (this.config.isShowIcon) {\n        this.optionsList = new OptionList(options);\n        this.changeCurrentText();\n        this.show();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(this.activeEvent, this.onEnter);\n      this.unbind(\"mouseleave\", this.onLeave);\n      if (this.optionsList) {\n        this.optionsList.destroy();\n        this.optionsList = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.isShowIcon) {\n        return;\n      }\n      return '<xg-icon class=\"xg-options-icon '.concat(this.config.className || \"\", '\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n   </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"optionsIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 100,\n        list: [],\n        listType: \"middle\",\n        listStyle: {},\n        hidePortrait: true,\n        isShowIcon: false,\n        isItemClickHide: true\n      };\n    }\n  }]);\n  return OptionsIcon2;\n}(Plugin);\nexport { OptionsIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar DefinitionIcon = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(DefinitionIcon2, _OptionsIcon);\n  var _super = _createSuper(DefinitionIcon2);\n  function DefinitionIcon2(args) {\n    var _this;\n    _classCallCheck(this, DefinitionIcon2);\n    _this = _super.call(this, args);\n    _this.curTime = 0;\n    _this.isPaused = true;\n    return _this;\n  }\n  _createClass(DefinitionIcon2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var list = args.config.list;\n      if (Array.isArray(list) && list.length > 0) {\n        args.config.list = list.map(function(item) {\n          if (!item.text && item.name) {\n            item.text = item.name;\n          }\n          if (!item.text) {\n            item.text = item.definition;\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"afterCreate\", this).call(this);\n      this.on(\"resourceReady\", function(list) {\n        _this2.changeDefinitionList(list);\n      });\n      this.on(DEFINITION_CHANGE, function(data) {\n        _this2.renderItemList(_this2.config.list, data.to);\n      });\n      if (this.player.definitionList.length < 2) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"initDefinition\",\n    value: function initDefinition() {\n      var _this$config = this.config, list = _this$config.list, defaultDefinition = _this$config.defaultDefinition;\n      if (list.length > 0) {\n        var to = null;\n        list.map(function(item) {\n          if (item.definition === defaultDefinition) {\n            to = item;\n          }\n        });\n        if (!to) {\n          to = list[0];\n        }\n        this.changeDefinition(to);\n      }\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.list || [];\n      var to = arguments.length > 1 ? arguments[1] : void 0;\n      var targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n      if (to) {\n        list.forEach(function(item) {\n          item.selected = false;\n        });\n      }\n      var curIndex = 0;\n      var items = list.map(function(item, index) {\n        var showItem = _objectSpread2(_objectSpread2({}, item), {}, {\n          showText: _this3.getTextByLang(item) || item.definition,\n          selected: false\n        });\n        if (item.selected || item.definition && item.definition == targetDef) {\n          showItem.selected = true;\n          curIndex = index;\n        }\n        return showItem;\n      });\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeDefinitionList\",\n    value: function changeDefinitionList(list) {\n      if (!Array.isArray(list)) {\n        return;\n      }\n      this.config.list = list.map(function(item) {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n      this.renderItemList();\n      this.config.list.length < 2 ? this.hide() : this.show();\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      this.player.changeDefinition(to, from);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      var definitionList = this.player.definitionList;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"onItemClick\", this).apply(this, arguments);\n      this.emitUserAction(e, \"change_definition\", {\n        from: data.from,\n        to: data.to\n      });\n      for (var i = 0; i < definitionList.length; i++) {\n        if (data.to && definitionList[i].definition === data.to.definition) {\n          data.to.url = definitionList[i].url;\n        }\n        if (data.from && definitionList[i].definition === data.from.definition) {\n          data.from.url = definitionList[i].url;\n        }\n      }\n      this.player.changeDefinition(data.to, data.from);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"definition\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        list: [],\n        defaultDefinition: \"\",\n        disable: false,\n        hidePortrait: false,\n        className: \"xgplayer-definition\",\n        isShowIcon: true\n      });\n    }\n  }]);\n  return DefinitionIcon2;\n}(OptionsIcon);\nexport { DefinitionIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar PlaybackRate = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(PlaybackRate2, _OptionsIcon);\n  var _super = _createSuper(PlaybackRate2);\n  function PlaybackRate2(args) {\n    var _this;\n    _classCallCheck(this, PlaybackRate2);\n    _this = _super.call(this, args);\n    _this.curRate = 1;\n    return _this;\n  }\n  _createClass(PlaybackRate2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var playbackRate = args.player.config.playbackRate;\n      var list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n      if (Array.isArray(list)) {\n        args.config.list = list.map(function(item) {\n          if (typeof item === \"number\") {\n            item = {\n              rate: item,\n              text: \"\".concat(item, \"x\")\n            };\n          } else if (!item.text && item.rate) {\n            item.text = \"\".concat(item.rate, \"x\");\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"afterCreate\", this).call(this);\n      this.on(RATE_CHANGE, function() {\n        if (_this2.curValue === _this2.player.playbackRate) {\n          return;\n        }\n        _this2.renderItemList();\n      });\n      this.renderItemList();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length === 0) {\n        return;\n      }\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"onItemClick\", this).apply(this, arguments);\n      var target = e.delegateTarget;\n      var rate = Number(target.getAttribute(\"rate\"));\n      if (!rate || rate === this.curValue) {\n        return false;\n      }\n      var props = {\n        playbackRate: {\n          from: this.player.playbackRate,\n          to: rate\n        }\n      };\n      this.emitUserAction(e, \"change_rate\", {\n        props\n      });\n      this.curValue = rate;\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var playbackRate = this.player.playbackRate || 1;\n      this.curValue = playbackRate;\n      var curIndex = -1;\n      var items = this.config.list.map(function(item, index) {\n        var itemInfo = {\n          rate: item.rate\n        };\n        if (itemInfo.rate === playbackRate) {\n          itemInfo.selected = true;\n          curIndex = index;\n        }\n        itemInfo.showText = _this3.getTextByLang(item);\n        return itemInfo;\n      });\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      var _text = \"\";\n      if (!curItem || this.curIndex < 0) {\n        _text = \"\".concat(this.player.playbackRate, \"x\");\n      } else {\n        _text = this.getTextByLang(curItem, \"iconText\");\n      }\n      this.find(\".icon-text\").innerHTML = _text;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playbackRate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 4,\n        list: [2, 1.5, 1, 0.75, 0.5],\n        className: \"xgplayer-playbackrate\",\n        isShowIcon: true,\n        hidePortrait: false\n      });\n    }\n  }]);\n  return PlaybackRate2;\n}(OptionsIcon);\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Fullscreen from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nvar CssFullScreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(CssFullScreen2, _IconPlugin);\n  var _super = _createSuper(CssFullScreen2);\n  function CssFullScreen2() {\n    _classCallCheck(this, CssFullScreen2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CssFullScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.cssFullscreen === \"boolean\") {\n        args.config.disable = !args.player.config.cssFullscreen;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      if (this.config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      this.initIcons();\n      this.on(CSS_FULLSCREEN_CHANGE, function(isCssfullScreen) {\n        _this.animate(isCssfullScreen);\n      });\n      this.btnClick = this.btnClick.bind(this);\n      this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      var contentIcon = this.find(\".xgplayer-icon\");\n      contentIcon.appendChild(icons.cssFullscreen);\n      contentIcon.appendChild(icons.exitCssFullscreen);\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var isCssfullScreen = this.player.isCssfullScreen;\n      this.emitUserAction(e, \"switch_cssfullscreen\", {\n        cssfullscreen: isCssfullScreen\n      });\n      if (!isCssfullScreen) {\n        this.player.getCssFullscreen();\n      } else {\n        this.player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      if (!this.root) {\n        return;\n      }\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      this.switchTips(isFullScreen);\n    }\n  }, {\n    key: \"switchTips\",\n    value: function switchTips(isFullScreen) {\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        cssFullscreen: {\n          icon: CssFullSceenSvg,\n          class: \"xg-get-cssfull\"\n        },\n        exitCssFullscreen: {\n          icon: ExitCssFullSceenSvg,\n          class: \"xg-exit-cssfull\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    `.concat(xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"cssFullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        target: null\n      };\n    }\n  }]);\n  return CssFullScreen2;\n}(Fullscreen);\nexport { CssFullScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar ErrorPlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ErrorPlugin2, _Plugin);\n  var _super = _createSuper(ErrorPlugin2);\n  function ErrorPlugin2() {\n    _classCallCheck(this, ErrorPlugin2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ErrorPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.onError = this.hook(\"showError\", this.handleError);\n      this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n      this.on(ERROR, function(error) {\n        _this.onError(error);\n      });\n    }\n  }, {\n    key: \"errorRetry\",\n    value: function errorRetry(e) {\n      this.emitUserAction(e, \"error_retry\", {});\n      this.player.retry();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var error = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      var player = this.player;\n      var type = error.errorType;\n      var errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n      if (!errorNote) {\n        switch (type) {\n          case \"decoder\":\n            errorNote = this.i18n.MEDIA_ERR_DECODE;\n            break;\n          case \"network\":\n            errorNote = this.i18n.MEDIA_ERR_NETWORK;\n            break;\n          default:\n            errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n        }\n      }\n      this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n      this.find(\".xgplayer-error-tips\").innerHTML = \"\".concat(this.i18n.REFRESH_TIPS, '<span class=\"xgplayer-error-refresh\">').concat(this.i18n.REFRESH, \"</span>\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-error class=\"xgplayer-error\">\\n      <div class=\"xgplayer-errornote\">\\n       <span class=\"xgplayer-error-text\"></span>\\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\\n      </div>\\n    </xg-error>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"error\";\n    }\n  }]);\n  return ErrorPlugin2;\n}(Plugin);\nexport { ErrorPlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Prompt = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Prompt2, _Plugin);\n  var _super = _createSuper(Prompt2);\n  function Prompt2() {\n    _classCallCheck(this, Prompt2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Prompt2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.intervalId = 0;\n      this.customConfig = null;\n      this.bind(\".highlight\", [\"click\", \"touchend\"], function(e) {\n        if (_this.config.onClick || _this.customOnClick) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this.customOnClick ? _this.customOnClick(e) : _this.config.onClick(e);\n        }\n      });\n      this.player.showPrompt = function() {\n        _this.show.apply(_this, arguments);\n      };\n      this.player.hidePrompt = function() {\n        _this.hide();\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(detail) {\n      var _this3 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var onClick = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n      };\n      if (!detail) {\n        return;\n      }\n      this.customOnClick = onClick;\n      var interval = this.config.interval;\n      if (this.intervalId) {\n        clearTimeout(this.intervalId);\n        this.intervalId = null;\n      }\n      util.addClass(this.root, \"show\");\n      config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n      if (typeof detail === \"string\") {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n      } else {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = \"\".concat(detail.text || \"\") + \"\".concat(detail.highlight ? '<i class=\"highlight\">'.concat(detail.highlight, \"</i>\") : \"\");\n      }\n      config.style && this.setStyle(config.style);\n      var autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n      if (autoHide) {\n        var hideinterval = config.interval || interval;\n        this.intervalId = setTimeout(function() {\n          _this3.hide();\n        }, hideinterval);\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n      util.removeClass(this.root, \"arrow\");\n      this.root.removeAttribute(\"style\");\n      this.customOnClick = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-prompt class=\"xgplayer-prompt '.concat(STATE_CLASS.CONTROLS_FOLLOW, '\">\\n    <span class=\"xgplayer-prompt-detail\"></span>\\n    </xg-prompt>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"prompt\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        interval: 3e3,\n        style: {},\n        mode: \"arrow\",\n        autoHide: true,\n        detail: {\n          text: \"\",\n          highlight: \"\"\n        },\n        onClick: function onClick() {\n        }\n      };\n    }\n  }]);\n  return Prompt2;\n}(Plugin);\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map(function(key) {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nvar APIS = {\n  _updateDotDom: function _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots: function initDots() {\n    var _this = this;\n    this._ispots.map(function(item) {\n      _this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot: function createDot(iSpot) {\n    var isNew = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    var className = \"xgspot_\".concat(iSpot.id, \" xgplayer-spot\");\n    ret.isMini && (className += \" mini\");\n    var dotDom = util.createDom(\"xg-spot\", iSpot.template || \"\", {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n  },\n  findDot: function findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    var ret = this._ispots.filter(function(cur, index) {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot: function updateDot(iSpot) {\n    var needShow = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map(function(key) {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    var dotDom = progress.find('xg-spot[data-id=\"'.concat(iSpot.id, '\"]'));\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot: function deleteDot(id) {\n    var _ispots = this._ispots;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var del = [];\n    for (var i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    var len = del.length;\n    for (var _i = len - 1; _i >= 0; _i--) {\n      _ispots.splice(del[_i], 1);\n      if (this.ispotsInit) {\n        var dotDom = progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots: function deleteAllDots() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (var i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots: function updateAllDots() {\n    var _this2 = this;\n    var iSpots = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    var len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (var i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach(function(ispot, index) {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", \"\".concat(ispot.id));\n        _this2._ispots.push(ispot);\n        _this2.updateDot(ispot);\n      } else {\n        _this2.createDot(ispot);\n      }\n    });\n  },\n  updateDuration: function updateDuration() {\n    var _this3 = this;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var _ispots = this._ispots;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      _this3._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom: function getAllDotsDom() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return [];\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom: function getDotDom(id) {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    return progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n  }\n};\nfunction initDotsAPI(plugin) {\n  var config = plugin.config, player = plugin.player;\n  Object.keys(APIS).map(function(item) {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  var ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map(function(item) {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.on(DURATION_CHANGE, function() {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n}\nexport { initDotsAPI as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nvar CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMove\"\n};\nvar ProgressPreview = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ProgressPreview2, _Plugin);\n  var _super = _createSuper(ProgressPreview2);\n  function ProgressPreview2(args) {\n    var _this;\n    _classCallCheck(this, ProgressPreview2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMousemove\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && _this.config.isHideThumbnailHover) {\n        _this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMousedown\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseup\", function(e) {\n      if (!_this.isDrag) {\n        return;\n      }\n      var progress = _this.player.plugins.progress;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDotMouseLeave\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      _this._curDot.removeEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      _this.blurDot(e.target);\n      _this._curDot = null;\n      var progress = _this.player.plugins.progress;\n      progress && progress.enableBlur();\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onProgressMouseOver\", function(data, e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !_this._curDot) {\n        _this._curDot = e.target;\n        _this.focusDot(e.target);\n        if (_this._curDot.children.length > 0) {\n          _this.hide();\n        }\n        var progress = _this.player.plugins.progress;\n        progress && progress.disableBlur();\n        _this._curDot.addEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      }\n    });\n    _this._ispots = [];\n    _this.videoPreview = null;\n    _this.videothumbnail = null;\n    _this.thumbnail = null;\n    _this.timeStr = \"\";\n    _this._state = {\n      now: 0,\n      f: false\n    };\n    return _this;\n  }\n  _createClass(ProgressPreview2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._curDot = null;\n      this.handlerSpotClick = this.hook(\"spotClick\", function(_event, data) {\n        if (data.currentTime) {\n          _this2.player.seek(data.currentTime);\n        }\n      });\n      this.transformTimeHook = this.hook(\"transformTime\", function(time) {\n        _this2.setTimeContent(util.format(time));\n      });\n      initDotsAPI(this);\n      this.on(DURATION_CHANGE, function() {\n        _this2.show();\n      });\n      if (this.config.disable) {\n        this.disable();\n      }\n      this.extTextRoot = this.find(\".xg-spot-ext-text\");\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var player = this.player;\n      if (!player.plugins.progress) {\n        return;\n      }\n      this.previewLine = this.find(\".xg-spot-line\");\n      this.timePoint = this.find(\".xgplayer-progress-point\");\n      this.timeText = this.find(\".xg-spot-time\");\n      this.tipText = this.find(\".spot-inner-text\");\n      this._hasThumnail = false;\n      this.registerThumbnail();\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this4 = this;\n      var progress = this.player.plugins.progress;\n      if (!progress) {\n        return;\n      }\n      Object.keys(CALLBACK_MAP).map(function(key) {\n        _this4[CALLBACK_MAP[key]] = _this4[CALLBACK_MAP[key]].bind(_this4);\n        progress.addCallBack(key, _this4[CALLBACK_MAP[key]]);\n      });\n      if (sniffer.device === \"mobile\")\n        return;\n      this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      var fun = this.hook(\"previewClick\", function() {\n      });\n      this.handlerPreviewClick = function(e) {\n        e.stopPropagation();\n        fun(parseInt(_this4._state.now * 1e3, 10) / 1e3, e);\n      };\n      this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"onProgressMove\",\n    value: function onProgressMove(data, e) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n    }\n  }, {\n    key: \"onProgressDragStart\",\n    value: function onProgressDragStart(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = true;\n      this.videoPreview && util.addClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressDragEnd\",\n    value: function onProgressDragEnd(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = false;\n      this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressClick\",\n    value: function onProgressClick(data, e) {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\")) {\n        e.stopPropagation();\n        e.preventDefault();\n        [\"time\", \"id\", \"text\"].map(function(key) {\n          data[key] = e.target.getAttribute(\"data-\".concat(key));\n        });\n        data.time && (data.time = Number(data.time));\n        this.handlerSpotClick(e, data);\n      }\n    }\n  }, {\n    key: \"updateLinePos\",\n    value: function updateLinePos(offset, cwidth) {\n      var root = this.root, previewLine = this.previewLine, timePoint = this.timePoint, player = this.player, config = this.config;\n      var mode = player.controls.mode;\n      var isflex = mode === \"flex\";\n      var lwidth = root.getBoundingClientRect().width;\n      if (!lwidth) {\n        return;\n      }\n      var tWidth = timePoint.getBoundingClientRect().width;\n      lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n      var x = offset - lwidth / 2;\n      var _t, _tt;\n      if (x < 0 && !isflex) {\n        x = 0;\n        _t = offset - lwidth / 2;\n        !this.thumbnail && (_tt = offset - lwidth / 2 - tWidth / 2);\n      } else if (x > cwidth - lwidth && !isflex) {\n        _t = x - (cwidth - lwidth);\n        !this.thumbnail && (_tt = x - (cwidth - lwidth) - tWidth / 2);\n        x = cwidth - lwidth;\n      } else {\n        _t = 0;\n        !this.thumbnail && (_tt = -tWidth / 2);\n      }\n      _t !== void 0 && (previewLine.style.transform = \"translateX(\".concat(_t.toFixed(2), \"px)\"));\n      _tt !== void 0 && (timePoint.style.transform = \"translateX(\".concat(_tt.toFixed(2), \"px)\"));\n      root.style.transform = \"translateX(\".concat(x.toFixed(2), \"px) translateZ(0)\");\n    }\n  }, {\n    key: \"updateTimeText\",\n    value: function updateTimeText(timeStr) {\n      var timeText = this.timeText, timePoint = this.timePoint;\n      timeText.textContent = timeStr;\n      !this.thumbnail && (timePoint.textContent = timeStr);\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(offset, cwidth, time, e) {\n      var root = this.root, config = this.config, _state = this._state;\n      if (!root) {\n        return;\n      }\n      this.updateLinePos(offset, cwidth);\n      _state.now = time;\n      this.transformTimeHook(time);\n      var timeStr = this.timeStr;\n      if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n        this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n        this.focusDot(e.target);\n        _state.f = true;\n        config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n      } else if (config.defaultText) {\n        _state.f = false;\n        this.showTips(config.defaultText, true, timeStr);\n      } else {\n        _state.f = false;\n        this.hideTips(\"\");\n      }\n      this.updateTimeText(timeStr);\n      this.updateThumbnails(_state.now);\n    }\n  }, {\n    key: \"setTimeContent\",\n    value: function setTimeContent(str) {\n      this.timeStr = str;\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player, videoPreview = this.videoPreview, config = this.config;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n        var rect = videoPreview && videoPreview.getBoundingClientRect();\n        this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var thumbnailConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      if (sniffer.device === \"mobile\") {\n        return;\n      }\n      var player = this.player, config = this.config;\n      var thumbnail = player.getPlugin(\"thumbnail\");\n      if (thumbnail) {\n        thumbnail.setConfig(thumbnailConfig);\n      }\n      if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n        util.addClass(this.root, \"short-line no-thumbnail\");\n        return;\n      } else {\n        util.removeClass(this.root, \"short-line no-thumbnail\");\n      }\n      if (config.mode === \"short\") {\n        util.addClass(this.root, \"short-line\");\n      }\n      this._hasThumnail = true;\n      var tRoot = this.find(\".xg-spot-thumbnail\");\n      this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n      if (config.isShowCoverPreview) {\n        this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n        player.root.appendChild(this.videoPreview);\n        this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n      }\n      this.updateThumbnails(0);\n    }\n  }, {\n    key: \"calcuPosition\",\n    value: function calcuPosition(time, duration) {\n      var progress = this.player.plugins.progress;\n      var player = this.player;\n      var totalWidth = progress.root.getBoundingClientRect().width;\n      var widthPerSeconds = player.duration / totalWidth * 6;\n      if (time + duration > player.duration) {\n        duration = player.duration - time;\n      }\n      time / player.duration * 100;\n      duration / player.duration;\n      return {\n        left: time / player.duration * 100,\n        width: duration / player.duration * 100,\n        isMini: duration < widthPerSeconds\n      };\n    }\n  }, {\n    key: \"showDot\",\n    value: function showDot(id) {\n      var dot = this.findDot(id);\n      if (dot) {\n        var rect = this.root.getBoundingClientRect();\n        var width = rect.width;\n        var offset = dot.time / this.player.duration * width;\n        this.updatePosition(offset, width, dot.time);\n      }\n    }\n  }, {\n    key: \"focusDot\",\n    value: function focusDot(target, id) {\n      if (!target) {\n        return;\n      }\n      if (!id) {\n        id = target.getAttribute(\"data-id\");\n      }\n      util.addClass(target, \"active\");\n      this._activeDotId = id;\n    }\n  }, {\n    key: \"blurDot\",\n    value: function blurDot(target) {\n      if (!target) {\n        var id = this._activeDotId;\n        target = this.getDotDom(id);\n      }\n      if (!target) {\n        return;\n      }\n      util.removeClass(target, \"active\");\n      this._activeDotId = null;\n    }\n  }, {\n    key: \"showTips\",\n    value: function showTips(text, isDefault) {\n      var timeStr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      util.addClass(this.root, \"no-timepoint\");\n      if (!text) {\n        return;\n      }\n      util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n      if (isDefault && this.config.mode === \"production\") {\n        util.addClass(this.root, \"product\");\n        this.tipText.textContent = text;\n      } else {\n        util.removeClass(this.root, \"product\");\n        this.tipText.textContent = this._hasThumnail ? text : \"\".concat(timeStr, \" \").concat(text);\n      }\n    }\n  }, {\n    key: \"hideTips\",\n    value: function hideTips() {\n      util.removeClass(this.root, \"no-timepoint\");\n      this.tipText.textContent = \"\";\n      util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n      util.removeClass(this.root, \"product\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var config = this.config, playerConfig = this.playerConfig;\n      this.config.disable = false;\n      this.show();\n      if (!this.thumbnail && config.isShowThumbnail) {\n        this.registerThumbnail(playerConfig.thumbnail || {});\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      var progress = this.player.plugins.progress;\n      progress && Object.keys(CALLBACK_MAP).map(function(key) {\n        progress.removeCallBack(key, _this5[CALLBACK_MAP[key]]);\n      });\n      this.videothumbnail = null;\n      this.thumbnail = null;\n      this.videoPreview && this.player.root.removeChild(this.videoPreview);\n      this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n        return \"\";\n      }\n      return '<div class=\"xg-spot-info hide '.concat(this.config.mode === \"short\" ? \"short-line\" : \"\", '\">\\n      <div class=\"xg-spot-content\">\\n        <div class=\"xg-spot-thumbnail\">\\n          <span class=\"xg-spot-time\"></span>\\n        </div>\\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\\n      </div>\\n      <div class=\"xgplayer-progress-point\">00:00</div>\\n      <div class=\"xg-spot-ext-text\"></div>\\n      <div class=\"xg-spot-line\"></div>\\n    </div>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progresspreview\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        miniWidth: 6,\n        ispots: [],\n        defaultText: \"\",\n        isFocusDots: true,\n        isHideThumbnailHover: true,\n        isShowThumbnail: true,\n        isShowCoverPreview: false,\n        mode: \"\",\n        disable: false,\n        width: 160,\n        height: 90\n      };\n    }\n  }]);\n  return ProgressPreview2;\n}(Plugin);\nexport { ProgressPreview as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Thumbnail = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Thumbnail2, _BasePlugin);\n  var _super = _createSuper(Thumbnail2);\n  function Thumbnail2(args) {\n    var _this;\n    _classCallCheck(this, Thumbnail2);\n    _this = _super.call(this, args);\n    _this.ratio = 1;\n    _this.interval = null;\n    _this._preloadMark = {};\n    return _this;\n  }\n  _createClass(Thumbnail2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.usable) {\n        this.initThumbnail();\n      }\n      this.on([DURATION_CHANGE], function() {\n        var _this2$config = _this2.config, pic_num = _this2$config.pic_num, interval = _this2$config.interval;\n        _this2.usable && (_this2.interval = interval > 0 ? interval : Math.round(_this2.player.duration * 1e3 / pic_num) / 1e3);\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      var keys = Object.keys(config);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this3.config[key] = config[key];\n      });\n      this.usable && this.initThumbnail();\n    }\n  }, {\n    key: \"usable\",\n    get: function get() {\n      var _this$config = this.config, urls = _this$config.urls, pic_num = _this$config.pic_num;\n      return urls && urls.length > 0 && pic_num > 0;\n    }\n  }, {\n    key: \"initThumbnail\",\n    value: function initThumbnail() {\n      var _this$config2 = this.config, width = _this$config2.width, height = _this$config2.height, pic_num = _this$config2.pic_num, interval = _this$config2.interval;\n      this.ratio = width / height * 100;\n      this.interval = interval || Math.round(this.player.duration / pic_num);\n      this._preloadMark = {};\n    }\n  }, {\n    key: \"getUrlByIndex\",\n    value: function getUrlByIndex(index) {\n      return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      var _this4 = this;\n      if (this._preloadMark[index]) {\n        return;\n      }\n      var urls = this.config.urls;\n      var len = urls.length;\n      var arr = [];\n      index > 0 && arr.push(index - 1);\n      arr.push(index);\n      index > 0 && index < len - 1 && arr.push(index + 1);\n      arr.map(function(item) {\n        if (!_this4._preloadMark[item] && item >= 0 && item < len) {\n          _this4._preloadMark[item] = 1;\n          util.preloadImg(urls[item], function() {\n            _this4._preloadMark[item] = 2;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(now) {\n      var containerWidth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var containerHeight = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var _this$config3 = this.config, pic_num = _this$config3.pic_num, row = _this$config3.row, col = _this$config3.col, width = _this$config3.width, height = _this$config3.height;\n      this.interval = Math.round(this.player.duration / pic_num);\n      var index = Math.ceil(now / this.interval);\n      index = index > pic_num ? pic_num : index;\n      var urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n      var indexInPage = index - urlIndex * (col * row);\n      var rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n      var colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n      var swidth = 0;\n      var sHeight = 0;\n      if (containerWidth && containerHeight) {\n        var per = containerWidth / containerHeight;\n        if (per < width / height) {\n          sHeight = containerHeight;\n          swidth = sHeight * (width / height);\n        } else {\n          swidth = containerWidth;\n          sHeight = swidth / (width / height);\n        }\n      } else if (!containerHeight) {\n        swidth = containerWidth || width;\n        sHeight = swidth / (width / height);\n      } else if (!containerWidth) {\n        sHeight = containerHeight || height;\n        swidth = sHeight * (width / height);\n      }\n      var url = this.getUrlByIndex(urlIndex);\n      return {\n        urlIndex,\n        rowIndex,\n        colIndex,\n        url,\n        height: sHeight,\n        width: swidth,\n        style: {\n          backgroundImage: \"url(\".concat(url, \")\"),\n          backgroundSize: \"\".concat(swidth * col, \"px auto\"),\n          backgroundPosition: \"-\".concat(colIndex * swidth, \"px -\").concat(rowIndex * sHeight, \"px\"),\n          width: \"\".concat(swidth, \"px\"),\n          height: \"\".concat(sHeight, \"px\")\n        }\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(dom, now) {\n      var containerWidth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var containerHeight = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var customStyle = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n      var _this$config4 = this.config, pic_num = _this$config4.pic_num, urls = _this$config4.urls;\n      if (pic_num <= 0 || !urls || urls.length === 0) {\n        return;\n      }\n      var pos = this.getPosition(now, containerWidth, containerHeight);\n      this.preload(pos.urlIndex);\n      Object.keys(pos.style).map(function(key) {\n        dom.style[key] = pos.style[key];\n      });\n      Object.keys(customStyle).map(function(key) {\n        dom.style[key] = customStyle[key];\n      });\n    }\n  }, {\n    key: \"changeConfig\",\n    value: function changeConfig() {\n      var newConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      this.setConfig(newConfig);\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(root, className) {\n      var dom = util.createDom(\"xg-thumbnail\", \"\", {}, \"thumbnail \".concat(className));\n      root && root.appendChild(dom);\n      return dom;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"thumbnail\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShow: false,\n        urls: [],\n        pic_num: 0,\n        col: 0,\n        row: 0,\n        height: 90,\n        width: 160,\n        scale: 1,\n        className: \"\",\n        hidePortrait: false\n      };\n    }\n  }]);\n  return Thumbnail2;\n}(Plugin);\nexport { Thumbnail as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MiniProgress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniProgress2, _Plugin);\n  var _super = _createSuper(MiniProgress2);\n  function MiniProgress2() {\n    _classCallCheck(this, MiniProgress2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniProgress2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!duration || !this.root) {\n        return;\n      }\n      if (data.cached) {\n        this.find(\"xg-mini-progress-cache\").style.width = \"\".concat(data.cached / duration * 100, \"%\");\n      }\n      if (data.played) {\n        this.find(\"xg-mini-progress-played\").style.width = \"\".concat(data.played / duration * 100, \"%\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.playerConfig.progress || !this.playerConfig.miniprogress) {\n        return;\n      }\n      return '<xg-mini-progress class=\"xg-mini-progress\">\\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\"></xg-mini-progress-cache>\\n    <xg-mini-progress-played class=\"xg-mini-progress-played\"></xg-mini-progress-played>\\n    </xg-mini-progress>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"MiniProgress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return MiniProgress2;\n}(Plugin);\nexport { MiniProgress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { TIME_UPDATE, COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    var ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nvar isSupportCanvas = null;\nvar DynamicBg = /* @__PURE__ */ function(_Plugin) {\n  _inherits(DynamicBg2, _Plugin);\n  var _super = _createSuper(DynamicBg2);\n  function DynamicBg2() {\n    var _this;\n    _classCallCheck(this, DynamicBg2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onLoadedData\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      _this._frameCount = _this.config.startFrameCount;\n      _this.renderOnTimeupdate(e);\n      _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n      _this.on(TIME_UPDATE, _this.renderOnTimeupdate);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderOnTimeupdate\", function(e) {\n      if (_this._frameCount > 0) {\n        _this.renderOnce();\n        _this._frameCount--;\n      } else {\n        _this._isLoaded = true;\n        _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n        !_this.player.paused && _this._checkIfCanStart() && _this.start();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"start\", function() {\n      var video = _this.player.media;\n      var _now = nowTime();\n      var _sVideo = _this.checkVideoIsSupport(video);\n      if (!_sVideo || !_this.canvasCtx) {\n        return;\n      }\n      _this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        _this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (_this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        } else if (_now - _this.preTime >= _this.interval) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        }\n      }\n      _this.frameId = util.requestAnimationFrame(_this.start);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stop\", function() {\n      if (_this.frameId) {\n        util.cancelAnimationFrame(_this.frameId);\n        _this.frameId = null;\n      }\n    });\n    return _this;\n  }\n  _createClass(DynamicBg2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.playerConfig.dynamicBg === true) {\n        this.config.disable = false;\n      }\n      if (!DynamicBg2.isSupport) {\n        this.config.disable = true;\n      }\n      var _this$config = this.config, disable = _this$config.disable, mode = _this$config.mode, frameRate = _this$config.frameRate;\n      if (disable) {\n        return;\n      }\n      this._pos = {\n        width: 0,\n        height: 0,\n        rwidth: 0,\n        rheight: 0,\n        x: 0,\n        y: 0,\n        pi: 0\n      };\n      this.isStart = false;\n      this._isLoaded = false;\n      this.videoPI = 0;\n      this.preTime = 0;\n      this.interval = parseInt(1e3 / frameRate, 10);\n      this.canvas = null;\n      this.canvasCtx = null;\n      this._frameCount = 0;\n      this.once(COMPLETE, function() {\n        if (!_this2.player) {\n          return;\n        }\n        _this2.init();\n        if (!_this2.player.paused) {\n          _this2.start();\n        }\n      });\n      if (mode === MODES.POSTER) {\n        return;\n      }\n      if (mode !== MODES.FIRST_FRAME) {\n        this.on(EMPTIED, function() {\n          _this2.stop();\n        });\n        this.on(PLAY, function() {\n          _this2._checkIfCanStart() && _this2.start();\n        });\n        this.on(PAUSE, function() {\n          _this2.stop();\n        });\n      }\n      this.on(LOADED_DATA, this.onLoadedData);\n      this.on(LOAD_START, function() {\n        _this2._isLoaded = false;\n        _this2.stop();\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var player = this.player, config = this.config;\n      this.canvasFilter = DynamicBg2.supportCanvasFilter();\n      try {\n        var parent = !this.config.isInnerRender ? player.root : player.innerContainer || player.root;\n        parent.insertAdjacentHTML(\"afterbegin\", '<div class=\"xgplayer-dynamic-bg\"><canvas>\\n        </canvas><xgmask></xgmask></div>');\n        this.root = parent.children[0];\n        this.canvas = this.find(\"canvas\");\n        if (!this.canvasFilter) {\n          this.canvas.style.filter = config.filter;\n          this.canvas.style.webkitFilter = config.filter;\n        }\n        this.mask = this.find(\"xgmask\");\n        config.addMask && (this.mask.style.background = config.maskBg);\n        this.canvasCtx = this.canvas.getContext(\"2d\");\n        this.renderByPoster();\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"checkVideoIsSupport\",\n    value: function checkVideoIsSupport(video) {\n      if (!video) {\n        return null;\n      }\n      var _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n      if (_tVideo && !(sniffer.browser === \"safari\" && (/^blob/.test(_tVideo.currentSrc) || /^blob/.test(_tVideo.src)))) {\n        return _tVideo;\n      }\n      var _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n      if (_tagName === \"canvas\" || _tagName === \"img\") {\n        return _tVideo;\n      }\n      return null;\n    }\n  }, {\n    key: \"renderByPoster\",\n    value: function renderByPoster() {\n      var poster = this.playerConfig.poster;\n      if (poster) {\n        var url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n        this.updateImg(url);\n      }\n    }\n  }, {\n    key: \"_checkIfCanStart\",\n    value: function _checkIfCanStart() {\n      var mode = this.config.mode;\n      return this._isLoaded && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n    }\n  }, {\n    key: \"renderOnce\",\n    value: function renderOnce() {\n      var video = this.player.media;\n      if (!video.videoWidth || !video.videoHeight) {\n        return;\n      }\n      this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n      var _sVideo = this.checkVideoIsSupport(video);\n      _sVideo && video.videoWidth && this.update(_sVideo, this.videoPI);\n    }\n  }, {\n    key: \"updateImg\",\n    value: function updateImg(url) {\n      var _this3 = this;\n      if (!url) {\n        return;\n      }\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound.width, height = _this$canvas$getBound.height;\n      var image = new window.Image();\n      image.onload = function() {\n        if (!_this3.canvas || _this3.frameId || _this3.isStart) {\n          return;\n        }\n        _this3.canvas.height = height;\n        _this3.canvas.width = width;\n        var pi = parseInt(width / height * 100, 10);\n        _this3.update(image, pi);\n        image = null;\n      };\n      image.src = url;\n    }\n  }, {\n    key: \"update\",\n    value: function update(video, sourcePI) {\n      if (!this.canvas || !this.canvasCtx || !sourcePI) {\n        return;\n      }\n      try {\n        var _pos = this._pos, config = this.config;\n        var _this$canvas$getBound2 = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound2.width, height = _this$canvas$getBound2.height;\n        if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n          var pi = parseInt(width / height * 100, 10);\n          _pos.pi = sourcePI;\n          _pos.width = this.canvas.width = width;\n          _pos.height = this.canvas.height = height;\n          var rheight = height;\n          var rwidth = width;\n          if (pi < sourcePI) {\n            rwidth = parseInt(height * sourcePI / 100, 10);\n          } else if (pi > sourcePI) {\n            rheight = parseInt(width * 100 / sourcePI, 10);\n          }\n          _pos.rwidth = rwidth * config.multiple;\n          _pos.rheight = rheight * config.multiple;\n          _pos.x = (width - _pos.rwidth) / 2;\n          _pos.y = (height - _pos.rheight) / 2;\n        }\n        this.canvasFilter && (this.canvasCtx.filter = config.filter);\n        this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      this.canvasCtx = null;\n      this.canvas = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"dynamicBg\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isInnerRender: false,\n        disable: true,\n        mode: \"framerate\",\n        frameRate: 10,\n        filter: \"blur(50px)\",\n        startFrameCount: 2,\n        addMask: true,\n        multiple: 1.2,\n        maskBg: \"rgba(0,0,0,0.7)\"\n      };\n    }\n  }, {\n    key: \"isSupport\",\n    get: function get() {\n      if (typeof isSupportCanvas === \"boolean\") {\n        return isSupportCanvas;\n      }\n      isSupportCanvas = checkIsSupportCanvas();\n      return isSupportCanvas;\n    }\n  }, {\n    key: \"supportCanvasFilter\",\n    value: function supportCanvasFilter() {\n      return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n    }\n  }]);\n  return DynamicBg2;\n}(Plugin);\nexport { DynamicBg as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { USER_ACTION, STATS_EVENTS as STATS_EVENTS$1 } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar INFO = \"info\";\nvar STATS_EVENTS = STATS_EVENTS$1;\nvar Stats = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Stats2, _BasePlugin);\n  var _super = _createSuper(Stats2);\n  function Stats2() {\n    var _this;\n    _classCallCheck(this, Stats2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_recordUserActions\", function(actionData) {\n      var time = _this._getTime();\n      var payload = Object.assign({}, actionData, {\n        msg: actionData.msg || actionData.action\n      });\n      _this._stats[INFO].push(_objectSpread2(_objectSpread2({\n        type: \"userAction\"\n      }, time), {}, {\n        payload\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_recordInfo\", function(data) {\n      _this.info(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_downloadStats\", function() {\n      var stats = _this.getStats();\n      var blob = new Blob([JSON.stringify(stats)], {\n        type: \"application/json\"\n      });\n      var downloadUrl = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n    return _this;\n  }\n  _createClass(Stats2, [{\n    key: \"_getTime\",\n    value: function _getTime() {\n      return {\n        timestamp: Date.now(),\n        timeFormat: new Date().toISOString()\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.reset();\n      this.on(USER_ACTION, this._recordUserActions);\n      this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n      this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n      this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.offAll();\n    }\n  }, {\n    key: \"downloadStats\",\n    value: function downloadStats() {\n      this._downloadStats();\n    }\n  }, {\n    key: \"info\",\n    value: function info(data) {\n      if (data.profile) {\n        this._infoProfile(data);\n      } else {\n        this._info(data);\n      }\n    }\n  }, {\n    key: \"_info\",\n    value: function _info(data) {\n      var time = this._getTime();\n      this._stats[INFO].push(_objectSpread2(_objectSpread2({}, time), {}, {\n        payload: data\n      }));\n    }\n  }, {\n    key: \"_infoProfile\",\n    value: function _infoProfile(data) {\n      if (data && data.startMs) {\n        var endMs = Date.now();\n        var dur = endMs - data.startMs;\n        var profile = _objectSpread2({\n          cat: \"function\",\n          dur,\n          name: data.name || data.msg,\n          ph: \"X\",\n          pid: 0,\n          tid: 0,\n          ts: data.startMs,\n          profile: true\n        }, data);\n        this._info(profile);\n      } else {\n        console.warn(\"infoProfile need object data, include startMs\");\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$_stats;\n      this._stats = (_this$_stats = {}, _defineProperty(_this$_stats, INFO, []), _defineProperty(_this$_stats, \"media\", {}), _this$_stats);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var player = this.player;\n      var mediaElem = player.media;\n      var buffered = [];\n      for (var i = 0; i < mediaElem.buffered.length; i++) {\n        buffered.push({\n          start: mediaElem.buffered.start(i),\n          end: mediaElem.buffered.end(i)\n        });\n      }\n      var mediaInfo = {\n        currentTime: mediaElem.currentTime,\n        readyState: mediaElem.readyState,\n        buffered,\n        paused: mediaElem.paused,\n        ended: mediaElem.ended\n      };\n      this._stats.media = mediaInfo;\n      return {\n        raw: this._stats,\n        timestat: this._getTimeStats(),\n        profile: this._getProfile()\n      };\n    }\n  }, {\n    key: \"_getTimeStats\",\n    value: function _getTimeStats() {\n      var allStat = this._stats[INFO];\n      var msgs = allStat.map(function(stat) {\n        var data = stat.payload.data;\n        var msg = \"\";\n        try {\n          if (data instanceof Error) {\n            msg = data.msg;\n          } else if (data !== void 0) {\n            msg = JSON.stringify(data);\n          }\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n        return \"[\".concat(stat.timeFormat, \"] : \").concat(stat.payload.msg, \" \").concat(msg, \" \");\n      });\n      return msgs;\n    }\n  }, {\n    key: \"_getProfile\",\n    value: function _getProfile() {\n      var profile = {\n        traceEvents: []\n      };\n      var allStat = this._stats[INFO];\n      allStat.forEach(function(stat) {\n        if (stat.payload.profile) {\n          profile.traceEvents.push(stat.payload);\n        }\n      });\n      return profile;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"stats\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return Stats2;\n}(BasePlugin);\nexport { Stats as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar GapJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(GapJump2, _BasePlugin);\n  var _super = _createSuper(GapJump2);\n  function GapJump2() {\n    var _this;\n    _classCallCheck(this, GapJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onGapJump\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!_this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        _this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      var buffered = player.media.buffered;\n      var smallGapLimit = config.smallGapLimit || 0.5;\n      var gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      var currentTime = player.media.currentTime;\n      var idx = _this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      var jumpTo = buffered.start(idx) + 0.1;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      var jumpSize = jumpTo - currentTime;\n      var isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump2.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = _this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        _this.player && _this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(GapJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var useGapJump = this.config.useGapJump;\n      if (useGapJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.seekingEventReceived = false;\n      this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n      this.on(WAITING, this.onGapJump);\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n      this.on(SEEKING, function() {\n        _this2.seekingEventReceived = true;\n      });\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(buffered, time, threshold) {\n      if (!buffered || !buffered.length) {\n        return null;\n      }\n      if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n        return null;\n      }\n      var bufferedInfo = this._getBuffered(buffered);\n      var idx = null;\n      for (var i = 0; i < bufferedInfo.length; i++) {\n        var item = bufferedInfo[i];\n        if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n          idx = i;\n          break;\n        }\n      }\n      return idx;\n    }\n  }, {\n    key: \"_getBuffered\",\n    value: function _getBuffered(b) {\n      if (!b) {\n        return [];\n      }\n      var ret = [];\n      for (var i = 0; i < b.length; i++) {\n        ret.push({\n          start: b.start(i),\n          end: b.end(i)\n        });\n      }\n      return ret;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"gapJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useGapJump: false,\n        smallGapLimit: 0.5,\n        gapDetectionThreshold: 0.3\n      };\n    }\n  }]);\n  return GapJump2;\n}(Plugin);\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar WaitingTimeoutJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(WaitingTimeoutJump2, _BasePlugin);\n  var _super = _createSuper(WaitingTimeoutJump2);\n  function WaitingTimeoutJump2() {\n    var _this;\n    _classCallCheck(this, WaitingTimeoutJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onWaiting\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n      if (_this.jumpCnt > config.jumpCntMax || _this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      _this.timer = setTimeout(_this.onJump, config.waitingTime * 1e3);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onJump\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player, config = _assertThisInitialize2.config;\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (_this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      _this.jumpSize = config.jumpSize * (_this.jumpCnt + 1);\n      if (_this.jumpCnt === config.jumpSize && _this.jumpSize < 6) {\n        _this.jumpSize = 6;\n      }\n      var jumpTo = player.currentTime + _this.jumpSize;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      _this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n    return _this;\n  }\n  _createClass(WaitingTimeoutJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, useWaitingTimeoutJump = _this$config.useWaitingTimeoutJump, jumpSize = _this$config.jumpSize;\n      if (useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.jumpCnt = 0;\n      this.timer = null;\n      this.jumpSize = jumpSize;\n      this.on(WAITING, this.onWaiting);\n      this.on([PLAYING, CANPLAY], function() {\n        clearTimeout(_this2.timer);\n        _this2.timer = null;\n        _this2.jumpSize = _this2.config.jumpSize;\n      });\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"waitingTimeoutJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useWaitingTimeoutJump: false,\n        waitingTime: 15,\n        jumpSize: 2,\n        jumpCntMax: 4\n      };\n    }\n  }]);\n  return WaitingTimeoutJump2;\n}(Plugin);\nexport { WaitingTimeoutJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DOWNLOAD_SPEED_CHANGE, LOADED_DATA, REPLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar TestSpeed = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TestSpeed2, _BasePlugin);\n  var _super = _createSuper(TestSpeed2);\n  function TestSpeed2() {\n    var _this;\n    _classCallCheck(this, TestSpeed2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"getSpeed\", function(speedList) {\n      if (_this.speedListCache.length <= 0)\n        return 0;\n      var total = 0;\n      _this.speedListCache.map(function(item) {\n        total += item;\n      });\n      return Math.floor(total / _this.speedListCache.length);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onRealSpeedChange\", function(data) {\n      data.speed && _this.appendList(data.speed);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"testSpeed\", function() {\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (!_this.player || !_this.config.openSpeed)\n        return;\n      var _this$config = _this.config, url = _this$config.url, loadSize = _this$config.loadSize, testCnt = _this$config.testCnt, testTimeStep = _this$config.testTimeStep;\n      var testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (_this.cnt >= testCnt) {\n        return;\n      }\n      _this.cnt++;\n      try {\n        var start = new Date().getTime();\n        var end = null;\n        var xhr = new XMLHttpRequest();\n        _this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        var headers = {};\n        var random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            _this.xhr = null;\n            end = new Date().getTime();\n            var size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            var speed = Math.round(size * 1e3 / (end - start));\n            _this.appendList(speed);\n            _this.timer = setTimeout(_this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"appendList\", function(speed) {\n      var saveSpeedMax = _this.config.saveSpeedMax;\n      if (_this.speedListCache.length >= saveSpeedMax) {\n        _this.speedListCache.shift();\n      }\n      _this.speedListCache.push(speed);\n      _this.player && (_this.player.realTimeSpeed = speed);\n      _this.updateSpeed();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSpeed\", function() {\n      var speed = _this.getSpeed();\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      if (player && (!player.avgSpeed || speed !== player.avgSpeed)) {\n        player.avgSpeed = speed;\n        player.emit(DOWNLOAD_SPEED_CHANGE, {\n          speed,\n          realTimeSpeed: player.realTimeSpeed\n        });\n      }\n    });\n    return _this;\n  }\n  _createClass(TestSpeed2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.speedListCache = [];\n      var _this$config2 = this.config, openSpeed = _this$config2.openSpeed, testTimeStep = _this$config2.testTimeStep;\n      this.timer = null;\n      this.cnt = 0;\n      this.xhr = null;\n      if (!openSpeed) {\n        return;\n      }\n      this.on(\"real_time_speed\", this._onRealSpeedChange);\n      this.on([LOADED_DATA, REPLAY], function() {\n        if (util.isMSE(_this2.player.video)) {\n          return;\n        }\n        _this2.speedListCache = [];\n        _this2.cnt = 0;\n        _this2.timer = setTimeout(_this2.testSpeed, testTimeStep);\n      });\n    }\n  }, {\n    key: \"openSpeed\",\n    get: function get() {\n      return this.config.openSpeed;\n    },\n    set: function set(value) {\n      this.config.openSpeed = value;\n      if (!value && this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        return;\n      }\n      if (this.config.openSpeed) {\n        if (this.timer)\n          return;\n        this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.xhr && this.xhr.readyState !== 4) {\n        this.xhr.cancel();\n        this.xhr = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"testspeed\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        openSpeed: false,\n        testCnt: 3,\n        loadSize: 200 * 1024,\n        testTimeStep: 3e3,\n        url: \"\",\n        saveSpeedMax: 5\n      };\n    }\n  }]);\n  return TestSpeed2;\n}(Plugin);\nexport { TestSpeed as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar FpsDetect = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(FpsDetect2, _BasePlugin);\n  var _super = _createSuper(FpsDetect2);\n  function FpsDetect2() {\n    _classCallCheck(this, FpsDetect2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FpsDetect2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      var player = this.player, config = this.config;\n      this.timer = null;\n      this._lastDecodedFrames = 0;\n      this._currentStuckCount = 0;\n      this._lastCheckPoint = null;\n      if (config.disabled)\n        return;\n      var getVideoPlaybackQuality = player.media.getVideoPlaybackQuality;\n      if (!getVideoPlaybackQuality)\n        return;\n      this.on(PLAY, function() {\n        _this._startTick();\n      });\n      this.on(PAUSE, function() {\n        _this._stopTick();\n      });\n      this.on(ENDED, function() {\n        _this._stopTick();\n      });\n      this.on(EMPTIED, function() {\n        _this._stopTick();\n      });\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      var _this2 = this;\n      this._stopTick();\n      this._timer = setTimeout(function() {\n        _this2._checkDecodeFPS();\n        _this2._startTick();\n      }, this.config.tick);\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }, {\n    key: \"_checkStuck\",\n    value: function _checkStuck(curDecodedFrames) {\n      var media = this.player.media;\n      var hidden = document.hidden;\n      var paused = media.paused;\n      if (typeof hidden === \"boolean\" && !hidden && !paused) {\n        var curTime = media.currentTime;\n        var buffered = media.buffered;\n        var enoughBuffer = false;\n        for (var i = 0; i < buffered.length; i++) {\n          var start = buffered.start(i);\n          var end = buffered.end(i);\n          if (start <= curTime && curTime <= end - 1) {\n            enoughBuffer = true;\n            break;\n          }\n        }\n        if (media.readyState === 4 && enoughBuffer) {\n          if (this._currentStuckCount > this.config.stuckCount) {\n            this.emit(FPS_STUCK);\n            this._currentStuckCount = 0;\n          } else {\n            if (curDecodedFrames <= this.config.reportFrame) {\n              this._currentStuckCount++;\n            } else {\n              this._currentStuckCount = 0;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_checkDecodeFPS\",\n    value: function _checkDecodeFPS() {\n      if (!this.player.media) {\n        return;\n      }\n      var _this$player$media$ge = this.player.media.getVideoPlaybackQuality(), totalVideoFrames = _this$player$media$ge.totalVideoFrames;\n      var currTime = performance.now();\n      if (totalVideoFrames) {\n        if (this._lastCheckPoint) {\n          var curDecoded = totalVideoFrames - this._lastDecodedFrames;\n          this._checkStuck(curDecoded);\n        }\n      }\n      this._lastDecodedFrames = totalVideoFrames;\n      this._lastCheckPoint = currTime;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._stopTick();\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"FpsDetect\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disabled: false,\n        tick: 1e3,\n        stuckCount: 3,\n        reportFrame: 0\n      };\n    }\n  }]);\n  return FpsDetect2;\n}(Plugin);\nexport { FpsDetect as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport sniffer from \"../utils/sniffer.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nvar DefaultPreset = /* @__PURE__ */ _createClass(function DefaultPreset2(options, playerConfig) {\n  var _this$plugins, _this$plugins2, _this$plugins3;\n  _classCallCheck(this, DefaultPreset2);\n  var simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n  var isLive = playerConfig.isLive;\n  var vodPlugins = isLive ? [] : [Progress, MiniProgress, ProgressPreview, Time];\n  var contolsIcons = [].concat(vodPlugins, [Play, Fullscreen, Rotate, PlayNextIcon, DefinitionIcon, PlaybackRate, Download, ScreenShot, Volume, PIP]);\n  var layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n  this.plugins = [Stats, XGLogger].concat(_toConsumableArray(contolsIcons), layers, [GapJump, WaitingTimeoutJump]);\n  var mode = simulateMode ? \"mobile\" : sniffer.device;\n  switch (mode) {\n    case \"pc\":\n      (_this$plugins = this.plugins).push.apply(_this$plugins, [Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n      break;\n    case \"mobile\":\n      (_this$plugins2 = this.plugins).push.apply(_this$plugins2, [MobilePlugin]);\n      break;\n    default:\n      (_this$plugins3 = this.plugins).push.apply(_this$plugins3, [Keyboard, PCPlugin, CssFullScreen]);\n  }\n  if (sniffer.os.isIpad || mode === \"pc\") {\n    this.plugins.push(DynamicBg);\n  }\n  if (sniffer.os.isIpad) {\n    this.plugins.push(PCPlugin);\n  }\n  this.ignores = [];\n  this.i18n = [];\n});\nexport { DefaultPreset as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport DefaultPreset from \"./presets/default.js\";\nvar PresetPlayer = /* @__PURE__ */ function(_Player) {\n  _inherits(PresetPlayer2, _Player);\n  var _super = _createSuper(PresetPlayer2);\n  function PresetPlayer2() {\n    _classCallCheck(this, PresetPlayer2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(PresetPlayer2);\n}(Player);\n_defineProperty(PresetPlayer, \"defaultPreset\", DefaultPreset);\n_defineProperty(PresetPlayer, \"Util\", util);\n_defineProperty(PresetPlayer, \"Sniffer\", sniffer);\n_defineProperty(PresetPlayer, \"Errors\", Errors);\n_defineProperty(PresetPlayer, \"Events\", events);\n_defineProperty(PresetPlayer, \"Plugin\", Plugin);\n_defineProperty(PresetPlayer, \"BasePlugin\", BasePlugin);\n_defineProperty(PresetPlayer, \"I18N\", I18N);\n_defineProperty(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\nexport { PresetPlayer as default };\n","<script setup lang=\"ts\">\nimport { onMounted } from \"vue\";\nimport { deviceDetection } from \"@pureadmin/utils\";\nimport { useRenderIcon } from \"@/components/ReIcon/src/hooks\";\nimport VideoPlay from \"@iconify-icons/ep/video-play\";\n\nimport Player from \"xgplayer\";\nimport \"xgplayer/dist/index.min.css\";\n\ndefineOptions({\n  name: \"VideoPage\"\n});\n\nonMounted(() => {\n  new Player({\n    id: \"mse\",\n    lang: \"zh\",\n    // 默认静音\n    volume: 0,\n    autoplay: false,\n    screenShot: true,\n    videoAttributes: {\n      crossOrigin: \"anonymous\"\n    },\n    url: \"https://sf1-hscdn-tos.pstatp.com/obj/media-fe/xgplayer_doc_video/mp4/xgplayer-demo-720p.mp4\",\n    poster:\n      \"https://s2.pstatp.com/cdn/expire-1-M/byted-player-videos/1.0.0/poster.jpg\",\n    fluid: deviceDetection(),\n    //传入倍速可选数组\n    playbackRate: [0.5, 0.75, 1, 1.5, 2]\n  });\n});\n</script>\n\n<template>\n  <el-card shadow=\"never\">\n    <template #header>\n      <div class=\"card-header\">\n        <span class=\"font-medium\">\n          视频组件，采用开源的\n          <el-link\n            href=\"https://v3.h5player.bytedance.com/\"\n            target=\"_blank\"\n            :icon=\"useRenderIcon(VideoPlay)\"\n            style=\"margin: 0 4px 5px; font-size: 16px\"\n          >\n            西瓜播放器\n          </el-link>\n        </span>\n      </div>\n    </template>\n    <div id=\"mse\" />\n  </el-card>\n</template>\n\n<style scoped>\n#mse {\n  flex: auto;\n}\n</style>\n"],"names":["data","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread2","target","i","source","key","_defineProperty","_typeof","obj","obj2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","value","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o2","p","p2","_isNativeReflectConstruct","_assertThisInitialized","self","_possibleConstructorReturn","call","_createSuper","Derived","hasNativeReflectConstruct","Super","result","NewTarget","_superPropBase","property","_get","receiver","base","desc","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","minLen","n","len","arr2","_toPrimitive","input","hint","prim","res","arg","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","clearEvent","EventEmitter","names","events","name","handlers","l","ee","listeners","a1","a2","a3","a4","a5","args","length","j","module","XG_DEBUG_OPEN","STYLE","XGTAG","XG_DEBUG","message","_console","_len","optionalParams","_key","_console2","_len2","_key2","_console3","_fun","_len3","_key3","bindDebug","player","XgplayerTimeRange","XgplayerTimeRange2","bufferedList","index","util","el","tpl","attrs","cname","dom","item","html","classname","doc","err","className","orgClassName","reg","_arguments","_loop","i2","sel","e","str","pad","charstr","maxlen","chars","r","time","hour","minute","second","touch","dst","src","_dst$key","url","a","back","node","eventName","intervalFunc","frequency","fun","id","_timers","imgUrl","width","height","btn","w","h","unit","hex","alpha","rgb","sixHex","kw","display","val","text","styleArr","checkIsIn","list","_cssText","ret","remain","onload","onerror","img","vbuffered","maxHoleDuration","buffered","b","diff","buffered2","_i","buf2len","buf2end","zoom","callback","results","domain","frameId","video","did","d","uuid","c","duration","isEnded","root","isObject","type","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","invokeFunc","thisArg","startTimer","pendingFunc","wait2","cancelTimer","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","pending","debounced","isInvoking","throttle","getLang","lang","checkIsCurrentVideo","element","playerId","pid","VERSION_REG","H264_MIMETYPES","sniffer","ua","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","isIpad","_match","version","match","info","defaults","videoConfig","audioConfig","videoSupported","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","Errors2","errorInfo","ERROR_TYPES","mediaError","currentTime","ended","currentSrc","_player$media","readyState","networkState","_errc","_r","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","FPS_STUCK","emitVideoEvent","eventKey","getVideoEventHandler","_err","eData","_rate","MediaProxy","_EventEmitter","MediaProxy2","_super","_this","playerType","middlewares","_this2","_this3","_this4","media","funName","_this5","urls","_this6","_c","_eHandler","error","_e","k","range","isTrue","_buffered","status","rate","vol","_get2","_get3","_get4","_get5","_len4","_key4","INDEXDB","INDEXDB2","mydb","request","db","storename","store","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","args2","hook","hookName","preset","_preset$pre","_this$__hooks$hookNam","preRet","isContinue","useHooks","__hooks","removeHooks","usePluginHooks","pluginName","plugin","removePluginHooks","hooksDescriptor","presetHooks","delHooksDescriptor","runHooks","_len5","_key5","_obj$__hooks$hookName","showErrorMsg","msg","BasePlugin","BasePlugin2","_this$player","action","params","nParams","Obj","map","DOCUMENT_NODE_TYPE","proto","closest","selector","closest_1","require$$0","_delegate","useCapture","listenerFn","delegate","elements","delegate_1","ROOT_TYPES","POSITIONS","isUrl","mergeIconClass","icon","mergeIconAttr","attr","createIcon","newIcon","key2","registerIconsObj","iconsConfig","_icons","orgIcon","registerTextObj","textConfig","i18n","Plugin","_BasePlugin","Plugin2","_parent","_el","_orgicons","defaultTexConfig","renderStr","style","children","_plugin","config","_Plugin","checkChildren","langText","langKey","langTextShow","qs","querySelector","eventType","htmlStr","eventHandle","isBubble","cs","cssDisplayValue","pdom","child","_this7","parent","insertIdx","isDomElement","coordinate","mode","curIdx","capture","dels","ret2","ResizeObserver","ResizeObserver2","entries","_pid","__handlers","resizeObserver","addObserver","unObserver","pluginsManager","cgid","_keys","_p","PLUFGIN","plugins","playerConfig","_pConfig","lazyPlugin","timeout","resolve","reject","originalOptions","_instance","cName","retPromise","prevTask","pluginsRet","pName","_pList","isActive","_Object$keys","_isUseActive","STATE_CLASS","getDefaultConfig","usePreset","Preset","_player$config$plugin","_player$config$ignore","presetInst","_presetInst","_presetInst$plugins","_presetInst$ignores","ignores","_presetInst$icons","icons","_presetInst$i18n","_ci18n","Controls","Controls2","_assertThisInitialize","_assertThisInitialize2","_this$config","disable","isMini","isMobileSimulateMode","defaultConfig","position","_this$config2","autoHide","initShow","EN","XGI18nLang","deepMerge","_s","_t","updateKeys","extend","i18nTextList","i18nLangs","ext","lang2","keyLang","_i18nLangs","use","langData","_clang","texts","init","_ret$langKeys","I18N","STATES","STATE_ARRAY","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","Player","_MediaProxy","Player2","_config","autoplay","startTime","defaultPlaybackRate","isFullScreen","delayResize","fullEl","isVideo","_fullScreenOffset","defaultPreset","defaultIdx","rootInit","_this$config2$definit","definition","defaultDefinitionObj","XgVideoProxy","_nVideo","_root","controls","device","_this$config3","isInit","ignoresStr","cuPlugins","loadingPlugin","_retPlugin","exits","removedFromConfig","_this8","_this9","_src","curTime","isPaused","_canplay","_this10","playPromise","_this11","_this12","_this13","_this$config4","isSeekedPlay","seekedStatus","_status","_this14","_this$config5","to","from","_this15","_this16","NOT_ALLOW_AUTOPLAY","NO_START","PAUSED","REPLAY2","ENTER","ERROR2","LOADING","clsList","cls","_this17","unregisterPlugins","isResetConfig","pn","de","_this18","innerContainer","cList","_this19","_this20","cur","rootClass","pClassName","_class","_this$config$fullscre","fullscreen","useCssFullscreen","_this$config$fullscre2","deg","_this21","_ref","_ref$autoHide","_ref$delay","delay","_ref2","_ref2$ignorePaused","ignorePaused","closePauseVideoFocus","_this22","_this23","endType","_at","pos","rvH","_transform","_tx","_ty","_this24","_this25","_this26","_this$media","videoWidth","videoHeight","_this$config6","fitVideoSize","videoFillMode","containerSize","controlsHeight","videoFit","fit","rWidth","rHeight","_style","left","top","newState","bool","_this27","curDef","targetDef","_this27$curDefinition","_quality","_l","posterUrl","_accPlayed","isMuted","now","LOG_TYPES","XGLogger","XGLogger2","_state","autoplayStart","isFFSend","_this2$_state","isTimeUpdate","_this$_state","isFFLoading","_now","_cost","_fixedCost","waitTimeout","ReplaySvg","Replay","Replay2","path","transform","Poster","Poster2","poster","hideCanplay","PlaySvg","PauseSvg","AnimateMap","addAnimate","seconds","clearAnimation","Start","Start2","paused","isAnimate","endShow","Enter","Enter2","innerHtml","barStr","xgIconTips","textKey","isShow","MiniScreenIcon","MiniScreenIcon2","getStyleSize","num","isValid","measurements","measurementsLength","getZeroSize","size","measurement","getStyle","elem","getSize","isBorderBox","paddingWidth","paddingHeight","marginWidth","marginHeight","borderWidth","borderHeight","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","touches","dentifier","EVENTS","POST_START_EVENTS","Draggabilly","Draggabilly2","pointer","moveVector","_this$startPos","x","y","dragX","dragY","axis","drag","grid","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","MiniScreen2","scrollHeight","MOUSE_EVENTS","HOOKS","PCPlugin","PCPlugin2","_this$playerConfig","closePlayerBlur","leavePlayerTime","closeDelayBlur","_assertThisInitialize3","_assertThisInitialize4","enableContextmenu","_this$player2","TOUCHS","MOUSES","preventToucheDefault","Touche","Touche2","_pos","diffx","diffy","SeekTipIcon","ACTIONS","MobilePlugin","MobilePlugin2","touche","rect","_x","_y","miniMoveStep","hideControlsActive","scope","disableGesture","gestureX","player2","config2","_this2$pos","isStart","eventsMap","progressPlugin","thumbnail","timePreview","commonStyle","playedColor","progressColor","startPlugin","rotateDeg","mold","lastScope","percent","volume","xgMask","light","isForward","isLive","preventDefault","isDisableTag","tagName","Keyboard","Keyboard2","keyCode","extendkeyCodeMap","key1","seekStep","rec","bottom","code","isBodyTarget","flag","_time","cssfullscreen","curKeyCode","_this4$keyCodeMap$key","loadingIcon","Loading","Loading2","TPL","InnerList","InnerList2","start","fragments","progressList","newIndex","curIndex","millisecond","curPFrag","per","_data","newPIndex","_data2","playedIndex","cachedIndex","newCIndex","newOptions","_this$fragConfig","fragClass","fragFocusClass","inner","item2","FRAGMENT_FOCUS_CLASS","Progress","Progress2","_ePos","_assertThisInitialize5","_assertThisInitialize6","_assertThisInitialize7","_this$pos","isDown","isEnter","useable","fragAutoFocus","frags","sliderBtnStyle","progressBtn","handle","__dragCallBacks","_index","realTime","_this$root$getBoundin","rLeft","clientX","offset","timeIcon","notSeek","miniprogress","abs","_end","domEventType","controlsMode","Fullscreen","Fullscreen2","Play","_IconPlugin","Play2","i18nKeys","tipDom","BackSVG","TopBackIcon","TopBackIcon2","FullScreenSvg","ExitFullScreenSvg","tipsDom","e2","Fullscreen$1","Time","Time2","constrolsMode","current","center","updateState","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","Volume2","bar","barRect","_d","muted","$labelValue","isForce","isShowVolumeValue","RotateSvg","Rotate","Rotate2","innerRotate","_styles","_target","clockwise","times","factor","PipIcon","PipIconExit","PresentationMode","PIP","PIP2","reason","_isEnabled","Next","PlayNextIcon","PlayNextIcon2","factory","this","download","strFileName","strMimeType","defaultMime","mimeType","payload","anchor","toString","myBlob","fileName","blob","reader","ajax","dataUrlToBlob","saver","tempUiArr","mx","strUrl","parts","decoder","binData","uiArr","winMode","f","DownloadSvg","Download","Download2","downloadUtil","div","ScreenShot","ScreenShot2","filename","saveLink","canvas","canvasCtx","option","quality","mediaRatio","canvasRatio","sx","sy","sw","sh","dx","dy","dw","dh","OptionList","OptionList2","changeCallback","curSelected","LIST_TYPES","IS_MOBILE","OptionsIcon","OptionsIcon2","_isIcons","listType","isItemClickHide","curItem","itemList","optionsList","DefinitionIcon","_OptionsIcon","DefinitionIcon2","defaultDefinition","items","showItem","definitionList","PlaybackRate","PlaybackRate2","playbackRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","CssFullScreen2","isCssfullScreen","contentIcon","ErrorPlugin","ErrorPlugin2","errorNote","Prompt","Prompt2","detail","onClick","interval","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","dotDom","isNew","progress","needShow","dot","_ispots","del","dotDoms","iSpots","ispot","initDotsAPI","ispots","CALLBACK_MAP","ProgressPreview","ProgressPreview2","_event","cwidth","previewLine","timePoint","isflex","lwidth","tWidth","_tt","timeStr","timeText","videoPreview","thumbnailConfig","tRoot","totalWidth","widthPerSeconds","isDefault","Thumbnail","Thumbnail2","_this2$config","pic_num","containerWidth","containerHeight","row","col","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","customStyle","newConfig","MiniProgress","MiniProgress2","MODES","nowTime","checkIsSupportCanvas","ctx","isSupportCanvas","DynamicBg","DynamicBg2","_sVideo","frameRate","_tVideo","_tagName","_this$canvas$getBound","image","pi","sourcePI","_this$canvas$getBound2","rheight","rwidth","ZH","INFO","STATS_EVENTS$1","Stats","Stats2","actionData","stats","downloadUrl","link","endMs","dur","profile","_this$_stats","mediaElem","mediaInfo","allStat","msgs","stat","GapJump","GapJump2","smallGapLimit","gapDetectionThreshold","idx","jumpTo","seekEnd","jumpSize","isGapSmall","useGapJump","threshold","bufferedInfo","WaitingTimeoutJump","WaitingTimeoutJump2","useWaitingTimeoutJump","TestSpeed","TestSpeed2","speedList","total","loadSize","testCnt","testTimeStep","testSpeedUrl","end","xhr","headers","random","speed","saveSpeedMax","openSpeed","FpsDetect","FpsDetect2","getVideoPlaybackQuality","curDecodedFrames","hidden","enoughBuffer","_this$player$media$ge","totalVideoFrames","currTime","curDecoded","DefaultPreset","DefaultPreset2","_this$plugins","_this$plugins2","_this$plugins3","simulateMode","vodPlugins","contolsIcons","layers","PresetPlayer","_Player","PresetPlayer2","onMounted","deviceDetection"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93]}