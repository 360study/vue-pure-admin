import{M as O,N as b,O as E,Q as A,l as k,R as _,T as R}from"./index-9893edff.js";function h(t){var r;const e=b(t);return(r=e==null?void 0:e.$el)!=null?r:e}const y=_?window:void 0,I=_?window.document:void 0;function w(...t){let r,e,n,l;if(typeof t[0]=="string"||Array.isArray(t[0])?([e,n,l]=t,r=y):[r,e,n,l]=t,!r)return O;Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);const f=[],s=()=>{f.forEach(d=>d()),f.length=0},u=(d,p,i,a)=>(d.addEventListener(p,i,a),()=>d.removeEventListener(p,i,a)),c=VueDemi.watch(()=>[h(r),b(l)],([d,p])=>{s(),d&&f.push(...e.flatMap(i=>n.map(a=>u(d,i,a,p))))},{immediate:!0,flush:"post"}),v=()=>{c(),s()};return E(v),v}let D=!1;function $(t,r,e={}){const{window:n=y,ignore:l=[],capture:f=!0,detectIframe:s=!1}=e;if(!n)return;A&&!D&&(D=!0,Array.from(n.document.body.children).forEach(i=>i.addEventListener("click",O)));let u=!0;const c=i=>l.some(a=>{if(typeof a=="string")return Array.from(n.document.querySelectorAll(a)).some(m=>m===i.target||i.composedPath().includes(m));{const m=h(a);return m&&(i.target===m||i.composedPath().includes(m))}}),d=[w(n,"click",i=>{const a=h(t);if(!(!a||a===i.target||i.composedPath().includes(a))){if(i.detail===0&&(u=!c(i)),!u){u=!0;return}r(i)}},{passive:!0,capture:f}),w(n,"pointerdown",i=>{const a=h(t);a&&(u=!i.composedPath().includes(a)&&!c(i))},{passive:!0}),s&&w(n,"blur",i=>{var a;const m=h(t);((a=n.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&r(i)})].filter(Boolean);return()=>d.forEach(i=>i())}function L(t){return typeof t=="function"?t:typeof t=="string"?r=>r.key===t:Array.isArray(t)?r=>t.includes(r.key):()=>!0}function j(...t){let r,e,n={};t.length===3?(r=t[0],e=t[1],n=t[2]):t.length===2?typeof t[1]=="object"?(r=!0,e=t[0],n=t[1]):(r=t[0],e=t[1]):(r=!0,e=t[0]);const{target:l=y,eventName:f="keydown",passive:s=!1,dedupe:u=!1}=n,c=L(r);return w(l,f,d=>{d.repeat&&b(u)||c(d)&&e(d)},s)}function H(t,r=null){const e=VueDemi.getCurrentInstance();let n=()=>{};const l=VueDemi.customRef((f,s)=>(n=s,{get(){var u,c;return f(),(c=(u=e==null?void 0:e.proxy)==null?void 0:u.$refs[t])!=null?c:r},set(){}}));return k(n),VueDemi.onUpdated(n),l}function x(){const t=VueDemi.ref(!1);return VueDemi.getCurrentInstance()&&VueDemi.onMounted(()=>{t.value=!0}),t}function S(t){const r=x();return VueDemi.computed(()=>(r.value,!!t()))}function z(t,r={}){const{window:e=y}=r,n=S(()=>e&&"matchMedia"in e&&typeof e.matchMedia=="function");let l;const f=VueDemi.ref(!1),s=()=>{l&&("removeEventListener"in l?l.removeEventListener("change",u):l.removeListener(u))},u=()=>{n.value&&(s(),l=e.matchMedia(R(t).value),f.value=!!(l!=null&&l.matches),l&&("addEventListener"in l?l.addEventListener("change",u):l.addListener(u)))};return VueDemi.watchEffect(u),E(()=>s()),f}var F=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,q=(t,r)=>{var e={};for(var n in t)C.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&F)for(var n of F(t))r.indexOf(n)<0&&P.call(t,n)&&(e[n]=t[n]);return e};function B(t,r,e={}){const n=e,{window:l=y}=n,f=q(n,["window"]);let s;const u=S(()=>l&&"ResizeObserver"in l),c=()=>{s&&(s.disconnect(),s=void 0)},v=VueDemi.computed(()=>Array.isArray(t)?t.map(i=>h(i)):[h(t)]),d=VueDemi.watch(v,i=>{if(c(),u.value&&l){s=new ResizeObserver(r);for(const a of i)a&&s.observe(a,f)}},{immediate:!0,flush:"post",deep:!0}),p=()=>{c(),d()};return E(p),{isSupported:u,stop:p}}const V=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function N(t,r={}){const{document:e=I,autoExit:n=!1}=r,l=VueDemi.computed(()=>{var o;return(o=h(t))!=null?o:e==null?void 0:e.querySelector("html")}),f=VueDemi.ref(!1),s=VueDemi.computed(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(o=>e&&o in e||l.value&&o in l.value)),u=VueDemi.computed(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(o=>e&&o in e||l.value&&o in l.value)),c=VueDemi.computed(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(o=>e&&o in e||l.value&&o in l.value)),v=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(o=>e&&o in e),d=S(()=>l.value&&e&&s.value!==void 0&&u.value!==void 0&&c.value!==void 0),p=()=>v?(e==null?void 0:e[v])===l.value:!1,i=()=>{if(c.value){if(e&&e[c.value]!=null)return e[c.value];{const o=l.value;if((o==null?void 0:o[c.value])!=null)return!!o[c.value]}}return!1};async function a(){if(d.value){if(u.value)if((e==null?void 0:e[u.value])!=null)await e[u.value]();else{const o=l.value;(o==null?void 0:o[u.value])!=null&&await o[u.value]()}f.value=!1}}async function m(){if(!d.value)return;i()&&await a();const o=l.value;s.value&&(o==null?void 0:o[s.value])!=null&&(await o[s.value](),f.value=!0)}async function M(){await(f.value?a():m())}const g=()=>{const o=i();(!o||o&&p())&&(f.value=o)};return w(e,V,g,!1),w(()=>h(l),V,g,!1),n&&E(a),{isSupported:d,isFullscreen:f,enter:m,exit:a,toggle:M}}function Q(t={}){const{window:r=y,initialWidth:e=1/0,initialHeight:n=1/0,listenOrientation:l=!0,includeScrollbar:f=!0}=t,s=VueDemi.ref(e),u=VueDemi.ref(n),c=()=>{r&&(f?(s.value=r.innerWidth,u.value=r.innerHeight):(s.value=r.document.documentElement.clientWidth,u.value=r.document.documentElement.clientHeight))};if(c(),k(c),w("resize",c,{passive:!0}),l){const v=z("(orientation: portrait)");VueDemi.watch(v,()=>c())}return{width:s,height:u}}export{N as a,B as b,$ as c,Q as d,j as o,H as t,w as u};
